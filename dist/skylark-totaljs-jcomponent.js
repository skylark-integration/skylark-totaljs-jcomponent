/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-totaljs-jcomponent/
 * @license MIT
 */
!function(t,e){var n=e.define,require=e.require,r="function"==typeof n&&n.amd,i=!r&&"undefined"!=typeof exports;if(!r&&!n){var a={};n=e.define=function(t,e,n){"function"==typeof n?(a[t]={factory:n,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var n=e.split("/"),r=t.split("/");n.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?n.pop():n.push(r[i]));return n.join("/")}(e,t)}),resolved:!1,exports:null},require(t)):a[t]={factory:null,resolved:!0,exports:n}},require=e.require=function(t){if(!a.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=a[t];if(!module.resolved){var n=[];module.deps.forEach(function(t){n.push(require(t))}),module.exports=module.factory.apply(e,n)||null,module.resolved=!0}return module.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-totaljs-jcomponent/utils/query",["skylark-domx-query"],function(t){return t}),t("skylark-totaljs-jcomponent/jc",["skylark-langx/skylark","skylark-langx/langx","./utils/query"],function(t,e,n){var r=t.attach("intg.totaljs.jc",{});return r.version=16.044,r.$version="",r.$language="",r.prototypes=function(t){var e={};return e.Component=PPC,e.Usage=USAGE.prototype,e.Plugin=Plugin.prototype,t.call(e,e),r},r}),t("skylark-totaljs-jcomponent/langx/localCompare",[],function(){var t=window.Intl?window.Intl.Collator().compare:function(t,e){return t.localeCompare(e)};return t}),t("skylark-totaljs-jcomponent/langx/regexp",[],function(){var t={int:/(-|\+)?[0-9]+/,float:/(-|\+)?[0-9.,]+/,date:/yyyy|yy|MMMM|MMM|MM|M|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|a|ww|w/g,pluralize:/#{1,}/g,format:/\{\d+\}/g};return t}),t("skylark-totaljs-jcomponent/langx/now",[],function(){var t=new Date;return function(e){return void 0!==e&&(t="boolean"==typeof e?new Date:e),t}}),t("skylark-totaljs-jcomponent/langx/statics",[],function(){return{}}),t("skylark-totaljs-jcomponent/langx/ArrayEx",["skylark-langx/langx","./localCompare","./regexp"],function(t,e,n){var r=Array.prototype;function i(t,e,n,r,i){i.pending--,t.wait(e,n,r,i)}r.wait=r.waitFor=function(e,n,r,a){var s=this,o=!1;a||(t.isFunction(n)||(r=n,n=null),(a={}).pending=0,a.index=0,a.thread=r,o=!0);var l=!0===r?s.shift():s[a.index++];if(void 0===l)return a.pending||(n&&n(),a.cancel=!0),s;if(a.pending++,e.call(s,l,function(){setTimeout(i,1,s,e,n,r,a)},a.index),!o||1===a.thread)return s;for(var u=1;u<a.thread;u++)s.wait(e,n,1,a);return s},r.limit=function(t,e,n,r){void 0===r&&(r=0);for(var i=[],a=this,s=r+t,o=r;o<s;o++){var l=a[o];if(void 0===l)return i.length?(e(i,function(){n&&n()},r,r+t),a):(n&&n(),a);i.push(l)}return i.length?(e(i,function(){s<a.length?a.limit(t,e,n,s):n&&n()},r,r+t),a):(n&&n(),a)},r.async=function(e,n){if(t.isFunction(e)){var r=n;n=e,e=r}e||(e={});var i=this,a=0,s=function(){var t=i[a++];if(!t)return n&&n.call(e);t.call(e,s,a-1)};return s(),this},r.take=function(t){for(var e=[],n=this.length,r=0;r<n;r++)if(e.push(this[r]),e.length>=t)return e;return e},r.skip=function(t){for(var e=[],n=this.length,r=0;r<n;r++)r>=t&&e.push(this[r]);return e},r.takeskip=function(t,e){for(var n=[],r=this.length,i=0;i<r;i++)if(!(i<e)){if(n.length>=t)return n;n.push(this[i])}return n},r.trim=function(e){for(var n=[],r=0,i=this.length;r<i;r++)t.isString(this[r])&&(this[r]=this[r].trim()),(e||this[r])&&n.push(this[r]);return n},r.findIndex=function(e,n){for(var r=t.isFunction(e),i=void 0!==n,a=0,s=this.length;a<s;a++)if(r){if(e.call(this,this[a],a))return a}else if(i){if(this[a][e]===n)return a}else if(this[a]===e)return a;return-1},r.findAll=function(e,n){for(var r=t.isFunction(e),i=void 0!==n,a=[],s=0,o=this.length;s<o;s++)r?e.call(this,this[s],s)&&a.push(this[s]):i?this[s][e]===n&&a.push(this[s]):this[s]===e&&a.push(this[s]);return a},r.findItem=function(t,e){var n=this.findIndex(t,e);if(-1!==n)return this[n]},r.remove=function(e,n){for(var r=[],i=t.isFunction(e),a=void 0!==n,s=0,o=this.length;s<o;s++)i?!e.call(this,this[s],s)&&r.push(this[s]):a?this[s][e]!==n&&r.push(this[s]):this[s]!==e&&r.push(this[s]);return r},r.last=function(t){var e=this[this.length-1];return void 0===e?t:e},r.quicksort=function(t,n,r){var i=this.length;if(!i||1===i)return this;switch("boolean"==typeof t&&(n=t,t=void 0),null==n||"asc"===n?n=!0:"desc"===n&&(n=!1),r){case"date":r=4;break;case"string":r=1;break;case"number":r=2;break;case"bool":case"boolean":r=3;break;default:r=0}if(!r)for(var a=0;!r;){var s=this[a++];if(void 0===s)return this;switch(t&&(s=s[t]),typeof s){case"string":r=s.isJSONDate()?4:1;break;case"number":r=2;break;case"boolean":r=3;break;default:s instanceof Date&&(r=4)}}return this.sort(function(i,a){var s=t?i[t]:i,o=t?a[t]:a;if(null==s)return n?-1:1;if(null==o)return n?1:-1;if(1===r)return s&&o?n?e(s,o):e(o,s):0;if(2===r)return s>o?n?1:-1:s<o?n?-1:1:0;if(3===r)return!0===s&&!1===o?n?1:-1:!1===s&&!0===o?n?-1:1:0;if(4===r){if(!s||!o)return 0;s.getTime||(s=new Date(s)),o.getTime||(o=new Date(o));var l=s.getTime(),u=o.getTime();return l>u?n?1:-1:l<u?n?-1:1:0}return 0}),this},r.attr=function(t,e){if(2===arguments.length){if(null==e)return this}else void 0===e&&(e=t.toString());return this.push(t+'="'+e.toString().env().toString().replace(/[<>&"]/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;"}return t})+'"'),this},r.scalar=function(e,n,r){for(var i=r,a=!1,s="avg"===e||"average"===e,o="distinct"===e,l=0,u=this.length;l<u;l++){var c=n?this[l][n]:this[l];if(t.isString(c)&&(c=c.parseFloat()),c instanceof Date&&(a=!0,c=c.getTime()),o)i||(i=[]),-1===i.indexOf(c)&&i.push(c);else if("median"!==e)if("sum"===e||s)i?i+=c:i=c;else switch("range"!==e?i||(i=c):i||((i=new Array(2))[0]=c,i[1]=c),e){case"range":i[0]=Math.min(i[0],c),i[1]=Math.max(i[1],c);break;case"min":i=Math.min(i,c);break;case"max":i=Math.max(i,c)}else i||(i=[]),i.push(c)}if(o)return i;if(s)return i/=this.length,a?new Date(i):i;if("median"===e){i||(i=[0]),i.sort(function(t,e){return t-e});var f=Math.floor(i.length/2);i=i.length%2?i[f]:(i[f-1]+i[f])/2}if(a){if(t.isNumber(i))return new Date(i);i[0]=new Date(i[0]),i[1]=new Date(i[1])}return i}}),t("skylark-totaljs-jcomponent/langx/DateEx",["skylark-langx/langx","./regexp","./statics"],function(t,e,n){Date.months="January,February,March,April,May,June,July,August,September,October,November,December".split(","),Date.days="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",");var r={dateformat:null};window.$jcdatempam=function(t){return t>=12?t-12:t};var i=Date.prototype;i.toNumber=function(t){return+this.format(t||"yyyyMMdd")},i.parseDate=function(){return this},i.add=function(e,n){if(void 0===n){var r=e.split(" ");e=r[1],n=parseInt(r[0])}t.isString(n)&&(n=n.env());var i=new Date(this.getTime());switch(e.substring(0,3)){case"s":case"ss":case"sec":return i.setSeconds(i.getSeconds()+n),i;case"m":case"mm":case"min":return i.setMinutes(i.getMinutes()+n),i;case"h":case"hh":case"hou":return i.setHours(i.getHours()+n),i;case"d":case"dd":case"day":return i.setDate(i.getDate()+n),i;case"w":case"ww":case"wee":return i.setDate(i.getDate()+7*n),i;case"M":case"MM":case"mon":return i.setMonth(i.getMonth()+n),i;case"y":case"yy":case"yyy":case"yea":return i.setFullYear(i.getFullYear()+n),i}return i},i.toUTC=function(t){var e=this.getTime()+6e4*this.getTimezoneOffset();return t?e:new Date(e)},i.format=function(t,i){var a=i?this.toUTC():this;if(null==t&&(t=r.dateformat),!t)return a.getFullYear()+"-"+(a.getMonth()+1).toString().padLeft(2,"0")+"-"+a.getDate().toString().padLeft(2,"0")+"T"+a.getHours().toString().padLeft(2,"0")+":"+a.getMinutes().toString().padLeft(2,"0")+":"+a.getSeconds().toString().padLeft(2,"0")+"."+a.getMilliseconds().toString().padLeft(3,"0")+"Z";var s="dt_"+t;if(n[s])return n[s](a);var o=!1;(t=t.env())&&"!"===t.substring(0,1)&&(o=!0,t=t.substring(1));var l="'+",u="+'",c=[],f=!1,h=!1,d=!1;return t=t.replace(e.date,function(t){switch(t){case"yyyy":return"'+d.getFullYear()+'";case"yy":return"'+d.getFullYear().toString().substring(2)+'";case"MMM":return f=!0,"'+mm.substring(0, 3)+'";case"MMMM":return f=!0,"'+mm+'";case"MM":return"'+(d.getMonth() + 1).padLeft(2, '0')+'";case"M":return"'+(d.getMonth() + 1)+'";case"ddd":return h=!0,"'+dd.substring(0, 2).toUpperCase()+'";case"dddd":return h=!0,"'+dd+'";case"dd":return"'+d.getDate().padLeft(2, '0')+'";case"d":return"'+d.getDate()+'";case"HH":case"hh":return l+(o?"window.$jcdatempam(d.getHours()).padLeft(2, '0')":"d.getHours().padLeft(2, '0')")+u;case"H":case"h":return l+(o?"window.$jcdatempam(d.getHours())":"d.getHours()")+u;case"mm":return"'+d.getMinutes().padLeft(2, '0')+'";case"m":return"'+d.getMinutes()+'";case"ss":return"'+d.getSeconds().padLeft(2, '0')+'";case"s":return"'+d.getSeconds()+'";case"w":case"ww":return d=!0,l+("ww"===t?"ww.padLeft(2, '0')":"ww")+u;case"a":return"'+(d.getHours() >= 12 ? 'PM':'AM')+'"}}),f&&c.push("var mm = M.months[d.getMonth()];"),h&&c.push("var dd = M.days[d.getDay()];"),d&&c.push("var ww = new Date(+d);ww.setHours(0, 0, 0);ww.setDate(ww.getDate() + 4 - (ww.getDay() || 7));ww = Math.ceil((((ww - new Date(ww.getFullYear(), 0, 1)) / 8.64e7) + 1) / 7);"),n[s]=new Function("d",c.join("\n")+"return '"+t+"';"),n[s](a)}}),t("skylark-totaljs-jcomponent/langx/NumberEx",["./regexp"],function(t){var e=Number.prototype;e.pluralize=function(e,n,r,i){e instanceof Array&&(n=e[1],r=e[2],i=e[3],e=e[0]);var a=this,s="";return-1===(s=0==a?e||"":1==a?n||"":a>1&&a<5?r||"":i).indexOf("#")?s:s.replace(t.pluralize,function(t){return"##"===t?a.format():a.toString()})},e.format=function(t,e,n){var r=this.toString(),i="",a="",s="-"===r.substring(0,1)?"-":"";s&&(r=r.substring(1));var o,l=r.indexOf(".");"string"==typeof t&&("["===t.substring(0,1)?(o=ENV(t.substring(1,t.length-1)))&&(t=o.decimals,o.separator&&(e=o.separator),o.decimalseparator&&(n=o.decimalseparator)):(o=e,e=t,t=o));void 0===e&&(e=" "),-1!==l&&(i=r.substring(l+1),r=r.substring(0,l)),l=-1;for(var u=r.length-1;u>=0;u--)++l>0&&l%3==0&&(a=e+a),a=r[u]+a;return(t||i.length)&&(i=i.length>t?i.substring(0,t||0):i.padRight(t||0,"0")),i.length&&void 0===n&&(n=MD.decimalseparator),s+a+(i.length?n+i:"")},e.padLeft=function(t,e){return this.toString().padLeft(t,e||"0")},e.padRight=function(t,e){return this.toString().padRight(t,e||"0")},e.async=function(t,e){var n=this;return n>=0?t(n,function(){setTimeout(function(){(n-1).async(t,e)},1)}):e&&e(),n},e.add=e.inc=function(t,e){if(null==t)return this;if("number"==typeof t)return this+t;var n=t.charCodeAt(0),r=!1;(n<48||n>57)&&(r=!0,t=t.substring(1));var i,a=t.length;if("%"===t[a-1]){if(t=t.substring(0,a-1),r){var s=t.parseFloat();switch(n){case 42:i=this*(this/100*s);break;case 43:i=this+this/100*s;break;case 45:i=this-this/100*s;break;case 47:i=this/(this/100*s)}return void 0!==e?i.floor(e):i}return i=this/100*t.parseFloat(),void 0!==e?i.floor(e):i}switch(i=t.parseFloat(),n){case 42:i*=this;break;case 43:i=this+i;break;case 45:i=this-i;break;case 47:i=this/i;break;default:i=this}return void 0!==e?i.floor(e):i},e.floor=function(t){return Math.floor(this*Math.pow(10,t))/Math.pow(10,t)},e.parseDate=function(t){return new Date(this+(t||0))}}),t("skylark-totaljs-jcomponent/langx/StringEx",["skylark-langx/langx","./regexp","./now"],function(t,e,n){var r={root:""},i=/\.\*/,a=/\s/g,s=/[^a-zA-Zá-žÁ-Žа-яА-Я\d\s:]/g,o={225:"a",228:"a",269:"c",271:"d",233:"e",283:"e",357:"t",382:"z",250:"u",367:"u",252:"u",369:"u",237:"i",239:"i",244:"o",243:"o",246:"o",353:"s",318:"l",314:"l",253:"y",255:"y",263:"c",345:"r",341:"r",328:"n",337:"o"},l={url:/^(https?:\/\/(?:www\.|(?!www))[^\s.#!:?+=&@!$'~*,;/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?|www\.[^\s#!:.?+=&@!$'~*,;/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?)/i,phone:/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,email:/^[a-zA-Z0-9-_.+]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i},u=String.prototype;u.trimAll=function(){return this.replace(a,"")},u.ROOT=function(e){var n=this,i=r.root,a=r.baseurl,s=/(https|http|wss|ws|file):\/\/|\/\/[a-z0-9]|[a-z]:/i;return i?n=t.isFunction(i)?i(n):s.test(n)?n:i+n:!e&&a&&(n=t.isFunction(a)?a(n):s.test(n)?n:a+n),n.replace(/[^:]\/{2,}/,function(t){return t.substring(0,1)+"/"})},u.replaceWildcard=function(){return this.replace(i,"")},u.parseConfig=u.$config=function(t,e){var n;switch(typeof t){case"function":e=t,n={};break;case"string":n=t.parseConfig();break;case"object":n=null!=t?t:{};break;default:n={}}for(var r=this.env().replace(/\\;/g,"\0").split(";"),i=/^(-)?[0-9.]+$/,a=/(https|http|wss|ws):\/\//gi,s=0,o=r.length;s<o;s++){var l=r[s].replace(/\0/g,";").replace(/\\:/g,"\0").replace(a,function(t){return t.replace(/:/g,"\0")}),u=l.split(":"),c=u.length;if(2===c){var f=u[0].trim(),h=u[1].trim().replace(/\0/g,":").env();if("true"===h||"false"===h)h="true"===h;else if(i.test(h)){var d=+h;isNaN(d)||(h=d)}n[f]=h,e&&e(f,h)}}return n},u.render=function(t,e){return Tangular.render(this,t,e)},u.isJSONDate=function(){var t=this,e=t.length-1;return e>18&&e<30&&90===t.charCodeAt(e)&&84===t.charCodeAt(10)&&45===t.charCodeAt(4)&&58===t.charCodeAt(13)&&58===t.charCodeAt(16)},u.parseExpire=function(){var t=this.split(" "),e=parseInt(t[0]);if(isNaN(e))return 0;switch(t[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*e;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*e;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*e;case"days":case"day":case"DD":case"dd":case"d":return 864e5*e;case"months":case"month":case"MM":case"M":return 24192e5*e;case"weeks":case"week":case"W":case"w":return 6048e5*e;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*e;default:return 0}},u.removeDiacritics=function(){for(var t="",e=0,n=this.length;e<n;e++){var r=this[e],i=r.charCodeAt(0),a=!1,s=o[i];void 0===s&&(i=r.toLowerCase().charCodeAt(0),s=o[i],a=!0),void 0!==s?(r=s,t+=a?r.toUpperCase():r):t+=r}return t},u.toSearch=function(){for(var t=this.replace(s,"").trim().toLowerCase().removeDiacritics(),e=[],n="",r=0,i=t.length;r<i;r++){var a=t.substring(r,r+1);"y"===a&&(a="i"),a!==n&&(n=a,e.push(a))}return e.join("")},u.slug=function(t){t=t||60;for(var e=this.trim().toLowerCase().removeDiacritics(),n="",r=e.length,i=0;i<r;i++){var a=e.substring(i,i+1),s=e.charCodeAt(i);if(n.length>=t)break;s>31&&s<48?"-"!==n.substring(n.length-1,n.length)&&(n+="-"):s>47&&s<58?n+=a:s>94&&s<123&&(n+=a)}var o=n.length-1;return"-"===n[o]?n.substring(0,o):n},u.isEmail=function(){return!(this.length<=4)&&l.email.test(this)},u.isPhone=function(){return!(this.length<6)&&l.phone.test(this)},u.isURL=function(){return!(this.length<=7)&&l.url.test(this)},u.parseInt=function(t){var n=this.trim(),r=n.match(e.int);return r?(r=+r[0],isNaN(r)?t||0:r):t||0},u.parseFloat=function(t){var n=this.trim(),r=n.match(e.float);return r?(-1!==(r=r[0]).indexOf(",")&&(r=r.replace(",",".")),r=+r,isNaN(r)?t||0:r):t||0},u.padLeft=function(t,e){var n=this.toString();return Array(Math.max(0,t-n.length+1)).join(e||" ")+n},u.padRight=function(t,e){var n=this.toString();return n+Array(Math.max(0,t-n.length+1)).join(e||" ")},u.format=function(){var t=arguments;return this.replace(e.format,function(e){var n=t[+e.substring(1,e.length-1)];return null==n?"":n instanceof Array?n.join(""):n})},u.parseDate=function(){var t=this.trim();if(!t)return null;var e=t.charCodeAt(t.length-1);if(41===e)return new Date(t);if(90===e)return new Date(Date.parse(t));var r=-1===t.indexOf(" ")?t.split("T"):t.split(" "),i=r[0].indexOf(":"),a=r[0].length;if(-1!==i){var s=r[1];r[1]=r[0],r[0]=s}void 0===r[0]&&(r[0]="");for(var o=void 0===r[1]||0===r[1].length,l=0;l<a;l++){var u=r[0].charCodeAt(l);if(!(u>47&&u<58||45===u||46===u)&&o)return new Date(t)}void 0===r[1]&&(r[1]="00:00:00");var c=-1===r[0].indexOf("-"),f=(r[0]||"").split(c?".":"-"),h=(r[1]||"").split(":"),d=[];if(f.length<4&&h.length<2)return new Date(t);-1!==(i=(h[2]||"").indexOf("."))?(h[3]=h[2].substring(i+1),h[2]=h[2].substring(0,i)):h[3]="0",d.push(+f[c?2:0]),d.push(+f[1]),d.push(+f[c?0:2]),d.push(+h[0]),d.push(+h[1]),d.push(+h[2]),d.push(+h[3]);for(var p=n(!0),l=0,a=d.length;l<a;l++){isNaN(d[l])&&(d[l]=0);var v=d[l];if(0===v)switch(l){case 0:v<=0&&(d[l]=p.getFullYear());break;case 1:v<=0&&(d[l]=p.getMonth()+1);break;case 2:v<=0&&(d[l]=p.getDate())}}return new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])}}),t("skylark-totaljs-jcomponent/langx",["skylark-langx/langx","./jc","./langx/localCompare","./langx/regexp","./langx/now","./langx/statics","./langx/ArrayEx","./langx/DateEx","./langx/NumberEx","./langx/StringEx"],function(t,e,n,r,i,a){var s={},o={jsoncompress:!1,jsondate:!0};function l(t,e){var n=typeof t;switch(n){case"number":case"boolean":return t;case"string":return e?t:l(get(t),!0)}return null==t?t:t instanceof Date?new Date(t.getTime()):u(JSON.stringify(t))}function u(e,n){var r=e.substring(0,1);if("#"===r||"."===r)return u($(e).html(),n);void 0===n&&(n=o.jsondate);try{return JSON.parse(e,function(e,r){return t.isString(r)&&n&&r.isJSONDate()?new Date(r):r})}catch(t){return null}}function c(t,e,n){void 0===e&&(e=o.jsoncompress);var r=typeof n;return JSON.stringify(t,function(t,i){if(!t)return i;if(n)if(n instanceof Array){if(-1===n.indexOf(t))return}else if(langx.isFunction(r)){if(!n(t,i))return}else if(!1===n[t])return;if(!0===e){if(langx.isString(i))return(i=i.trim())||void 0;if(!1===i||null==i)return}return i})}var f={array:[],object:{},fn:function(){}},h={};return Object.freeze&&(Object.freeze(f.array),Object.freeze(f.object)),e.langx={each:t.each,Evented:t.Evented,extend:t.extend,hoster:t.hoster,isFunction:t.isFunction,isNumber:t.isNumber,isObject:t.isObject,isPlainObject:t.isPlainObject,isString:t.isString,klass:t.klass,mixin:t.mixin,result:t.result,topic:t.topic,Xhr:t.Xhr,async:function t(e,n,r){var i=e.shift();if(null==i)return r&&r();n(i,function(){t(e,n,r)})},clearTimeout2:function(t){var e=":"+t;if(a[e])return clearTimeout(a[e]),a[e]=void 0,a[e+":limit"]&&(a[e+":limit"]=void 0),!0;return!1},clone:l,copy:function(t,e){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],a=t[i],s=typeof a;e[i]=s===TYPE_O&&a?l(a):a}return e},empties:f,Evented:t.Evented,guid:function(t){t||(t=10);for(var e=1+(t/10>>0),n=[],r=0;r<e;r++)n.push(Math.random().toString(36).substring(2));return n.join("").substring(0,t)},hashCode:function(t){if(!t)return 0;var e=typeof t;if("number"===e)return t;if("boolean"===e)return t?1:0;if(t instanceof Date)return t.getTime();"object"===e&&(t=c(t));var n,r,i=0;if(!t.length)return i;var a=t.length;for(n=0;n<a;n++)r=t.charCodeAt(n),i=(i<<5)-i+r,i|=0;return i},localCompare:n,now:i,parse:u,regexp:r,result:t.result,setTimeout2:function(t,e,n,r,i){var s=":"+t;if(r>0){var o=s+":limit";if(a[o]>=r)return;return a[o]=(a[o]||0)+1,a[s]&&clearTimeout(a[s]),a[s]=setTimeout(function(t){a[o]=void 0,e&&e(t)},n,i)}return a[s]&&clearTimeout(a[s]),a[s]=setTimeout(e,n,i)},singleton:function(t,e){return h[t]||(h[t]=new Function("return "+(e||"{}"))())},stringify:c,statics:a,wait:function(t,e,n,r){var i=(1e4*Math.random()>>0).toString(16),a=r>0?i+"_timeout":0;if("number"==typeof e){var o=n;n=e,e=o}var l="string"==typeof t,u=!1;if(l){var c=get(t);c&&(u=!0)}else t()&&(u=!0);if(u)return void e(null,function(i){setTimeout(function(){WAIT(t,e,n,r)},i||1)});a&&(s[a]=setTimeout(function(){clearInterval(s[i]),delete s[a],delete s[i],e(new Error("Timeout."))},r));s[i]=setInterval(function(){if(l){var r=get(t);if(null==r)return}else if(!t())return;clearInterval(s[i]),delete s[i],a&&(clearTimeout(s[a]),delete s[a]),e&&e(null,function(r){setTimeout(function(){WAIT(t,e,n)},r||1)})},n||500)}}}),t("skylark-totaljs-jcomponent/plugins/_registry",[],function(){return{}}),t("skylark-totaljs-jcomponent/plugins/Plugin",["../utils/query","./_registry"],function(t,e){function n(t,n){/\W/.test(t)&&warn("Plugin name must contain A-Z chars only."),e[t]&&e[t].$remove(!0);var r=this;r.id="plug"+t,r.name=t,e[t]=r,n.call(r,r)}return n.prototype.$remove=function(){return!this.element||(this.element=null,delete e[this.name],!0)},n}),t("skylark-totaljs-jcomponent/plugins",["./utils/query","./jc","./plugins/_registry","./plugins/Plugin"],function(t,e,n,r){return e.plugins={Plugin:r,plugin:function(t,e){return e?new r(t,e):n[t]},find:function(t){return n[t]}}}),t("skylark-totaljs-jcomponent/utils/localStorage",["../langx"],function(t){var e="jc.";return{clear:function(){for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);0==r.indexOf(e)&&t.push(r)}for(var n=0;n<t.length;n++)localStorage.removeItem(t[n])},get:function(n){var r=localStorage.getItem(e+n);r&&t.isString(r)&&(r=t.parse(r));return r},remove:function(t){localStorage.removeItem(e+t)},set:function(t,n){return localStorage.setItem(e+t,JSON.stringify(n)),this}}}),t("skylark-totaljs-jcomponent/utils/storage",["../langx","./localStorage"],function(t,e){var n={};function r(){e.setItem("cache",n)}function i(t,e,n){return void 0!==e?i.set(t,e,n):i.get(t)}function r(){e.set("cache",n)}return i.get=function(e,r){var i,a=!r||"session"==r,s=!r||"session"!=r;if(a&&(i=session[e]),void 0===i&&s){var o=n[e];o&&o.expire>t.now()&&(i=o.value)}return i},i.set=function(e,i,a){if(!a||"session"===a)return session[e]=i,this;t.isString(a)&&(a=a.parseExpire());var s=Date.now();return n[e]={expire:s+a,value:i},r(),this},i.remove=function(t,e){if(e)for(var i in n)-1!==i.indexOf(t)&&delete n[t];else delete n[t];return r(),this},i.clean=function(){for(var t in n){var e=n[t];(!e.expire||e.expire<=now)&&delete n[t]}return r(),this},i.clear=function(){var t=e.removeItem,n=$localstorage;return t(n),t(n+".cache"),t(n+".blocked"),this},i.getSessionData=function(t){return session[t]},i.setSessionData=function(t,e){return session[t]=e,this},i.clearSessionData=function(){if(arguments.length)for(var e=t.keys(page),n=0,r=e.length;n<r;n++){for(var i=e[n],a=!1,s=arguments,o=0;o<s.length;o++)if(i.substring(0,s[o].length)===s[o]){a=!0;break}a&&delete session[i]}else session={}},i.getStorageData=function(t){return session[t]},i.setStorageData=function(t,e){return session[t]=e,this},i.clearStorageData=function(){if(arguments.length)for(var e=t.keys(page),n=0,i=e.length;n<i;n++){for(var a=e[n],s=!1,o=arguments,l=0;l<o.length;l++)if(a.substring(0,o[l].length)===o[l]){s=!0;break}s&&delete session[a]}else session={};r()},i.load=function(){var r;if(clearTimeout($ready),MD.localstorage)try{(r=e.getItem(M.$localstorage+".cache"))&&t.isString(r)&&(n=t.parse(r))}catch(t){}if(n){var i=n.$jcpath;i&&Object.keys(i.value).forEach(function(t){immSetx(t,i.value[t],!0)})}M.loaded=!0},i}),t("skylark-totaljs-jcomponent/utils/http",["../jc","../langx","skylark-net-http/Xhr","./storage"],function(t,e,n,r){var i=e.statics,a={},s={};function o(t,e){e.url=t;var r=n.request(e.url,e);return(r=r.then(function(){e.success&&e.success.apply(this,arguments)},function(){e.error&&e.error.apply(this,arguments)})).success=r.done,r.error=r.fail,r.complete=r.always,r}function l(t){var e={};return t.split("\n").forEach(function(t){var n=t.indexOf(":");-1!==n&&(e[t.substring(0,n).toLowerCase()]=t.substring(n+1).trim())}),e}function u(t,n,i,a,s){i&&!i.version&&M.$version&&(i.version=M.$version),i&&!i.language&&M.$language&&(i.language=M.$language),i=e.stringify(i);var o=e.hashCode(t+"#"+n.replace(/\//g,"")+i).toString();return r.set(o,a,s)}function c(t,e){var n=[];encodeURIComponent;if(!n.length)return t;var r=t.indexOf("?");return(t+=-1==r?"?":"&")+n.join("&")}function f(t,n,r,a,s,o){var l,u=(t=t.$env().replace(/<.*?>/,function(t){return l=t.substring(1,t.length-1).trim(),""}).trim()).substring(0,1),f="once "===t.substring(0,5).toLowerCase();if(e.isFunction(r)?(e.isFunction(a)?(o=a,s=!0):e.isFunction(s)&&(o=s,s=!0),a=r,r="body"):e.isFunction(s)&&(o=s,s=!0),l){var p="()"===l.substring(l.length-2);p&&(l=l.substring(0,l.length-2));var v=GET(l);if(p&&e.isFunction(v)){if(v())return void(a&&a(0))}else if(v)return void(a&&a(0))}"//"===t.substring(0,2)&&(t=location.protocol+t);var m=t.lastIndexOf(" ."),g="";if(-1!==m&&(g=t.substring(m).trim().toLowerCase(),t=t.substring(0,m).trim()),"!"===u||f){if(t=f?t.substring(5):t.substring(1),i[t])return a&&(2===i[t]?a(0):e.wait(function(){return 2===i[t]},function(){a(0)})),W;i[t]=1}if(r&&r.setPath&&(r=r.element),r||(r="body"),!g)if(-1!==(m=t.lastIndexOf("?"))){var b=t.lastIndexOf(".",m);-1!==b&&(g=t.substring(b,m).toLowerCase())}else-1!==(m=t.lastIndexOf("."))&&(g=t.substring(m).toLowerCase());var y=document;if(".js"===g){var k=y.createElement("script");return k.type="text/javascript",k.async=!1,k.onload=function(){i[t]=2,a&&a(1),setTimeout(compile,300)},k.src=c(t,!0),y.getElementsByTagName("head")[0].appendChild(k),topic.emit("import",t,$(k)),this}if(".css"===g){var x=y.createElement("link");return x.type="text/css",x.rel="stylesheet",x.href=c(t,!0),y.getElementsByTagName("head")[0].appendChild(x),i[t]=2,a&&setTimeout(a,200,1),topic.emit("import",t,$(x)),this}return e.wait(function(){return!!W.jQuery},function(){i[t]=2;var l="import"+e.hashCode(t),u=function(n,i,u){if(n){t="$import"+t,o&&(n=o(n,u));var c=REGCOM.test(n);n=importscripts(importstyles(n,l)).trim(),r=$(r),n&&(!1===s?r.html(n):r.append(n)),setTimeout(function(){c&&compile(),a&&e.wait(function(){return 0==C.is},function(){a(1)}),topic.emit("import",t,r)},10)}else a&&a(0)};n?d("GET "+t,null,u,n):h("GET "+t,u)}),W}function h(t,n,r,i){e.isFunction(t)&&(i=r,r=n,n=t,t=location.pathname);var u,f=typeof n,h=EMPTYARRAY;r||"function"!==f&&"string"!==f||(i=r,r=n,n=void 0);var d=t.indexOf(" ");if(-1===d)return W;var p=!1;t=t.replace(/\srepeat/i,function(){return p=!0,""}),p&&(h=[t,n,r,i]);var v=t.substring(0,d).toUpperCase(),m="!"===v.substring(0,1);m&&(v=v.substring(1));var g={};return(u=t.match(/\{.*?\}/g))&&(t=t.replace(u,"").replace(/\s{2,}/g," "),u=new Function("return "+u)(),e.isObject(u)&&(g=u)),t=t.substring(d).trim().$env(),setTimeout(function(){if("GET"===v&&n){var i=e.isString(n)?n:jQuery.param(n,!0);i&&(t+="?"+i)}var u={};u.method=v,u.converters=s.jsonconverter,"GET"!==v&&(e.isString(n)?u.data=n:(u.contentType="application/json; charset=utf-8",u.data=STRINGIFY(n))),u.headers=e.extend(g,s.headers),t.match(/http:\/\/|https:\/\//i)?(u.crossDomain=!0,delete u.headers["X-Requested-With"],m&&(u.xhrFields={withCredentials:!0})):t=t.ROOT();var f=t.match(/\([a-z0-9\-.,]+\)/i);if(f){t=t.replace(f,"").replace(/\s+/g,""),u.url=t,f=f.toString().replace(/\(|\)/g,"").split(",");for(var d=0;d<f.length;d++){var b=a[f[d].trim()];b&&b(u)}}if(u.url||(u.url=t),!u.cancel){u.type=u.method,delete u.method;var y={};y.url=u.url,y.process=!0,y.error=!1,y.upload=!1,y.method=v,y.data=n,delete u.url,u.success=function(t,e,n){y.response=t,y.status=n.status||999,y.text=e,y.headers=l(n.getAllResponseHeaders()),y.process&&!y.cancel&&r&&r.call(y,y.response,void 0,y)},u.error=function(t,n){var i=t.status;if(!p||i&&408!==i&&502!==i&&503!==i&&504!==i&&509!==i){y.response=t.responseText,y.status=i||999,y.text=n,y.error=!0,y.headers=l(t.getAllResponseHeaders());var a=y.headers["content-type"];if(a&&-1!==a.indexOf("/json"))try{y.response=PARSE(y.response,s.jsondate)}catch(t){}!y.cancel&&y.process&&(s.ajaxerrors?r&&r.call(y,y.response,y.status,y):e.isFunction(r)&&r.call(y,y.response,y.status,y))}else setTimeout(function(){h[0]+=" REPEAT",W.AJAX.apply(M,h)},s.delayrepeat)},o(c(y.url),u)}},i||0),this}function d(t,n,r,i,a,s,o){(e.isFunction(n)||e.isString(n)&&e.isString(r)&&!e.isString(i))&&(s=a,a=i,i=r,r=n,n=null),e.isBoolean(a)&&(s=!0===a,a=0);var l=t.indexOf(" ");if(-1===l)return W;var c=t.substring(0,l).toUpperCase(),f=t.substring(l).trim().$env();return setTimeout(function(){var e=s?void 0:u(c,f,n,void 0,i);if(void 0===e)h(t,n,function(t,e){e&&(t=e),u(c,f,n,t,i),r(t,!1)});else{var a=o?STRINGIFY(e):null;if(r(e,!0),!o)return;h(t,n,function(t,e){e&&(t=e),a!==STRINGIFY(t)&&(u(c,f,n,t,i),r(t,!1,!0))})}},a||1),this}return s.ajaxerrors=!1,s.pingdata={},s.baseurl="",s.makeurl=null,s.delayrepeat=2e3,s.jsondate=!0,s.jsonconverter={"text json":function(t){return PARSE(t)}},s.headers={"X-Requested-With":"XMLHttpRequest"},t.http={defaults:s,ajax:h,ajaxCache:d,ajaxCacheReview:function(t,e,n,r,i,a){return d(t,e,n,r,i,a,!0)},configure:function(t,e){return a[t]=e,this},import:function(t,n,r,i,a){t instanceof Array?(e.isFunction(n)&&(a=i,i=r,r=n,n=null),t.wait(function(t,e){f(t,null,n,e,i,a)},function(){r&&r()})):f(t,null,n,r,i,a);return this},importCache:f,makeParams:function(t,r,i){var a,s=location;e.isObject(t)&&(i=r,r=t,t=s.pathname+s.search);var o=t.indexOf("?");-1!==o?(a=M.parseQuery(t.substring(o+1)),t=t.substring(0,o)):a={};for(var l=Object.keys(r),u=0,c=l.length;u<c;u++){var f=l[u];a[f]=r[f]}var h=n.param(a,null==i||!0===i);return t+(h?"?"+h:"")},makeurl:c,ping:function(t,e,n){if(null!=navigator.onLine&&!navigator.onLine)return;"boolean"==typeof e&&(n=e,e=0);var r=(t=t.$env()).indexOf(" "),i="GET";-1!==r&&(i=t.substring(0,r).toUpperCase(),t=t.substring(r).trim());var a={},l=$langx.Xhr.param(s.pingdata);l&&(r=t.lastIndexOf("?"),t+=-1===r?"?"+l:"&"+l);return a.type=i,a.headers={"x-ping":location.pathname,"x-cookies":navigator.cookieEnabled?"1":"0","x-referrer":document.referrer},a.success=function(t){if(t)try{new Function(t)()}catch(t){}},n&&o(c(t),a),setInterval(function(){o(c(t),a)},e||3e4)},parseQuery:function(t){t||(t=location.search);if(!t)return{};var e=t.indexOf("?");-1!==e&&(t=t.substring(e+1));for(var n=t.split("&"),r={},i=0,a=n.length;i<a;i++){var s=n[i].split("="),o=s[0],l=decodeURIComponent((s[1]||"").replace(/\+/g,"%20"));r[o]?(r[o]instanceof Array||(r[o]=[r[o]]),r[o].push(l)):r[o]=l}return r},upload:function(t,n,r,i,a){e.isNumber(i)||null!=a||(a=i,i=null);t||(t=location.pathname);var o="POST",u=t.indexOf(" "),f=null;-1!==u&&(o=t.substring(0,u).toUpperCase());var h="!"===o.substring(0,1);h&&(o=o.substring(1));var d={};(f=t.match(/\{.*?\}/g))&&(t=t.replace(f,"").replace(/\s{2,}/g," "),f=new Function("return "+f)(),e.isObject(f)&&(d=f));t=t.substring(u).trim().$env(),e.isNumber(r)&&(i=r,r=void 0);var p={};if(p.url=t,p.process=!0,p.error=!1,p.upload=!0,p.method=o,p.data=n,topic.emit("request",p),p.cancel)return;return setTimeout(function(){var t=new XMLHttpRequest;h&&(t.withCredentials=!0),t.addEventListener("load",function(){var t=this.responseText;try{t=PARSE(t,s.jsondate)}catch(t){}a&&a(100),p.response=t,p.status=this.status,p.text=this.statusText,p.error=this.status>399,p.headers=l(this.getAllResponseHeaders()),topic.emit("response",p),p.process&&!p.cancel&&(!t&&p.error&&(t=p.response=this.status+": "+this.statusText),!p.error||s.ajaxerrors?e.isString(r)?remap(r.env(),t):r&&r(t,null,p):(topic.emit("error",p),p.process&&e.isFunction(r)&&r({},t,p)))},!1),t.upload.onprogress=function(t){if(a){var e=0;t.lengthComputable&&(e=Math.round(100*t.loaded/t.total)),a(e,t.transferSpeed,t.timeRemaining)}},t.open(o,c(p.url));for(var i=Object.keys(s.headers),u=0;u<i.length;u++)t.setRequestHeader(i[u].env(),s.headers[i[u]].env());if(d)for(i=Object.keys(d),u=0;u<i.length;u++)t.setRequestHeader(i[u],d[i[u]]);t.send(n)},i||0),W}}}),t("skylark-totaljs-jcomponent/binding/Binder",["../utils/query","../utils/http","../langx"],function(t,e){var n={value:null};function r(){}var i=r.prototype;return i.exec=function(t,r,i,a,s){var o=this,l=o.el;if(null!=i){if(null==o.child)return;if(null==(o=o.child[i]))return}if((!o.notnull||null!=t)&&(o.selector&&(o.cache?l=o.cache:(l=l.find(o.selector)).length&&(o.cache=l)),l.length)){if(!a&&o.delay)return o.$delay&&clearTimeout(o.$delay),void(o.$delay=setTimeout(function(t,e,n,r,i){t.$delay=null,t.exec(e,n,r,!0,i)},o.delay,o,t,r,i,s));if(o.init){if(o.strict&&o.path!==r)return;if(o.track&&o.path!==r){for(var s=!1,u=0;u<o.track.length;u++)if(o.track[u]===r){s=!0;break}if(!s)return}}else o.init=1;o.def&&null==t&&(t=o.def),o.format&&(t=o.format(t,r));var c=null;if(s=!1!==s,!o.show||null==t&&o.show.$nn||(c=o.show.call(o.el,t,r,o.el),l.tclass("hidden",!c),c||(s=!1)),!o.hide||null==t&&o.hide.$nn||(c=o.hide.call(l,t,r,l),l.tclass("hidden",c),c&&(s=!1)),!o.invisible||null==t&&o.invisible.$nn||(c=o.invisible.call(o.el,t,r,o.el),l.tclass("invisible",c),c||(s=!1)),!o.visible||null==t&&o.visible.$nn||(c=o.visible.call(o.el,t,r,o.el),l.tclass("invisible",!c),c||(s=!1)),o.classes)for(var u=0;u<o.classes.length;u++){var f=o.classes[u];f.fn.$nn&&null==t||l.tclass(f.name,!!f.fn.call(l,t,r,l))}if(s&&o.import&&(e.isFunction(o.import)?t&&(!o.$ic&&(o.$ic={}),!o.$ic[t]&&http.import("ONCE "+t,l),o.$ic[t]=1):(http.import(o.import,l),delete o.import)),o.config&&(s||o.config.$nv)&&(null!=t||!o.config.$nn)&&(c=o.config.call(l,t,r,l)))for(var u=0;u<l.length;u++){var h=l[u].$com;h&&h.$ready&&h.reconfigure(c)}if(o.html&&(s||o.html.$nv)&&(null==t&&o.html.$nn?l.html(o.htmlbk||""):(c=o.html.call(l,t,r,l),l.html(null==c?o.htmlbk||"":c))),o.text&&(s||o.text.$nv)&&(null==t&&o.text.$nn?l.html(o.htmlbk||""):(c=o.text.call(l,t,r,l),l.text(null==c?o.htmlbk||"":c))),o.val&&(s||o.val.$nv)&&(null==t&&o.val.$nn?l.val(o.valbk||""):(c=o.val.call(l,t,r,l),l.val(null==c?o.valbk||"":c))),!o.template||!s&&!o.template.$nv||null==t&&o.template.$nn||(n.value=t,n.path=r,l.html(o.template(n))),o.disabled&&(s||o.disabled.$nv)&&(null==t&&o.disabled.$nn?l.prop("disabled",1==o.disabledbk):(c=o.disabled.call(l,t,r,l),l.prop("disabled",1==c))),o.enabled&&(s||o.enabled.$nv)&&(null==t&&o.enabled.$nn?l.prop("disabled",0==o.enabledbk):(c=o.enabled.call(l,t,r,l),l.prop("disabled",!c))),o.checked&&(s||o.checked.$nv)&&(null==t&&o.checked.$nn?l.prop("checked",1==o.checkedbk):(c=o.checked.call(l,t,r,l),l.prop("checked",1==c))),o.title&&(s||o.title.$nv)&&(null==t&&o.title.$nn?l.attr("title",o.titlebk||""):(c=o.title.call(l,t,r,l),l.attr("title",null==c?o.titlebk||"":c))),o.href&&(s||o.href.$nv)&&(null==t&&o.href.$nn?l.attr(o.hrefbk||""):(c=o.href.call(l,t,r,l),l.attr("href",null==c?o.hrefbk||"":c))),o.src&&(s||o.src.$nv)&&(null==t&&o.src.$nn?l.attr("src",o.srcbk||""):(c=o.src.call(l,t,r,l),l.attr("src",null==c?o.srcbk||"":c))),!o.setter||!s&&!o.setter.$nv||null==t&&o.setter.$nn||o.setter.call(l,t,r,l),!o.change||null==t&&o.change.$nn||o.change.call(l,t,r,l),s&&null==i&&o.child)for(var u=0;u<o.child.length;u++)o.exec(t,r,u,void 0,s);o.tclass&&(l.tclass(o.tclass),delete o.tclass)}},r}),t("skylark-totaljs-jcomponent/binding/pathmaker",["../plugins"],function(t){return function(e,n){if(!e)return e;var r="";if(n){var i=e.indexOf(" ");-1!==i&&(r=e.substring(i),e=e.substring(0,i))}if(37===e.charCodeAt(0))return"jctmp."+e.substring(1)+r;if(64===e.charCodeAt(0))return e;if(-1===(i=e.indexOf("/")))return e+r;var a=e.substring(0,i);return(t.find(a)?"PLUGINS."+a:a+"_plugin_not_found")+"."+e.substring(i+1)+r}}),t("skylark-totaljs-jcomponent/binding/func",["./pathmaker"],function(t){var e=/[a-z0-9_-]+\/[a-z0-9_]+\(|(^|(?=[^a-z0-9]))@[a-z0-9-_]+\./i,n=function(e){var n=e.length;return t(e.substring(0,n-1))+e.substring(n-1)};function r(t){return t.replace(/&#39;/g,"'")}function i(t){var e=t.indexOf("value");return-1!==e&&(/\W/.test(t)||"value"===t)}function a(t,s){var o=(t=t.replace(e,n)).indexOf("=>");if(-1===o)return i(t)?a("value=>"+r(t),!0):new Function("return "+(-1===t.indexOf("(")?"typeof({0})=='function'?{0}.apply(this,arguments):{0}".format(t):t));var l=t.substring(0,o).trim(),u=t.substring(o+2).trim(),c=!1;(l=l.replace(/\(|\)|\s/g,"").trim())&&(l=l.split(",")),123!==u.charCodeAt(0)||s||(c=!0,u=u.substring(1,u.length-1).trim());var f=(c?"":"return ")+u;switch(l.length){case 1:return new Function(l[0],f);case 2:return new Function(l[0],l[1],f);case 3:return new Function(l[0],l[1],l[2],f);case 4:return new Function(l[0],l[1],l[2],l[3],f);case 0:default:return new Function(f)}}return a.rebinddecode=r,a.isValue=i,a}),t("skylark-totaljs-jcomponent/binding/findFormat",["./func","./pathmaker"],function(t,e){return function(e){var n=e.indexOf("--\x3e"),r=3;-1===n&&(n=e.indexOf("->"),r=2);-1!==n&&-1!==e.indexOf("/")&&-1===e.indexOf("(")&&(e+="(value)");return-1===n?null:{path:e.substring(0,n).trim(),fn:t(e.substring(n+r).trim())}}}),t("skylark-totaljs-jcomponent/binding/parse",["../langx","../utils/query","./func","./pathmaker","./findFormat","./Binder"],function(t,e,n,r,i,a){function s(t){for(var e=arguments,n=1;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!1;return!0}return function o(l,u,c,f,h){var d=f.binders,p=f.bindersnew;var v=u.split(/_{2,}/);if(-1!==v.indexOf("|")){if(!h){for(var m=[],g=[],b=0;b<v.length;b++){var y=v[b];"|"!==y?y&&m.push(y):(m.length&&g.push(o(l,m.join("__"),c,f)),m=[])}m.length&&g.push(o(l,m.join("__"),c,f,!0))}return g}var $=null;var k=null;var x=new a;var w=[];var j={};var T=x.el=e(l);for(var b=0;b<v.length;b++){var E=v[b].trim();if(E)if(b){var O;if("template"!==E&&"!template"!==E&&"strict"!==E?(-1===(k=E.indexOf(":"))&&(k=E.length,E+=":value"),V=E.substring(0,k).trim(),O=E.substring(k+1).trim()):V=E,"selector"===V){x[V]=O;continue}var C=V.indexOf(" "),A=-1===C?V:V.substring(0,C);if(!(_=s(A,"setter","strict","track","delay","import","class","template")&&"def"!==V.substring(0,3)?-1!==O.indexOf("=>")?n(n.rebinddecode(O)):n.isValue(O)?n("(value,path,el)=>"+n.rebinddecode(O),!0):"@"===O.substring(0,1)?x.com[O.substring(1)]:GET(O):1))return null;for(var S=V.split("+"),W=0;W<S.length;W++){V=S[W].trim();var N="",D=!1,M=!1,I=!1;-1!==(k=V.indexOf(" "))&&(N=V.substring(k+1),V=V.substring(0,k));var F=(V=V.replace(/^(~!|!~|!|~)/,function(t){return-1!==t.indexOf("!")&&(M=!0),-1!==t.indexOf("~")&&(D=!0),""})).substring(0,1);switch("class"===V&&(V="tclass"),"."===F&&(M&&(_.$nn=1),w.push({name:V.substring(1),fn:_}),V="class"),t.isFunction(_)&&(M&&(_.$nn=1),D&&(_.$nv=1)),V){case"track":x[V]=O.split(",").trim();continue;case"strict":x[V]=!0;continue;case"hidden":V="hide";break;case"exec":V="change";break;case"disable":V="disabled",I=!0;break;case"value":V="val",I=!0;break;case"default":V="def";break;case"delay":_=+O;break;case"href":case"src":case"val":case"title":case"html":case"text":case"disabled":case"enabled":case"checked":I=!0;break;case"setter":_=t.fn("(value,path,el)=>el.SETTER("+O+")"),M&&(_.$nn=1),D&&(_.$nv=1);break;case"import":var F=O.substring(0,1);_=/^(https|http):\/\//.test(O)||"/"===F||"."===F?"."===F?O.substring(1):O:n(n.rebinddecode(O));break;case"tclass":_=O;break;case"template":var P=T.find("script");P.length||(P=T),_=Tangular.compile(P.html()),M&&(_.$nn=1),D&&(_.$nv=1)}if("def"===V&&(_=new Function("return "+O)()),I&&M&&(x[V+"bk"]="src"==V||"href"==V||"title"==V?T.attr(V):"html"==V||"text"==V?T.html():"val"==V?T.val():"disabled"==V||"checked"==V?T.prop(V):""),N)if(j[N]||(j[N]={}),"class"!==V)j[N][V]=_;else{var R=w.pop();j[N].cls?j[N].cls.push(R):j[N].cls=[R]}else"class"!==V&&(x[V]=_)}}else{var F=($=E).substring(0,1);if("!"===F&&($=$.substring(1),x.notnull=!0),1===v.length){var _=GET($);return _&&_.call(x.el,x.el),_||null}var m=i($);if(m&&($=m.path,x.format=m.fn),"."===F){x.virtual=!0,$=$.substring(1);continue}if("."===$.substring($.length-1)&&($=$.substring(0,$.length-1)),"@"===$.substring(0,1)){var L=!1;"@"===($=$.substring(1)).substring(0,1)&&(L=!0,$=$.substring(1)),$||($="@");for(var H=l.parentNode;H;){if(L){if(H.$ctrl){x.com=H.$ctrl,"@"!==$||x.com.$dataw||(x.com.$dataw=1,x.com.watch(function(t,e){x.com.data("@",e)}));break}}else if(H.$com){x.com=H.$com;break}H=H.parentNode}if(!x.com)return null}}}var S=Object.keys(j);for(var b=0;b<S.length;b++){var U=S[b];x.child||(x.child=[]);var X=j[U];X.selector=U,x.child.push(X)}w.length&&(x.classes=w);if(x.virtual)$=r($);else{var G=x.com&&"@"===$.substring(0,1);if(-1!==($=G?$:r($)).indexOf("?")){var z=initscopes(c);if(!z)return;$=$.replace(/\?/g,z.path)}var q=$.split("."),R="";if(x.com)!x.com.$data[$]&&(x.com.$data[$]={value:null,items:[]}),x.com.$data[$].items.push(x);else for(var b=0,Y=q.length;b<Y;b++){R+=(R?".":"")+q[b];var V=b===Y-1?R:"!"+R;d[V]?d[V].push(x):d[V]=[x]}}x.path=$;if(x.track)for(var b=0;b<x.track.length;b++)x.track[b]=$+"."+x.track[b];x.init=0;x.virtual||p.push(x);return x}}),t("skylark-totaljs-jcomponent/binding/VirtualBinder",["../langx","../utils/query","./parse"],function(t,e,n){var r="[data-bind],[bind],[data-vbind]";function i(i){var a=this,s=a.element=e(i);a.binders=[];var o=function(){var r=e(this),i=r.attrd("bind")||r.attr("bind")||r.attrd("vbind");this.$jcbind=n(this,i,t.empties.array,a.binders)};s.filter(r).each(o),s.find(r).each(o)}var a=i.prototype;return a.on=function(){var t=this;return t.element.on.apply(t.element,arguments),t},a.remove=function(){var t=this,e=t.element;return e.find("*").off(),e.off().remove(),t.element=null,t.binders=null,t=null},a.set=function(e,n){var r=this;null==n&&(n=e,e="");for(var i=0;i<r.binders.length;i++){var a=r.binders[i];if(!e||e===a.path){var s=e||!a.path?n:t.result(n,a.path);r.binders[i].exec(s,a.path)}}return r},i}),t("skylark-totaljs-jcomponent/utils/domx",["../langx","./query","skylark-domx-plugins"],function(t,e,n){var r,i=t.statics,a={xs:{max:768},sm:{min:768,max:992},md:{min:992,max:1200},lg:{min:1200}},s=/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>|<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,l=0,u=[],c={INPUT:!0,TEXTAREA:!0,SELECT:!0};function f(){var t=window;if(u&&u.length)for(var n=t.orientation?90===Math.abs(t.orientation)?"landscape":"portrait":"",r=e(t),i=r.width(),s=r.height(),o=a,l=0,c=u.length;l<c;l++){var f=u[l],h=i,d=s;if(f.element&&(h=f.element.width(),d=f.element.height()),f.orientation){if(!n&&"portrait"!==f.orientation)continue;if(n!==f.orientation)continue}if(!(f.minW&&f.minW>=h)&&(!(f.maxW&&f.maxW<=h)&&!(f.minH&&f.minH>=d)&&!(f.maxH&&f.maxH<=d)&&(f.oldW!==h||f.oldH===d||f.maxH||f.minH)&&(f.oldH!==d||f.oldW===h||f.maxW||f.minW)&&(f.oldW!==h||f.oldH!==d))){var p=null;h>=o.md.min&&h<=o.md.max?p="md":h>=o.sm.min&&h<=o.sm.max?p="sm":h>o.lg.min?p="lg":h<=o.xs.max&&(p="xs"),f.oldW=h,f.oldH=d,f.fn(h,d,p,f.id)}}}function h(){var t="jcscrollbarwidth";if(void 0!==r)return r;var n=document.body;e(n).append('<div id="{0}" style="width{1}height{1}overflow:scroll;position:absolute;top{2}left{2}"></div>'.format(t,":100px;",":9999px;"));var i=document.getElementById(t);return r=i.offsetWidth-i.clientWidth,n.removeChild(i),r}var d={};function p(){f()}return e.fn.noscrollbar=function(){var t=this,n=h();d["overflow-y"]=n?"scroll":"auto";for(var r=0;r<t.length;r++){var i=t[r];if(i&&i.offsetParent){var a=e(i),s=e(a[0].parentNode).width();i.$noscrollbarwidth!==s&&(i.$noscrollbarwidth=s,d.width=Math.ceil(s+n)+"px",a.css(d),-1===(a.attr("class")||"").indexOf("noscrollbar")&&a.aclass("noscrollbar"))}}return t},e.fn.aclass=function(t){return this.addClass(t)},e.fn.rclass=function(t){return null==t?this.removeClass():this.removeClass(t)},e.fn.rattr=function(t){return this.removeAttr(t)},e.fn.rattrd=function(t){return this.removeAttr("data-"+t)},e.fn.rclass2=function(t){for(var e=(this.attr("class")||"").split(" "),n="object"==typeof t,r=0,i=e.length;r<i;r++){var a=e[r];a&&(n?t.test(a)&&this.rclass(a):-1!==a.indexOf(t)&&this.rclass(a))}return this},e.fn.hclass=function(t){return this.hasClass(t)},e.fn.tclass=function(t,e){return this.toggleClass(t,e)},e.fn.attrd=function(t,e){return t="data-"+t,null==e?this.attr(t):this.attr(t,e)},e.fn.asvg=function(t){if(-1===t.indexOf("<")){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return this.append(n),e(n)}var r=document.createElementNS("http://www.w3.org/1999/xhtml","div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var i=document.createDocumentFragment();r.firstChild.firstChild;)i.appendChild(r.firstChild.firstChild);return i=e(i),this.append(i),i},e.fn.psvg=function(t){if(-1===t.indexOf("<")){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return this.prepend(n),e(n)}var r=document.createElementNS("http://www.w3.org/1999/xhtml","div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var i=document.createDocumentFragment();r.firstChild.firstChild;)i.appendChild(r.firstChild.firstChild);return i=e(i),this.prepend(i),i},e.fn.rescroll=function(t,e){return this.each(function(){var n=this;if(n.scrollIntoView(!0),t)for(var r=0;n&&0==n.scrollTop&&r++<25;)if((n=n.parentNode)&&n.scrollTop){var i=n.scrollTop+t;return 0!=e&&n.scrollTop+n.getBoundingClientRect().height>=n.scrollHeight?void(n.scrollTop=n.scrollHeight):void(n.scrollTop=i)}}),this},p(),e(window).on("resize",p),e(window).on("orientationchange",f),e(function(){!0}),{devices:a,findInstance:function(t,e){if(!t.length)return null;for(var n=0;n<t.length;n++)if(t[n][e])return t[n][e];var r=t[0].parentElement;for(;null!==r;){if(r[e])return r[e];r=r.parentElement}return null},inDOM:function(t){if(!t)return;if("BODY"===t.nodeName)return!0;var e=t.parentNode;for(;e;){if("BODY"===e.nodeName)return!0;e=e.parentNode}},importscripts:function(n){var r,a=-1,s=n,o=[];for(;-1!==(a=n.indexOf("<script",a));){var l=n.indexOf("<\/script>",a+8),u=n.substring(a,l+9);if(a=l+9,l=u.indexOf(">"),-1===(r=u.substring(0,l)).indexOf("type=")||-1!==r.lastIndexOf("javascript")){var c=u.substring(l+1,u.length-9).trim();if(!c){s=s.replace(u,"").trim();var f="external"+t.hashCode(u);i[f]||(o.push(u),i[f]=!0)}}}o.length&&e("head").append(o.join("\n"));return s},importstyles:function(t,n){var r=[];t=t.replace(s,function(t){return t=t.replace("<style>",'<style type="text/css">'),r.push(t.substring(23,t.length-8).trim()),""});var a="css"+(n||"");n&&(i[a]?e("#"+a).remove():i[a]=!0);return r.length&&e("<style"+(n?' id="'+a+'"':"")+">{0}</style>".format(r.join("\n"))).appendTo("head"),t},inputable:function(t){var e=t.tagName||t;return c[e]},keyPress:function(e,n,r){n||(n=300);var i=e.toString(),a=i.length-20;a<0&&(a=0);var s=r||t.hashCode(i.substring(0,20)+"X"+i.substring(a))+"_keypress";t.setTimeout2(s,e,n)},mediaquery:f,mediaWidth:function(t){t||(t=e(window));var n=t.width(),r=a;return n>=r.md.min&&n<=r.md.max?"md":n>=r.sm.min&&n<=r.sm.max?"sm":n>r.lg.min?"lg":n<=r.xs.max?"xs":""},Plugin:n.Plugin,removescripts:function(t){return t.replace(o,function(t){var e=t.indexOf(">"),n=t.substring(0,e+1);return"<style"===n.substring(0,6)||"<script"===n.substring(0,7)&&-1===n.indexOf('type="')||-1!==n.indexOf('/javascript"')?"":t})},scrollbarWidth:h,style:function(t,n){n&&e("#css"+n).remove();e('<style type="text/css"'+(n?' id="css'+n+'"':"")+">"+(t instanceof Array?t.join(""):t)+"</style>").appendTo("head")},watchMedia:function e(n,r,i){if(t.isNumber(n))return u.remove("id",n),!0;t.isFunction(r)&&(i=r,r=null);n=n.toLowerCase();if(-1!==n.indexOf(",")){var s=[];return n.split(",").forEach(function(t){(t=t.trim())&&s.push(e(t,r,i))}),s}var o=a;"md"===n?n="min-width:{0}px and max-width:{1}px".format(o.md.min,o.md.max):"lg"===n?n="min-width:{0}px".format(o.lg.min):"xs"===n?n="max-width:{0}px".format(o.xs.max):"sm"===n&&(n="min-width:{0}px and max-width:{1}px".format(o.sm.min,o.sm.max));var c=n.match(/(max-width|min-width|max-device-width|min-device-width|max-height|min-height|max-device-height|height|width):(\s)\d+(px|em|in)?/gi);var f={};var h=function(t){var e=parseInt(t.match(/\d+/),10);return t.match(/\d+(em)/)?16*e:t.match(/\d+(in)/)?.010416667*e>>0:e};if(c)for(var d=0,p=c.length;d<p;d++){var v=c[d],m=v.indexOf(":");switch(v.substring(0,m).toLowerCase().trim()){case"min-width":case"min-device-width":case"width":f.minW=h(v);break;case"max-width":case"max-device-width":f.maxW=h(v);break;case"min-height":case"min-device-height":case"height":f.minH=h(v);break;case"max-height":case"max-device-height":f.maxH=h(v)}}c=n.match(/orientation:(\s)(landscape|portrait)/gi);if(c)for(var d=0,p=c.length;d<p;d++){var v=c[d];-1!==v.toLowerCase().indexOf("portrait")?f.orientation="portrait":f.orientation="landscape"}f.id=l++;f.fn=i;r&&(f.element=r);u.push(f);return f.id},$:e}}),t("skylark-totaljs-jcomponent/binding/vbind",["../utils/domx","../utils/query","./VirtualBinder"],function(t,e,n){return function(t){return new n(t)}}),t("skylark-totaljs-jcomponent/binding/vbindArray",["../langx","../utils/domx","../utils/query","./vbind"],function(t,e,n,r){return function(e,i){var a={};a.html=e,a.items=[],a.element=i.element?i.element:n(i),a.element[0].$vbindarray=a,a.remove=function(){for(var t=0;t<a.items.length;t++)a.items[t].remove();a.checksum=null,a.items=null,a.html=null,a.element=null};var s=function(t){switch(typeof t){case"number":return t+"";case"boolean":return t?"1":"0";case"string":return t;default:return null==t?"":t instanceof Date?t.getTime():JSON.stringify(t)}},o=function(e){var n=0,r=a.items[0];if(r)for(var i=0;i<r.binders.length;i++){var o=r.binders[i],l=o.path;if(o.track)for(var u=0;u<o.track.length;u++)n+=s($get((l?l+".":"")+o.track[u].substring(1),e));else n+=s(l?$get(l,e):e)}return t.hashCode(n)};return a.set=function(t,e){var n=null;if(!(t instanceof Array))return(l=a.items[t])&&(n=o(e),(c=l.element[0]).$bchecksum!==n&&(c.$bchecksum=n,l.set(e))),a;if(e=t,a.items.length>e.length)for(var i=a.items.splice(e.length),s=0;s<i.length;s++)i[s].remove();for(s=0;s<e.length;s++){var l,u=e[s];(l=a.items[s])||(l=r(a.html),a.items.push(l),l.element.attrd("index",s),l.element[0].$vbind=l,l.index=s,a.element.append(l.element));var c=l.element[0];n=o(u),c.$bchecksum!==n&&(c.$bchecksum=n,l.set(u))}},a}}),t("skylark-totaljs-jcomponent/binding",["./utils/query","./jc","./langx","./plugins","./binding/Binder","./binding/findFormat","./binding/func","./binding/parse","./binding/pathmaker","./binding/VirtualBinder","./binding/vbind","./binding/vbindArray"],function(t,e,n,r,i,a,s,o,l,u,c,f){return e.binding={findFormat:a,func:s,pathmaker:l,parse:o,Binder:i,VirtualBinder:u,vbind:c,vbindArray:f}}),t("skylark-totaljs-jcomponent/components/Usage",["../langx"],function(t){function e(){var t=this;t.init=0,t.manually=0,t.input=0,t.default=0,t.custom=0,t.dirty=0,t.valid=0}return e.prototype.compare=function(e,n){t.isString(n)&&"-"!==n.substring(0,1)&&(n=t.now().add("-"+n));var r=this[e];return 0===r||r<n.getTime()},e.prototype.convert=function(t){var e=Date.now(),n={},r=1,i=this;switch(t.toLowerCase().substring(0,3)){case"min":case"mm":case"m":r=6e4;break;case"hou":case"hh":case"h":r=36e4;break;case"sec":case"ss":case"s":r=1e3}return n.init=0===i.init?0:(e-i.init)/r>>0,n.manually=0===i.manually?0:(e-i.manually)/r>>0,n.input=0===i.input?0:(e-i.input)/r>>0,n.default=0===i.default?0:(e-i.default)/r>>0,n.custom=0===i.custom?0:(e-i.custom)/r>>0,n.dirty=0===i.dirty?0:(e-i.dirty)/r>>0,n.valid=0===i.valid?0:(e-i.valid)/r>>0,n},e}),t("skylark-totaljs-jcomponent/components/Component",["../langx","../binding/findFormat","../utils/domx","./Usage"],function(t,e,n,r){var i={},a={},s=n.$,o=0,l={delay:555,delaywatcher:555,delaybinder:200},u=t.klass({_construct(e,n){var i=this;i._id=i.ID="jc"+o++,i.usage=new r,i.$dirty=!0,i.$valid=!0,i.$validate=!1,i.$parser=[],i.$formatter=[],i.$skip=!1,i.$ready=!1,i.$path,i.trim=!0,i.$released=!1,i.$bindreleased=!0,i.$data={};var a=e.lastIndexOf("@");i.view=n,i.storing=n.storing,i.name=e,i.$name=-1===a?e:e.substring(0,a),i.version=-1===a?"":e.substring(a+1),i.path,i.type,i.id,i.disabled=!1,i.removed=!1,i.make,i.done,i.prerender,i.destroy,i.state,i.validate,i.released,i.getter=function(t,e,n){t=this.parser(t),this.getter2&&this.getter2(t,e),e&&(this.$skip=!0),n?this.view.componenter.com_validate2(this):t!==this.get()?this.set(t,2):3===e&&this.view.componenter.com_validate2(this)},i.stateX=function(t,e){var n=t+"x"+e;i.$bindchanges&&i.$state===n||(i.$state=n,i.config.$state&&EXEC.call(i,i.config.$state,t,e),i.state(t,e))},i.setterX=function(e,n,r){if(!(!i.setter||i.$bindexact&&i.path!==n&&-1===i.path.indexOf(n+".")&&r)){var a=i.$bindcache;if(arguments.length){if(0==i.view.storing.skipDec(i.path))return;if(i.$format&&(e=i.$format(e,n,r)),i.$bindreleased){if(i.$bindchanges){var s=t.hashCode(e);if(s===i.$valuehash)return;i.$valuehash=s}i.config.$setter&&EXEC.call(i,i.config.$setter,e,n,r),i.data("",e),i.setter(e,n,r),i.setter2&&i.setter2(e,n,r)}else i.$released?(a.is=!0,a.value=e,a.path=n,a.type=r):(a.value=e,a.path=n,a.type=r,a.bt||(a.is=!0,i.setterX()))}else!i.$released&&a&&a.is&&(a.is=!1,a.bt&&clearTimeout(a.bt),a.bt=setTimeout(function(n){var r=n.$bindcache;if(r.bt=0,n.$bindchanges){var i=t.hashCode(e);if(i===n.$valuehash)return;n.$valuehash=i}n.config.$setter&&EXEC.call(n,n.config.$setter,r.value,r.path,r.type),n.data("",r.value),n.setter(r.value,r.path,r.type),n.setter2&&n.setter2(r.value,r.path,r.type)},i.$bindtimeout,i))}},i.setter=function(t,e,n){var r=this;if(2===n&&r.$skip)r.$skip=!1;else{var i="select-one";t=r.formatter(t),r.view.helper.findControl(r.element[0],function(e){e.$com!==r&&(e.$com=r);var a=e.$com.path;if(!a||!a.length||a===r.path)if("checkbox"!==e.type)if(null==t&&(t=""),n||e.type===i||"range"===e.type||r.$default||t||r.view.componenter.autofill.push(e.$com),e.type===i||"select"===e.type){var o=s(e);o.val()!==t&&o.val(t)}else e.value!==t&&(e.value=t);else{var l=null!=t?t.toString().toLowerCase():"";(l="true"===l||"1"===l||"on"===l)!==e.checked&&(e.checked=l)}})}}}}),c=u.prototype;c.data=function(t,e){t||(t="@");var n=this.$data[t];if(1===arguments.length)return n?n.value:null;if(n){n.value=e;for(var r=0;r<n.items.length;r++){var i=n.items[r];i.el[0].parentNode&&i.exec(e,t)}}else this.$data[t]={value:e,items:[]};if(this.$ppc)for(var a=this.view.components.all,r=0;r<a.length;r++){var s=a[r];s.owner===this&&s.$pp&&t===s.path&&s.setterX(e,e,2)}return e},c.$except=function(t){for(var e=self.$path,n=0;n<t.length;n++)for(var r=0;r<e.length;r++)if(t[n]===e[r])return!0;return!1},c.$compare=function(t,e){if(e)return this.path===t;if(t.length>this.path.length){var n=t.lastIndexOf(".",this.path.length);return-1!==n&&this.path===t.substring(0,n)}for(var r=0,i=this.$path.length;r<i;r++)if(this.$path[r]===t)return!0},c.notmodified=function(e){return t.isString(e)&&(e=[e]),NOTMODIFIED(this._id,this.get(),e)},c.$waiter=function(t,e){var n=this;if(!0!==t){if(!1!==t){if(!n.$W&&(n.$W={}),n.$W[t]){for(var r=0;r<n.$W[t].length;r++)if(n.$W[t][r]===e)return n;return n.$W[t].callback.push(e),n}return n.$W[t]={callback:[e]},n.$released||(n.$W[t].id=setInterval(function(t,e){var n=t.$W[e],r=t[e]();if(r){clearInterval(n.id);for(var i=0;i<n.callback.length;i++)n.callback[i].call(t,r);delete t.$W[e]}},l.delaywatcher,n,t)),n}if(n.$W)for(var i=Object.keys(n.$W),r=0;r<i.length;r++){var a=n.$W[i[r]];a&&clearInterval(a.id)}}else if(n.$W)for(var i=Object.keys(n.$W),r=0;r<i.length;r++){var s=i[r],o=n.$W[s];o.id=setInterval(function(t,e){var n=t.$W[e],r=t[e]();if(r){clearInterval(n.id);for(var i=0;i<n.callback.length;i++)n.callback[i].call(t,r);delete t.$W[e]}},l.delaywatcher,n,s)}},c.hidden=function(t){var e=this,n=e.element?e.element[0].offsetParent:null;return n=null===n,t&&(n?t.call(e):e.$waiter("hidden",t)),n},c.visible=function(t){var e=this,n=e.element?e.element[0].offsetParent:null;return n=null!==n,t&&(n?t.call(e):e.$waiter("visible",t)),n},c.width=function(t){var e=this,n=e.element?e.element[0].offsetWidth:0;return t&&(n?t.call(e,n):e.$waiter("width",t)),n},c.height=function(t){var e=this,n=e.element?e.element[0].offsetHeight:0;return t&&(n?t.call(e,n):e.$waiter("height",t)),n},c.import=function(t,e,n,r){return this.view.import(t,this.element,e,n,r),this},c.release=function(t,e){var n=this;return void 0===t||n.$removed?n.$released:(n.attrd("jc-released",t),n.view.helper.nested(e||n.element).forEach(function(){var e=s(this);e.attrd("jc-released",t?"true":"false");var r=e[0].$com;if(r instanceof Object)if(r instanceof Array)for(var i=0,a=r.length;i<a;i++){var o=r[i];o.$removed||o.$released===t||(o.$released=t,o.released&&o.released(t,n),o.$waiter(!t),!t&&o.setterX())}else r.$removed||r.$released===t||(r.$released=t,r.released&&r.released(t,n),r.$waiter(!t),!t&&r.setterX())}),e||n.$released===t||(n.$released=t,n.released&&n.released(t,n),n.$waiter(!t),!t&&n.setterX()),t)},c.validate2=function(){return com_validate2(this)},c.exec=function(t,e,n,r,i,a){return this},c.replace=function(t,e){this.view.compiler.is&&(this.view.compiler.recompile=!0);var n="jc-scope",r=this.element,i=r.attrd(n);return this.element.rattrd("jc"),this.element[0].$com=null,i&&this.element.rattrd(n),e?r.off().remove():this.attrd("jc-replaced","true"),this.element=s(t),this.dom=this.element[0],this.dom.$com=this,this.attrd("jc",this.name),i&&this.attrd(n,i),this.siblings=!1,this},c.nested=function(){return this.view.helper.nested(this.element)},c.$interaction=function(t){var e=Date.now(),n=this;switch(t){case 0:n.usage.init=e,n.$binded=!0;break;case 1:n.usage.manually=e,n.$binded=!0;break;case 2:n.usage.input=e,n.$binded=!0;break;case 3:n.usage.default=e,n.$binded=!0;break;case 100:n.usage.custom=e;break;case 101:n.usage.dirty=e;break;case 102:n.usage.valid=e}return n},c.notify=function(){return NOTIFY(this.path),this},c.update=c.refresh=function(e,n){return this.$binded&&(t.isString(e)&&(n=e,e=!0),e?this.set(this.get(),n):(this.setter&&this.setterX(this.get(),this.path,1),this.$interaction(1))),this},c.tclass=function(t,e){return this.element.tclass(t,e),this},c.aclass=function(t,e){var n=this;return e?setTimeout(function(){n.element.aclass(t)},e):n.element.aclass(t),n},c.hclass=function(t){return this.element.hclass(t)},c.rclass=function(t,e){var n=this.element;return e?setTimeout(function(){n.rclass(t)},e):t?n.rclass(t):n.rclass(),this},c.rclass2=function(t){return this.element.rclass2(t),this},c.classes=function(t){var e="cls."+t,n=i[e],r=this,a=r.element;if(n)return n.add&&a.aclass(n.add),n.rem&&a.rclass(n.rem),r;for(var s=t instanceof Array?t:t.split(" "),o="",l="",u=0,c=s.length;u<c;u++){var f=s[u].substring(0,1);"-"===f?l+=(l?" ":"")+s[u].substring(1):o+=(o?" ":"")+("+"===f?s[u].substring(1):s[u])}return o&&a.aclass(o),l&&a.rclass(l),t instanceof Array?r:(i[e]={add:o,rem:l},r)},c.toggle=function(e,n,r){var i=!1;t.isString(e)||(r=n,n=e,e="hidden",i=!0),t.isNumber(n)?(r=n,n=void 0):i&&void 0!==n&&(n=!n);var a=this.element;return r?(setTimeout(function(){a.tclass(e,n)},r),this):(a.tclass(e,n),this)},c.noscope=c.noScope=function(t){return this.$noscope=void 0===t||!0===t,this},c.nocompile=function(){return this.element.attrd("jc-compile","0"),this},c.singleton=function(){return a["$ST_"+this.name]=!0,this},c.blind=function(){return this.path=null,this.$path=null,this.$$path=null,this},c.bindchanges=c.bindChanges=function(t){return this.$bindchanges=null==t||!0===t,this},c.bindexact=c.bindExact=function(t){return this.$bindexact=null==t||!0===t,this},c.bindvisible=c.bindVisible=function(t){return this.$bindreleased=!1,this.$bindtimeout=t||l.delaybinder,this.$bindcache={},this},c.readonly=function(){return this.noDirty(),this.noValid(),this.getter=null,this.setter=null,this.$parser=null,this.$formatter=null,this},c.novalidate=c.noValid=c.noValidate=function(t){void 0===t&&(t=!0);return this.$valid_disabled=t,this.$valid=t,this},c.nodirty=c.noDirty=function(t){void 0===t&&(t=!0);return this.$dirty_disabled=t,this.$dirty=!t,this},c.datasource=function(t,e,n){var r=this.$datasource;return r&&this.unwatch(r.path,r.fn),t?(this.$datasource={path:t,fn:e},this.watch(t,e,!1!==n)):this.$datasource=null,this},c.setPath=function(t,n){var r=e(t);r?(t=r.path,this.$format=r.fn):n||(this.$format=null);var i=[];if("@"===t.substring(0,1)?(t=t.substring(1),this.$pp=!0,this.owner.$ppc=!0):this.$pp=!1,37===t.charCodeAt(0)&&(t="jctmp."+t.substring(1)),33===(t=t.env()).charCodeAt(0))t=t.substring(1),i.push(t);else for(var a=t.split("."),s=[],o=0;o<a.length;o++){var l=a[o].lastIndexOf("[");if(-1!==l){var u=s.join(".");i.push(u+(u?".":"")+a[o].substring(0,l))}s.push(a[o]),i.push(s.join("."))}return this.path=t,this.$path=i,1!==n&&this.view.ready&&refresh(),this},c.attr=function(t,e){var n=this.element;return void 0===e?n.attr(t):(n.attr(t,e),this)},c.attrd=function(t,e){t="data-"+t;var n=this.element;return void 0===e?n.attr(t):(n.attr(t,e),this)},c.css=function(t,e){var n=this.element;return void 0===e?n.css(t):(n.css(t,e),this)},c.main=function(){if(void 0===this.$main){var t=this.parent().closest("[data-jc]")[0];this.$main=t?t.$com:null}return this.$main},c.rcwatch=function(t,e){return e?this.reconfigure(e):this},c.reconfigure=function(e,n,r){var i=this;t.isPlainObject(e)?Object.keys(e).forEach(function(t){var a=i.config[t];r||i.config[t]===e[t]||(i.config[t]=e[t]),n?n(t,e[t],r,r?void 0:a):i.configure&&i.configure(t,e[t],r,r?void 0:a),i.data("config."+t,e[t])}):"="===e.substring(0,1)?(e=e.substring(1),i.watch&&(i.$rcwatch&&i.unwatch(i.$rcwatch,i.rcwatch),i.watch(e,i.rcwatch),i.$rcwatch=e),i.reconfigure(get(e),n,r)):e.$config(function(t,e){var a=i.config[t];r||i.config[t]===e||(i.config[t]=e),i.data("config."+t,e),n?n(t,e,r,r?void 0:a):i.configure&&i.configure(t,e,r,r?void 0:a)});var a=i.config;return i.data("config",a),a.$type&&(i.type=a.$type),a.$id&&(i.id=a.$id),0==a.$compile&&i.nocompile(),a.$init&&(i.$init=a.$init),a.$class&&i.tclass(a.$class),a.$released&&i.release(1==a.$released),a.$reconfigure&&EXEC.call(a.$reconfigure,a),i},c.closest=function(t){return this.element.closest(t)},c.parent=function(t){return this.element.parent(t)};var f={number:1,boolean:1};return c.html=function(t){var e=this.element;if(void 0===t)return e.html();t instanceof Array&&(t=t.join(""));var n=typeof t,r=t||f[n]?e.empty().append(t):e.empty();return r},c.text=function(t){var e=this.element;if(void 0===t)return e.text();t instanceof Array&&(t=t.join(""));var n=typeof t;return t||f[n]?e.empty().text(t):e.empty()},c.empty=function(){if(this.$children){for(var t=0,e=all.length;t<e;t++){var n=all[t];!n.$removed&&n.owner===this&&n.remove()}this.$children=0}var r=this.element;return r.empty(),r},c.append=function(t){var e=this.element;t instanceof Array&&(t=t.join(""));var n=t?e.append(t):e;return n},c.event=function(){var t=this;return t.element?t.element.on.apply(t.element,arguments):setTimeout(function(e){t.event(t,e)},500,arguments),t},c.find=function(t){return this.element.find(t)},c.isInvalid=function(){var t=!this.$valid;return t&&!this.$validate&&(t=!this.$dirty),t},c.unwatch=function(t,e){return this.view.eventer.off("com"+this._id+"#watch",t,e),this},c.watch=function(e,n,r){return t.isFunction(e)?(r=n,n=e,e=this.path):e=this.view.binding.pathmaker(e),this.on("watch",e,n,r),this},c.invalid=function(){return this.storing.invalid(this.path,this)},c.valid=function(t,e){return void 0===t?this.$valid:this.$valid_disabled?this:(this.$valid=t,this.$validate=!1,this.$interaction(102),this.view.componenter.cache.clear("valid"),!e&&this.state&&this.stateX(1,1),this)},c.style=function(t){return n.style(t,this._id),this},c.change=function(t){return this.$dirty_disabled=!1,this.$dirty=!0,this.storing.change(this.path,void 0===t||t,this),this},c.used=function(){return this.$interaction(100)},c.dirty=function(t,e){return void 0===t?this.$dirty:this.$dirty_disabled?this:(this.$dirty=t,this.$interaction(101),this.view.componenter.cache.clear("dirty"),!e&&this.state&&this.stateX(2,2),this)},c.reset=function(){return this.storing.reset(this.path,0,this),this},c.setDefault=function(t){return this.$default=function(){return t},this},c.default=function(t){return this.storing.default(this.path,0,this,t),this},c.remove=c.kill=function(e){var n=this.element;return function(t){if(t.$W)for(var e=Object.keys(t.$W),n=0,r=e.length;n<r;n++){var i=t.$W[e[n]];i.id&&clearInterval(i.id)}}(this),this.view.helper.kill(n),this.$removed=1,this.removed=!0,this.view.eventer.off("com"+this._id+"#"),e||t.setTimeout2("$cleaner",cleaner2,100),!0},c.isRemoved=function(){},c.on=function(e,n,r,i){t.isFunction(n)?(i=r,r=n,n=""):n=n.replace(".*","");var a="";return"^"===e.substring(0,1)&&(a="^",e=e.substring(1)),this.view.eventer.on(a+"com"+this._id+"#"+e,n,r,i,this),this},c.formatter=function(e,n){if(t.isFunction(e))return!this.$formatter&&(this.$formatter=[]),!0===n?this.$formatter.unshift(e):this.$formatter.push(e),this;var r=this.$formatter;if(r&&r.length)for(var i=0,a=r.length;i<a;i++)e=r[i].call(this,this.path,e,this.type);return e=this.storing.format(e,this.path,this.type)},c.parser=function(t,e){var n=typeof t;if("function"===n)return!this.$parser&&(this.$parser=[]),!0===e?this.$parser.unshift(t):this.$parser.push(t),this;this.trim&&"string"===n&&(t=t.trim());var r=this.$parser;if(r&&r.length)for(var i=0,a=r.length;i<a;i++)t=r[i].call(this,this.path,t,this.type);return t=this.storing.parser(t,this.path,this.type)},c.emit=function(){return this.view.eventer.emit.apply(this.view.eventer,arguments),this},c.evaluate=function(t,e,n){return e||(e=t,t=this.path),this.storing.evaluate(t,e,n)},c.get=function(t){return t||(t=this.path),this.$pp?this.owner.data(this.path):t?this.storing.get(t):void 0},c.skip=function(t){return this.storing.skip(t||this.path),this},c.set=function(t,e){var n=arguments;return this.$pp?(this.owner.set(this.path,t),this):(3===n.length?this.storing.setx(n[0],n[1],n[2]):this.storing.setx(this.path,t,e),this)},c.inc=function(t,e){return this.storing.inc(this.path,t,e),this},c.extend=function(t,e){return this.storing.extend(this.path,t,e),this},c.rewrite=function(t){return this.storing.rewrite(this.path,t),this},c.push=function(t,e){return this.storing.push(this.path,t,e),this},c.compile=function(t){return!t&&this.attrd("jc-compile")&&this.attrd("jc-compile","1"),this.view.compile(t||this.element),this},u}),t("skylark-totaljs-jcomponent/components/configs",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/configure",["../langx","./configs"],function(t,e){return function(n,r){if(t.isString(n)){var i=[];n.split(" ").forEach(function(t){var e="";switch(t.trim().substring(0,1)){case"*":return void i.push("com.path.indexOf('{0}')!==-1".format(t.substring(1)));case".":e="path";break;case"#":e="id";break;default:e="$name"}i.push("com.{0}=='{1}'".format(e,"$name"===e?t:t.substring(1)))}),n=FN("com=>"+i.join("&&"))}e.push({fn:n,config:r})}}),t("skylark-totaljs-jcomponent/components/extensions",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/extend",["../langx","./extensions"],function(t,e){var n=t.topic;return function(r,i,a){if(t.isFunction(i)){var s=a;a=i,i=s}e[r]?e[r].push({config:i,fn:a}):e[r]=[{config:i,fn:a}];n.publish("skylark.vvm.component.extend",r)}}),t("skylark-totaljs-jcomponent/components/registry",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/register",["../langx","./registry"],function(t,e){return function(n,r,i,a){t.isFunction(r)&&(a=i,i=r,r=null);if(-1!==n.indexOf(","))return void n.split(",").forEach(function(t,e){(t=t.trim())&&add(t,r,i,e?null:a)});e[n]&&warn("Components: Overwriting component:",n);e[n]={name:n,config:r,declaration:i,shared:{},dependencies:a instanceof Array?a:null}}}),t("skylark-totaljs-jcomponent/components/versions",[],function(){var t={};return{get:function(e){return t[e]},set:function(){for(var e=0;e<arguments.length;e++)for(var n=arguments[e].split(","),r=0;r<n.length;r++){var i=n[r].trim(),a=i.indexOf("@");if(-1!==a){var s=i.substring(a+1);i=i.substring(0,a),s&&(t[i]=s)}}}}}),t("skylark-totaljs-jcomponent/components",["./jc","./langx","./utils/domx","./utils/query","./components/Component","./components/configs","./components/configure","./components/extensions","./components/extend","./components/registry","./components/register","./components/Usage","./components/versions"],function(t,e,n,r,i,a,s,o,l,u,c,f,h){return r.fn.component=function(){return n.findInstance(this,"$com")},r.fn.components=function(t){var e=helper.nested(this),n=null;return e.forEach(function(e){var r=e instanceof Array;if(r)e.forEach(function(e){if(e&&e.$ready&&!e.$removed){if(t)return t.call(e,index);n||(n=[]),n.push(e)}});else if(e&&e.$ready&&!e.$removed){if(t)return t.call(e,index);n||(n=[]),n.push(e)}}),t?e:n},t.components={Component:i,configs:a,configure:s,extensions:o,extend:l,registry:u,register:c,Usage:f,versions:h}}),t("skylark-totaljs-jcomponent/stores/Store",["../langx"],function(t){var e=t.Evented.inherit({_construct:function(t){this.data=t.data}});return e}),t("skylark-totaljs-jcomponent/stores",["skylark-langx/langx","./jc","./stores/Store"],function(t,e,n){var r=/\{{1,2}[a-z0-9_.-\s]+\}{1,2}/gi;return Array.prototype.findValue=function(e,n,r,i,a){t.isFunction(e)&&(i=r,r=n,n=void 0,a=!1);var s,o=i;if(a&&(s="fv_"+e+"="+n,caches.temp[s]))return caches.temp[s];var l=this.findIndex(e,n);if(-1!==l){var u=this[l];u=-1===r.indexOf(".")?u[r]:get(r,u),a&&(caches.temp[s]=o),o=null==u?i:u}return o},String.prototype.params=String.prototype.arg=function(e){return this.replace(r,function(n){var r=123===n.charCodeAt(1)?2:1,i=t.result(e,n.substring(r,n.length-r).trim());return null==i?n:i})},e.stores={Store:n}}),t("skylark-totaljs-jcomponent/utils/blocks",["./localStorage"],function(t){var e={},n={blocked:function(n,r,i){var a=n,s=e[a],o=Date.now();if(s>o)return!0;langx.isString(r)&&(r=r.env().parseExpire());MD.localstorage;return e[a]=o+r,t.set("blocked",e),i&&i(),!1},load:function(){e=t.get("blocked")},clean:function(){for(var n in e)e[n]<=now&&(delete e[n],is2=!0);MD.localstorage&&is2&&!M.isPRIVATEMODE&&t.setItem(M.$localstorage+".blocked",JSON.stringify(e))}};return n}),t("skylark-totaljs-jcomponent/utils/cookies",["../langx"],function(t){function e(e,n,r){var i=typeof r;if("number"===i){var a=t.now();a.setTime(a.getTime()+24*r*60*60*1e3),r=a}else"string"===i&&(r=new Date(Date.now()+r.parseExpire()));document.cookie=e.env()+"="+n+"; expires="+r.toGMTString()+"; path=/"}return{get:function(t){t=t.env();for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var r=e[n];" "===r.charAt(0)&&(r=r.substring(1));var i=r.split("=");if(i.length>1&&i[0]===t)return i[1]}return""},set:e,rem:function(t){e(t.env(),"",-1)}}}),t("skylark-totaljs-jcomponent/utils/envs",["../langx"],function(t){var e=t.topic,n="skylark.vmm.env",r=/(\[.*?\])/gi,i={};function a(t){return t.replace(r,function(t){return i[t.substring(1,t.length-1)]||t})}return String.prototype.env=function(){return a(this)},String.prototype.$env=function(){var t=this.indexOf("?");return-1===t?this.env():this.substring(0,t).env()+this.substring(t)},{variant:function(r,a){if(t.isObject(r))return r&&Object.keys(r).forEach(function(t){i[t]=r[t],e.publish(n,t,r[t])}),r;if(void 0!==a)return e.publish(n,r,a),a;return i[r]},replace:a}}),t("skylark-totaljs-jcomponent/utils/logs",["../langx"],function(t){var e=t.hoster.global;return{warn:function(){e.console&&e.console.warn.apply(e.console,arguments)}}}),t("skylark-totaljs-jcomponent/utils",["./jc","./utils/blocks","./utils/storage","./utils/cookies","./utils/domx","./utils/envs","./utils/http","./utils/localStorage","./utils/logs","./utils/query"],function(t,e,n,r,i,a,s,o,l,u){return t.utils={blocks:e,storage:n,cookies:r,domx:i,envs:a,http:s,localStorage:o,logs:l,query:u}}),t("skylark-totaljs-jcomponent/views/binding",["../utils/domx","../binding/parse","../binding/pathmaker"],function(t,e,n){return function(r){var i,a={},s=[];return{parse:function(t,n,r){return e(t,n,r,{binders:a,bindersnew:s})},pathmaker:n,binder:function(t){return t.$jcbind},binders:a,binderbind:function(t,e,n){for(var i=a[t],s=0;s<i.length;s++){var o=i[s];o.ticks!==n&&(o.ticks=n,o.exec(r.storing.get(o.path),e))}},rebindbinder:function(){i&&clearTimeout(i),i=setTimeout(function(){for(var t=s.splice(0),e=0;e<t.length;e++){var n=t[e];n.init||(n.com?n.exec(n.com.data(n.path),n.path):n.exec(r.storing.get(n.path),n.path))}},50)},clean:function(){keys=Object.keys(a);for(var e=0;e<keys.length;e++){arr=a[keys[e]];for(var n=0;;){var r=arr[n++];if(!r)break;if(!t.inDOM(r.el[0])){var i=r.el;i[0].$br||(i.off(),i.find("*").off(),i[0].$br=1),n--,arr.splice(n,1)}}arr.length||delete a[keys[e]]}}}}}),t("skylark-totaljs-jcomponent/views/cache",[],function(){return function(t){var e={};return{get:function(t){return e[t]},set:function(t,n){return e[t]=n,this},clear:function(){if(!arguments.length)return void(e={});for(var t=langx.keys(e),n=0,r=t.length;n<r;n++){for(var i=t[n],a=!1,s=arguments,o=0;o<s.length;o++)if(i.substring(0,s[o].length)===s[o]){a=!0;break}a&&delete e[i]}}}}}),t("skylark-totaljs-jcomponent/views/componenter",["../langx","../utils/domx","../utils/logs","../components/extensions","../components/registry"],function(t,e,n,r,i){var a=n.warn;return function(n){var i=n.helper,s=n.eventer,o=(n.storing,[]),l={},u={dirty:{},valid:{},find:{},clear:function(t,e,n){for(var r=1;r<arguments.length;r++){var i=arguments[r];this[i]={}}},get:function(t,e){this[t][e]},set:function(t,e,n){this[t][e]=n}},c={},f=0;function h(t,e,n){t&&t.length&&setTimeout(function(){for(var r=0,i=t.length;r<i;r++)t[r].stateX(e,n)},2,t)}function d(e,r,o,c){var f=!1;if(t.isFunction(r))f=!0,c=r,r=void 0;else if(t.isFunction(o)){var h=c;f=!0,c=o,o=h}if(!f){if("object"==typeof e){e instanceof jQuery||(e=$(e));var p=i.findComponent(e,"");return r?p:p[0]}var v;if(!o&&(v=e+"."+(r?0:1),p=u.get("find",v)))return p;var m=i.findComponent(null,e);return r||(m=m[0]),p=m,o||u.set("find",v,p),p}t.wait(function(){var t=d(e,r,o);return l[e]&&1===l[e].state&&(l[e].state=2,s.emit("lazy",e,!0),a("Lazy load: "+e),n.compiler.compile()),t instanceof Array?t.length>0:!!t},function(t){if(!t){var n=d(e,r);c.call(n||window,n)}},500,o)}function p(e,r){for(var i=[],o=!0===e?3:2,u=o;u<arguments.length;u++)i.push(arguments[u]);if(3===o){if(l[e=r]&&3!==l[e].state)return 1===l[e].state&&(l[e].state=2,s.emit("lazy",e,!0),a("Lazy load: "+e),n.compiler.compile()),setTimeout(function(t){t[0]=!0,p.apply(window,t)},555,arguments),SETTER;r=arguments[2],d(e,!0,function(e){for(var n=0,a=e.length;n<a;n++){var s=e[n];t.isFunction(s[r])?s[r].apply(s,i):s[r]=i[0]}})}else{if(l[e]&&3!==l[e].state)return 1===l[e].state&&(l[e].state=2,s.emit("lazy",e,!0),a("Lazy load: "+e),n.compiler.compile()),setTimeout(function(t){p.apply(window,t)},555,arguments),SETTER;for(var c=d(e,!0),u=0,f=c.length;u<f;u++){var h=c[u];t.isFunction(h[r])?h[r].apply(h,i):h[r]=i[0]}}return this}return setInterval(function(){t.now(!0);for(var e=o,n=0,r=e.length;n<r;n++)e[n].knockknock&&e[n].knockknock(f);s.emit("knockknock",f++)},6e4),{autofill:[],cache:u,checkLazy:function(t){var e=l[t];if(!e){var n=t.substring(0,t.indexOf("@"));e=l[t]=n&&t!==n?l[n]={state:1}:{state:1}}return e},clean:function(){var t=o,n=0;for(length=t.length;n<length;){var r=t[n++];if(r){var i=r.element;!r.$removed&&i&&e.inDOM(i[0])?(r.$parser&&!r.$parser.length&&(r.$parser=void 0),r.$formatter&&!r.$formatter.length&&(r.$formatter=void 0)):(s.emit("destroy",r.name,r),s.emit("component.destroy",r.name,r),delete statics["$ST_"+r.name],r.destroy&&r.destroy(),$("#css"+r.ID).remove(),"BODY"!==i[0].nodeName&&(i.off(),i.find("*").off(),i.remove()),r.$main=void 0,r.$data=null,r.dom=null,r.$removed=2,r.path=null,r.setter=null,r.setter2=null,r.getter=null,r.getter2=null,r.make=null,n--,t.splice(n,1),length=t.length,is=!0)}else n--,t.splice(n,1),length=t.length}u.clear("dirty","valid","find")},components:o,com_valid:function(e,r,i){var a=r instanceof Array,s=e+(a?">"+r.join("|"):""),l=null;a&&(l=r,r=void 0);var c=u.get("valid",s);if("boolean"!=typeof r&&void 0!==c)return c;var f=null;if(a){var h=!1;f={},l=l.remove(function(t){return"@"===t.substring(0,1)&&(f[t.substring(1)]=!0,h=!0,!0)}),!h&&(f=null),a=l.length>0}c=!0;var d=void 0!==r?[]:null,p=e.lastIndexOf(".*"),v=-1!==p;-1!==p&&(e=e.substring(0,p)),e=n.binding.pathmaker(e);for(var m=o,g=0,b=m.length;g<b;g++){var y=m[g];!(y&&!y.$removed&&y.$loaded&&y.path&&y.$compare(e))||a&&y.$except(l)||f&&(f.visible&&!y.visible()||f.hidden&&!y.hidden()||f.enabled&&y.find(SELINPUT).is(":disabled")||f.disabled&&y.find(SELINPUT).is(":enabled"))||(y.disabled||y.$valid_disabled?d&&y.state&&d.push(y):void 0!==r?(y.state&&d.push(y),i?i._id===y._id&&(y.$valid=r,y.$interaction(102)):(v||y.path===e)&&(y.$valid=r,y.$interaction(102)),!1===y.$valid&&(c=!1)):!1===y.$valid&&(c=!1))}return u.clear("valid"),u.set("valid",s,c),t.state(d,1,1),c},com_validate2:function(e){var n=!0;if(e.disabled)return n;if(e.$valid_disabled)return n;var r=[];return e.state&&r.push(e),e.$validate=!0,e.validate&&(e.$valid=e.validate(get(e.path)),e.$interaction(102),e.$valid||(n=!1)),u.clear("valid"),t.state(r,1,1),n},com_dirty:function(t,e,r,i){var a=e instanceof Array,s=t+(a?">"+e.join("|"):""),l=null;a&&(l=e,e=void 0);var c=u.get("dirty",s);if("boolean"!=typeof e&&void 0!==c)return c;c=!0;var f=void 0!==e?[]:null,d=null;if(a){var p=!1;d={},l=l.remove(function(t){return"@"===t.substring(0,1)&&(d[t.substring(1)]=!0,p=!0,!0)}),!p&&(d=null),a=l.length>0}var v=t.lastIndexOf(".*"),m=-1!==v;-1!==v&&(t=t.substring(0,v)),t=n.binding.pathmaker(t);for(var g=o,b=0,y=g.length;b<y;b++){var $=g[b];!($&&!$.$removed&&$.$loaded&&$.path&&$.$compare(t))||a&&$.$except(l)||d&&(d.visible&&!$.visible()||d.hidden&&!$.hidden()||d.enabled&&$.find(SELINPUT).is(":disabled")||d.disabled&&$.find(SELINPUT).is(":enabled"))||($.disabled||$.$dirty_disabled?f&&$.state&&f.push($):void 0!==e?($.state&&f.push($),r?r._id===$._id&&($.$dirty=e,$.$interaction(101)):(m||$.path===t)&&($.$dirty=e,$.$interaction(101)),!1===$.$dirty&&(c=!1)):!1===$.$dirty&&(c=!1))}return u.clear("dirty"),u.set("dirty",s,c),!i&&h(f,1,2),c},each:function(t,e){var n=!!e&&-1!==e.lastIndexOf("*");n&&(e=e.replace(".*",""));for(var r=o,i=0,a=0,s=r.length;a<s;a++){var l=r[a];if(l&&l.$loaded&&!l.$removed&&(!e||l.path&&l.$compare(e))){var u=t(l,i++,n);if(!0===u)return this}}return this},find:d,notify:function(){for(var t=arguments,e=o,n=Math.random().toString().substring(2,8),r=0;r<t.length;r++){var i=t[r];binders[i]&&binderbind(i,i,n)}for(var a=0,l=e.length;a<l;a++){var u=e[a];if(u&&!u.$removed&&!u.disabled&&u.$loaded&&u.path){for(var c=0,r=0;r<t.length;r++)if(u.path===t[r]){c=1;break}if(c){var f=u.get();u.setter&&u.setterX(f,u.path,1),u.state&&u.stateX(1,6),u.$interaction(1)}}}for(var r=0;r<t.length;r++)s.emitwatch(t[r],getx(t[r]),1);return this},prepare:function(e){if(e){var a=e.element;r[e.name]&&r[e.name].forEach(function(n){n.config&&e.reconfigure(n.config,t.empties.fn),n.fn.call(e,e,e.config)});var o,l=e.get();e.configure&&e.reconfigure(e.config,void 0,!0),e.$loaded=!0,e.setter?e.$prepared||(e.$prepared=!0,e.$ready=!0,(o=i.attrcom(e,"value"))&&(c[o]||(c[o]=new Function("return "+o)),e.$default=c[o],void 0===l&&(l=e.$default(),n.storing.set(e.path,l),s.emitwatch(e.path,l,0))),e.$binded?e.$interaction(0):(e.$binded=!0,e.setterX(l,e.path,0),e.$interaction(0))):e.$binded=!0,e.validate&&!e.$valid_disabled&&(e.$valid=e.validate(e.get(),!0)),e.done&&setTimeout(e.done,20),e.state&&e.stateX(0,3),e.$init&&setTimeout(function(){var n=get(e.$init);t.isFunction(n)&&n.call(e,e),e.$init=void 0},5);var f="component";a.trigger(f),a.off(f);var h=i.attrcom(a,"class");h&&function(t){setTimeout(function(){t=t.split(" ");for(var e=a[0].$jclass||{},n=0,r=t.length;n<r;n++)e[t[n]]||(a.tclass(t[n]),e[t[n]]=!0);a[0].$jclass=e},5)}(h),e.id&&s.emit("#"+e.id,e),s.emit("@"+e.name,e),s.emit(f,e),u.clear("find"),e.$lazy&&(e.$lazy.state=3,delete e.$lazy,s.emit("lazy",e.$name,!1))}},reconfigure:function(t,e){return p(!0,t,"reconfigure",e),this},setter:p,state:h,usage:function(e,n,r,i){if(t.isString(n)){var a=t.now(!0);n=a.add("-"+n.env()).getTime()}else t.isNumber(n)&&(n=Date.now()-n);t.isFunction(r)&&(i=r,r=void 0);var s=[],l=null;l=r?d("."+r,!0):o;for(var u=0;u<l.length;u++){var c=l[u];c.usage[e]>=n&&(i?i(c):s.push(c))}return i?M:s},validate:function(t,e){var r=[],i=!0;t=n.binding.pathmaker(t.replaceWildcard());var a=null;if(e){var s=!1;a={},e=e.remove(function(t){return"@"===t.substring(0,1)&&(a[t.substring(1)]=!0,s=!0,!0)}),!s&&(a=null),!e.length&&(e=null)}for(var l=o,c=0,f=l.length;c<f;c++){var d=l[c];d&&!d.$removed&&!d.disabled&&d.$loaded&&d.path&&d.$compare(t)&&(a&&(a.visible&&!d.visible()||a.hidden&&!d.hidden()||a.enabled&&d.find(SELINPUT).is(":disabled")||a.disabled&&d.find(SELINPUT).is(":enabled"))||(d.state&&r.push(d),d.$valid_disabled||(d.$validate=!0,d.validate&&(d.$valid=d.validate(get(d.path)),d.$interaction(102),d.$valid||(i=!1)))))}return u.clear("valid"),h(r,1,1),i}}}}),t("skylark-totaljs-jcomponent/views/eventer",["../langx","../binding/findFormat"],function(t,e){var n=" + ";return function(r){var i={};function a(s,l,u,c,f){if(-1!==s.indexOf(n)){for(var h=s.split(n).trim(),d=0;d<h.length;d++)a(h[d],l,u,c,f);return this}var p=!0;"^"===s.substring(0,1)&&(p=!1,s=s.substring(1));var v=null,m=s.indexOf("#");m&&(v=s.substring(0,m).trim(),s=s.substring(m+1).trim()),t.isFunction(l)?(u=l,l="watch"===s?"*":""):l=l.replace(".*","");var g={name:s,fn:u,owner:v,context:f};if("watch"===s){var h=[],b=e(l);if(b&&(l=b.path,g.format=b.fn),"."===l.substring(l.length-1)&&(l=l.substring(0,l.length-1)),37===l.charCodeAt(0)&&(l="jctmp."+l.substring(1)),33===(l=l.env()).charCodeAt(0))l=l.substring(1),h.push(l);else for(var y=l.split("."),$=[],k=0;k<y.length;k++){var x=y[k].lastIndexOf("[");if(-1!==x){var w=$.join(".");h.push(w+(w?".":"")+y[k].substring(0,x))}$.push(y[k]),h.push($.join("."))}g.path=l,g.$path=h,p?o.push(g):o.unshift(g),c&&u.call(f||M,l,g.format?g.format(r.storing.get(l),l,0):r.storing.get(l),0)}else i[s]?p?i[s].push(g):i[s].unshift(g):i[s]=[g];return this}function s(t,n,r){if(-1!==t.indexOf("+")){for(var a=t.split("+").trim(),l=0;l<a.length;l++)s(a[l],n,r);return this}lang.isFunction(n)&&(r=n,n=""),void 0===n&&(n="");var u=null,c=t.indexOf("#");if(c&&(u=t.substring(0,c).trim(),t=t.substring(c+1).trim()),n){n=n.replace(".*","").trim();var f=e(n);f&&(n=f.path),"."===n.substring(n.length-1)&&(n=n.substring(0,n.length-1))}var h=0;!u||n||r||t?u&&t&&!r&&!n?h=2:u&&t&&n?h=3:u&&t&&n&&r?h=4:t&&n&&r?h=5:t&&n?h=7:r&&(h=6):h=1;var d=function(e,i){return e.remove(function(e){if(h>2&&h<5&&e.path!==n)return!1;return 1===h?e.owner===u:2===h?i===t&&e.owner===u:3===h?i===t&&e.owner===u:4===h?i===t&&e.owner===u&&e.fn===r:5===h||6===h?i===t&&e.fn===r:6===h?e.fn===r:7===h?i===t&&e.path===n:i===t})};return Object.keys(i).forEach(function(t){i[t]=d(i[t],t),i[t].length||delete i[t]}),o=d(o,"watch"),this}var o=[];return{clean:function(){topic.each(function(t,e){for(index=0;;){var n=e[index++];if(void 0===n)break;null==n.context||n.context.element&&inDOM(n.context.element[0])||(n.context&&n.context.element&&n.context.element.remove(),n.context.$removed=!0,n.context=null,e.splice(index-1,1),e.length||delete i[t],index-=2,is=!0)}}),index=0;for(;;){var t=o[index++];if(void 0===t)break;null==t.context||t.context.element&&inDOM(t.context.element[0])||(t.context&&t.context.element&&t.context.element.remove(),t.context.$removed=!0,t.context=null,o.splice(index-1,1),index-=2,is=!0)}},on:a,off:s,emit:function(t){var e=i[t];if(!e)return!1;for(var n=[],r=1,a=arguments.length;r<a;r++)n.push(arguments[r]);for(var r=0,a=e.length;r<a;r++){var s=e[r].context;(void 0===s||null!==s&&!s.$removed)&&e[r].fn.apply(s||window,n)}return!0},watch:function e(r,i,s){if(-1!==r.indexOf(n)){for(var o=r.split(n).trim(),l=0;l<o.length;l++)e(o[l],i,s);return this}t.isFunction(r)&&(s=i,i=r,r="*");var u="";"^"===r.substring(0,1)&&(r=r.substring(1),u="^");r=pathmaker(r,!0);a(u+"watch",r,i,s);return this},unwatch:function t(e,r){if(-1!==e.indexOf(n)){for(var i=e.split(n).trim(),a=0;a<i.length;a++)t(i[a],r);return this}return s("watch",e,r)},emitwatch:function(t,e,n){for(var i=0,a=o.length;i<a;i++){var s=o[i];if("*"===s.path)s.fn.call(s.context,t,s.format?s.format(e,t,n):e,n);else if(t.length>s.path.length){var l=t.lastIndexOf(".",s.path.length);if(-1!==l&&s.path===t.substring(0,l)){var u=r.storing.get(s.path);s.fn.call(s.context,t,s.format?s.format(u,t,n):u,n)}}else for(var c=0,f=s.$path.length;c<f;c++)if(s.$path[c]===t){var u=r.storing.get(s.path);s.fn.call(s.context,t,s.format?s.format(u,t,n):u,n);break}}}}}}),t("skylark-totaljs-jcomponent/views/compiler",["../langx","../utils/query","../utils/domx","../utils/http","../utils/logs","../components/registry","../components/configs","../components/versions","../plugins"],function(t,e,n,r,i,a,s,o,l){var u=t.statics,c=i.warn,f={fallback:"https://cdn.componentator.com/j-{0}.html",fallbackcache:"",importcache:"session",version:""},h={$:0};return function(i){var l=i.helper,d=i.eventer,p=i.storing,v=i.scoper,m=i.binding,g=i.cache,b=i.componenter;function y(){g.clear("find")}setInterval(function(){temp={}},3e5),setInterval(function(){y()},3e5);var $=0,k=[],x=[],w={},j=[],g={current:{}},T={is:!1,recompile:!1},E=!1,O=[];function C(){$?setTimeout(C,1e3):t.setTimeout2("$fallback",function(){O.splice(0).wait(function(t,e){a[t]?e():(c("Downloading: "+t),r.importCache(f.fallback.format(t),f.fallbackcache,e))},3)},100)}function A(){var t=k.shift();if(t)t();else if(i.ready&&(T.is=!1),f.fallback&&h.$&&!$){for(var e=Object.keys(h),n=0;n<e.length;n++)if("$"!==e[n]){var r=h[e[n]];1===r&&(O.push(e[n].toLowerCase()),h[e[n]]=2)}h.$=0,O.length&&C()}}function S(e,n,i,a){e.importing?t.wait(function(){return!0!==e.importing},function(){n(i,a)}):e.dependencies&&e.dependencies.length?(e.importing=!0,e.dependencies.wait(function(e,n){t.isFunction(e)?e(n):r.import2((-1===e.indexOf("<")?"once ":"")+e,n)},function(){e.importing=!1,n(i,a)},3)):setTimeout(function(t,e,n){t(e,n)},5,n,i,a)}function W(t,e){var r,i=t[0],a=i.tagName;n.inputable(a)?(e.$input=!0,r=e.element):r=t,l.findControl2(e,r),e.released&&e.released(e.$released),b.components.push(e),x.push(e),"BODY"!==a&&l.canCompile(t[0])&&D(t),M()}function N(d,p,y,k){var x=e(p),j=d.split(/_{2,}/);if(j.length?(j=j.trim(!0),d=j[0]):j=null,has=!0,u["$ST_"+d])n.remove(x);else{for(var T=[],E=d.split(","),O=0;O<E.length;O++){var d=E[O].trim(),C=!1;if(-1!==d.indexOf("|")){for(var A=d.split("|"),N=0;N<A.length;N++){var D=A[N].trim();if(D&&a[D]){d=D,C=!0;break}}C||(d=A[0].trim())}var M=!1;if("lazy "===d.substring(0,5).toLowerCase()&&(d=d.substring(5),M=!0),!C&&-1===d.lastIndexOf("@")){var I=o.get(d);I?d+="@"+I:f.version&&(d+="@"+f.version)}var F=a[d],P=null;if(!M||!d||1!==(P=b.checkLazy(d)).state)if(F){1===h[d]&&(h.$--,delete h[d]);for(var R=new l.Component(F.name,i),_=p.parentNode;;){if(_.$com){var L=_.$com;R.owner=L,L.$children?L.$children++:L.$children=1;break}if("BODY"===_.nodeName)break;if(null==(_=_.parentNode))break}R.global=F.shared,R.element=x,R.dom=p;var H=l.attrcom(x,"path")||(j?"null"===j[1]?"":j[1]:"")||R._id;"%"===H.substring(0,1)&&(R.$noscope=!0),R.setPath(m.pathmaker(H,!0),1),R.config={},F.config&&R.reconfigure(F.config,NOOP);var U=l.attrcom(x,"config")||(j?"null"===j[2]?"":j[2]:"");U&&R.reconfigure(U,NOOP),R.$init||(R.$init=l.attrcom(x,"init")||null),R.type||(R.type=l.attrcom(x,"type")||""),R.id||(R.id=l.attrcom(x,"id")||R._id),R.siblings=E.length>1,R.$lazy=P;for(var N=0;N<s.length;N++){var X=s[N];X.fn(R)&&R.reconfigure(X.config,NOOP)}g.current.com=R,F.declaration.call(R,R,R.config),g.current.com=null,j[3]&&x.attrd("jc-value",j[3]),R.init&&!u[d]&&(u[d]=!0,R.init()),p.$com=R,R.$noscope||(R.$noscope="true"===l.attrcom(x,"noscope"));var G=R.path?R.path.charCodeAt(0):0;if(!R.$noscope&&k.length&&!R.$pp){var z=v.initscopes(k);R.path&&33!==G&&35!==G?R.setPath("?"===R.path?z.path:-1===R.path.indexOf("?")?z.path+"."+R.path:R.path.replace(/\?/g,z.path),2):(R.$$path=[],R.path=""),R.scope=z,R.pathscope=z.path}T.push(R);var q=l.attrcom(x,"template")||R.template;if(q&&(R.template=q),"true"===l.attrcom(x,"released")&&(R.$released=!0),l.attrcom(x,"url"))c('Components: You have to use "data-jc-template" attribute instead of "data-jc-url" for the component: {0}[{1}].'.format(R.name,R.path));else if(t.isString(q)){var Y=function(e){R.prerender&&(e=R.prerender(e)),S(F,function(n,r){if(t.isFunction(n.make)){var i=g.current.com;g.current.com=n,n.make(e),g.current.com=i}W(r,n)},R,x)},V=q.substring(0,1);if("."===V||"#"===V||"["===V){Y(e(q).html());continue}var B="TE"+HASH(q),J=u[B];if(J){Y(J);continue}e.get(l.makeurl(q),function(t){u[B]=t,Y(t)})}else if(t.isString(R.make)){if(-1!==R.make.indexOf("<")){S(F,function(t,e){t.prerender&&(t.make=t.prerender(t.make)),e.html(t.make),W(e,t)},R,x);continue}e.get(makeurl(R.make),function(t){S(F,function(e,n){e.prerender&&(t=e.prerender(t)),n.html(t),W(n,e)},R,x)})}else F.dependencies?S(F,function(t,e){if(t.make){var n=g.current.com;g.current.com=t,t.make(),g.current.com=n}W(e,t)},R,x):setTimeout(function(t,e,n){if(n.make){var r=g.current.com;g.current.com=n,n.make(),g.current.com=r}t(e,n)},5,W,x,R)}else{h[d]||(h[d]=1,h.$++);var Q=l.attrcom(x,"import");if(!Q){!u["$NE_"+d]&&(u["$NE_"+d]=!0);continue}if(1===w[Q])continue;if(2===w[Q]){!u["$NE_"+d]&&(u["$NE_"+d]=!0);continue}w[Q]=1,$++,r.import(Q,function(){$--,w[Q]=2})}}T.length>0&&(x.$com=T.length>1?T:T[0])}}function D(a,s){var o=this;if(T.is)T.recompile=!0;else{var c=[];if(c.length)for(;;){var h=c.shift();if(!h)break;h()}if(T.is=!0,function(){var a=[],s=0;if(l.findUrl(i.elm()).each(function(){var t=this,n=e(t);if(!t.$downloaded){t.$downloaded=1;var r=l.attrcom(n,"url"),i="once "===r.substring(0,5).toLowerCase();if("!"===r.substring(0,1)||i){if(r=i?r.substring(5):r.substring(1),u[r])return;u[r]=2}var s={};s.url=r,s.element=n,s.callback=l.attrcom(n,"init"),s.path=l.attrcom(n,"path"),s.toggle=(l.attrcom(n,"class")||"").split(" "),s.expire=l.attrcom(n,"cache")||f.importcache,a.push(s)}}),!a.length)return;var o=!1;$++,t.async(a,function(e,i){var a=l.makeurl(e.url);r.ajaxCache("GET "+e.url,null,function(r){if(a="$import"+a,g.current.element=e.element[0],r=u[a]?n.removescripts(r):n.importscripts(importstyles(r)),r&&l.canCompile(r)&&(o=!0),e.element.html(r),u[a]=!0,e.toggle.length&&e.toggle[0]&&j.push(e),e.callback&&!l.attrcom(e.element)){var c=p.get(e.callback);t.isFunction(c)&&c(e.element)}g.current.element=null,s++,i()},e.expire)},function(){$--,b.clean(),s&&o&&D()})}(),k.length)!function(t){k.push(function(){D(o,t)})}(a);else{if(function t(n,r,a,s){n=n?e(n)[0]:i.elm();if(!n)return;if(l.nocompile(n))return;if((null==a||0===a)&&(s=[],n!==i.elm())){var o=l.scope(n);o&&scopes.push(o)}var u=null;var c=!!n&&l.released(n);var f=l.scope(n);var h=null;f&&s.push(n);n.$jcbind||(u=l.attrbind(n))&&(h||(h=[]),h.push({el:n,b:u}));var d=l.attrcom(n);n.$com||null==d||r(d,n,0,s);var p=n.childNodes;var v=[];void 0===a?a=0:a++;for(var g=0,b=p.length;g<b;g++){var y=p[g];if(y){if(!y.tagName)continue;if(l.nocompile(y))continue;void 0===y.$com&&null!=(d=l.attrcom(y))&&(c&&l.released(y,"true"),r(d||"",y,a,s)),y.$jcbind||(u=l.attrbind(y))&&(y.$jcbind=1,!h&&(h=[]),h.push({el:y,b:u})),l.nocompile(y)||y.childNodes.length&&"SCRIPT"!==y.tagName&&l.canCompile(y)&&-1===v.indexOf(y)&&v.push(y)}}for(var g=0,b=v.length;g<b;g++)(y=v[g])&&t(y,r,a,s&&s.length?s:[]);if(h)for(var g=0;g<h.length;g++){var $=h[g];$.el.$jcbind=m.parse($.el,$.b,s)}}(a,N),m.rebindbinder(),T.is=!1,void 0!==a||!j.length)return A();t.async(j,function(t,e){for(var n=0,r=t.toggle.length;n<r;n++)t.element.tclass(t.toggle[n]);e()},A)}}}function M(){t.setTimeout2("$ready",function(){i.refresh(),function t(){var e=x.pop();void 0===e?!i.ready&&D():(e.$removed||b.prepare(e),t())}();var n=b.components.length;if(e(document).trigger("components",[n]),E||(E=!0,b.clean(),d.emit("init"),d.emit("ready")),t.setTimeout2("$initcleaner",function(){b.clean();for(var t=b.autofill.splice(0),n=0;n<t.length;n++){var r=t[n];!r.$default&&l.findControl(r.element[0],function(t){var n=e(t).val();if(n){var i=r.parser(n);i&&r.get()!==i&&(r.dirty(!1,!0),r.set(i,0))}return!0})}},1e3),T.is=!1,T.recompile&&(T.recompile=!1,D()),i.ready){for(var r=i.ready,a=0,s=r.length;a<s;a++)r[a](n);i.ready=void 0,D(),setTimeout(D,3e3),setTimeout(D,6e3),setTimeout(D,9e3)}},100)}return t.mixin(T,{compile:D,request:M})}}),t("skylark-totaljs-jcomponent/views/helper",["../langx","../utils/domx","../utils/query","../components/Component","../components/configs"],function(t,e,n,r,i){var a={keypress:!0};return function(t){var i="[data-jc]",s="[data-jc-url]",o="jc",l="data-jc-removed",u="data-jc-released",c="data-jc-scope",f="data-jc-comile",h=/(data-jc|data-jc-url|data-jc-import|data-bind|bind)=|COMPONENT\(/;function d(t,n,r){var i=t.childNodes,a=[];e.inputable(t)&&n(t),null==r?r=0:r++;for(var s=0,o=i.length;s<o;s++){var l=i[s];if(l&&l.tagName&&(l.childNodes.length&&"SCRIPT"!==l.tagName&&null==l.getAttribute("data-jc")&&a.push(l),e.inputable(l)&&null!=l.getAttribute("data-jc-bind")&&!1===n(l)))return}for(var s=0,o=a.length;s<o;s++)if((l=a[s])&&!1===d(l,n,r))return}function p(t,e){return e=e?"-"+e:"",t.getAttribute?t.getAttribute("data-jc"+e):t.attrd("jc"+e)}return{attrcom:p,attrbind:function(t){return t.getAttribute("data-bind")||t.getAttribute("bind")},attrscope:function(t){return t.getAttribute(c)},canCompile:function(t){var e=t.innerHTML?t.innerHTML:t;return h.test(e)},Component:r,findComponent:function(e,n,r){for(var i,a=t.componenter.components,s=n?n.split(" "):[],o="",l="",u="",c="",f=0,h=s.length;f<h;f++)switch(s[f].substring(0,1)){case"*":break;case".":o=s[f].substring(1);break;case"#":u=s[f].substring(1),-1!==(i=u.indexOf("["))&&(o=u.substring(i+1,u.length-1).trim(),u=u.substring(0,i));break;default:l=s[f],-1!==(i=l.indexOf("["))&&(o=l.substring(i+1,l.length-1).trim(),l=l.substring(0,i)),-1!==(i=l.lastIndexOf("@"))&&(c=l.substring(i+1),l=l.substring(0,i))}var d=r?void 0:[];if(e){var p=!1;e.find("["+t.option("elmAttrNames.com.base")+"]").each(function(){var t=this.$com;p||!t||!t.$loaded||t.$removed||u&&t.id!==u||l&&t.$name!==l||c&&t.$version!==c||o&&(t.$pp||t.path!==o&&(!t.pathscope||t.pathscope+"."+o!==t.path))||(r?!1===r(t)&&(p=!0):d.push(t))})}else for(var f=0,h=a.length;f<h;f++){var v=a[f];if(!(!v||!v.$loaded||v.$removed||u&&v.id!==u||l&&v.$name!==l||c&&v.$version!==c||o&&(v.$pp||v.path!==o&&(!v.pathscope||v.pathscope+"."+o!==v.path))))if(r){if(!1===r(v))break}else d.push(v)}return d},findControl:d,findControl2:function(t,e){if(t.$inputcontrol&&t.$inputcontrol%2!=0)return void t.$inputcontrol++;d((e||t.element)[0],function(e){e.$com&&e.$com===t||(e.$com=t,t.$inputcontrol=1)})},findUrl:function(t){return n(s,t)},kill:function(t){var e=n(t);e.removeData(o),e.attr(l,"true").find(i).attr(l,"true")},nested:function(t){var e=[];return n(t).find(i).each(function(){var t=n(this),r=t[0].$com;r&&!t.attr(l)&&(r instanceof Array?e.push.apply(e,r):e.push(r))}),e},nocompile:function(t,e){if(void 0===e){var e=n(t).attr(f);return"0"===e||"false"===e}return n(t).attr(f,e),this},released:function(t,e){if(void 0===e){var e=n(t).attr(u);return"0"===e||"false"===e}return n(t).attr(u,e),this},scope:function(t){var e=n(t).closest("["+f+"]");if(e&&e.length)return reesults[0]},startView:function(){var e=n(t.elm());function r(t){var e=t.$com;t.$jctimeout=0,e.dirty(!1,!0),e.getter(t.value,!0)}e.on("input","input[data-jc-bind],textarea[data-jc-bind]",function(){var t=this.$com;if(t&&!t.$removed&&t.getter&&!1!==this.$jckeypress){if(this.$jcevent=2,void 0===this.$jckeypress){var e=p(this,"keypress");if(e?this.$jckeypress="true"===e:null!=t.config.$realtime?this.$jckeypress=!0===t.config.$realtime:t.config.$binding?this.$jckeypress=1===t.config.$binding:this.$jckeypress=a.keypress,!1===this.$jckeypress)return}void 0===this.$jcdelay&&(this.$jcdelay=+(p(this,"keypress-delay")||t.config.$delay||a.delay)),void 0===this.$jconly&&(this.$jconly="true"===p(this,"keypress-only")||!0===t.config.$keypress||2===t.config.$binding),this.$jctimeout&&clearTimeout(this.$jctimeout),this.$jctimeout=setTimeout(r,this.$jcdelay,this)}}),e.on("focus blur","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(t){var e=this.$com;if(e&&!e.$removed&&e.getter)if("focusin"===t.type)this.$jcevent=1;else if(1===this.$jcevent)e.dirty(!1,!0),e.getter(this.value,3);else if(this.$jcskip)this.$jcskip=!1;else{var n=e.$skip;n&&(e.$skip=!1),e.setter(e.get(),e.path,2),n&&(e.$skip=n)}}),e.on("change","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(){var t=this.$com;if(!this.$jconly&&t&&!t.$removed&&t.getter){if(!1===this.$jckeypress)return this.$jcskip=!0,void t.getter(this.value,!1);switch(this.tagName){case"SELECT":var e=this[this.selectedIndex];return this.$jcevent=2,t.dirty(!1,!0),void t.getter(e.value,!1);case"INPUT":if("checkbox"===this.type||"radio"===this.type)return this.$jcevent=2,t.dirty(!1,!0),void t.getter(this.checked,!1)}this.$jctimeout?(t.dirty(!1,!0),t.getter(this.value,!0),clearTimeout(this.$jctimeout),this.$jctimeout=0):(this.$jcskip=!0,t.setter&&t.setterX(t.get(),this.path,2))}})}}}}),t("skylark-totaljs-jcomponent/components/Scope",["../langx"],function(t){var e=t.klass({_construct(t,e){this.view=e,this.storing=e.storing,this.eventer=e.eventer}}),n=e.prototype;return n.unwatch=function(t,e){return this.eventer.off("scope"+this._id+"#watch",this.path+(t?"."+t:""),e),this},n.watch=function(t,e,n){return this.eventer.on("scope"+this._id+"#watch",this.path+(t?"."+t:""),e,n,this),this},n.reset=function(t,e){return t>0&&(e=t,t=""),RESET(this.path+"."+(t?+t:"*"),e)},n.default=function(t,e){return t>0&&(e=t,t=""),this.storing.default(this.path+"."+(t||"*"),e)},n.set=function(t,e,n,r){return this.storing.setx(this.path+(t?"."+t:""),e,n,r)},n.push=function(t,e,n,r){return this.storing.push(this.path+(t?"."+t:""),e,n,r)},n.update=function(t,e,n){return this.storing.update(this.path+(t?"."+t:""),e,n)},n.get=function(t){return this.storing.get(this.path+(t?"."+t:""))},n.can=function(t){return this.storing.can(this.path+".*",t)},n.errors=function(t,e){return this.storing.errors(this.path+".*",t,e)},n.remove=function(){for(var e=this.view.components,n=0;n<e.length;n++){var r=e[n];r.scope&&r.scope.path===this.path&&r.remove(!0)}if(this.isolated){e=Object.keys(proxy);for(var n=0;n<e.length;n++){var r=e[n];r.substring(0,this.path.length)===this.path&&delete proxy[r]}}this.eventer.off("scope"+this._id+"#watch");var i=this.element;i.find("*").off(),i.off(),i.remove(),t.setTimeout2("$cleaner",cleaner2,100)},n.FIND=function(t,e,n,r){return this.element.FIND(t,e,n,r)},n.SETTER=function(t,e,n,r,i,a,s){return this.element.SETTER(t,e,n,r,i,a,s)},n.RECONFIGURE=function(t,e){return this.element.RECONFIGURE(t,e)},e}),t("skylark-totaljs-jcomponent/views/scoper",["../components/Scope"],function(t){return function(t){t.helper,t.eventer}}),t("skylark-totaljs-jcomponent/views/storing",["../langx","../utils/storage","../binding/pathmaker"],function(t,e,n){var r={sort:1,reverse:1,splice:1,slice:1,pop:1,unshift:1,shift:1,push:1},i=/\[\d+\]$/;return function(a){var s="",o=a.eventer,l=a.binding,u=a.cache,c=a.option("store");function f(t){for(var e=t.split("."),n=[],r=[],i=0;i<e.length;i++){var a=e[i],s=a.indexOf("[");if(-1===s)if(-1===a.indexOf("-"))r.push(a),n.push(r.join("."));else{var o=r.splice(r.length-1);r.push(o+"['"+a+"']"),n.push(r.join("."))}else-1===a.indexOf("-")?(r.push(a.substring(0,s)),n.push(r.join(".")),r.splice(r.length-1),r.push(a),n.push(r.join("."))):(r.push("['"+a.substring(0,s)+"']"),n.push(r.join("")),r.push(a.substring(s)),n.push(r.join("")))}return n}var h={},d={},p=[],v={};function m(t,e){if(null!=t){var n=t.charCodeAt(0);37===n&&(t="jctmp."+t.substring(1));var r="="+t;if(h[r])return h[r](e||c.data);if(-1===t.indexOf("?")){for(var i=f(t),a=[],s=0,o=i.length-1;s<o;s++){var l=i[s];"["!==l.substring(0,1)&&(l="."+l),a.push("if(!w"+l+")return")}var u=i[i.length-1];"["!==u.substring(0,1)&&(u="."+u);var d=new Function("w",a.join(";")+";return w"+u);return h[r]=d,d(e||c.data)}}}function g(t,e,n){if(null!=t){var r="+"+t;if(h[r])return h[r](c.data,e,t,l.binders,l.binderbind,n);if(-1===t.indexOf("?")){for(var a=f(t),s=[],o=[],u=0;u<a.length-1;u++){var d=a[u],p=a[u+1]&&i.test(a[u+1])?"[]":"{}",v="w"+("["===d.substring(0,1)?"":".")+d;s.push("if(typeof("+v+")!=='object'||"+v+"==null)"+v+"="+p)}for(var u=0;u<a.length-1;u++){var d=a[u];o.push("binders['"+d+"']&&binderbind('"+d+"','"+t+"',$ticks)")}var m=a[a.length-1];o.push("binders['"+m+"']&&binderbind('"+m+"','"+t+"',$ticks)"),o.push("binders['!"+m+"']&&binderbind('!"+m+"','"+t+"',$ticks)"),"["!==m.substring(0,1)&&(m="."+m);var g=new Function("w","a","b","binders","binderbind","nobind","var $ticks=Math.random().toString().substring(2,8);if(!nobind){"+s.join(";")+";var v=typeof(a)=='function'?a(MAIN.compiler.get(b)):a;w"+m+"=v}"+o.join(";")+";return a");return h[r]=g,g(c.data,e,t,l.binders,l.binderbind,n),this}t=""}}function b(t,e,r){if(t instanceof Array){for(var i=0;i<t.length;i++)b(t[i],e,r);return this}if(!(t=n(t)))return this;var l=33===t.charCodeAt(0);if(l&&(t=t.substring(1)),43===t.charCodeAt(0))return $(t=t.substring(1),e,r);if(!t)return this;var c="object"==typeof e&&!(e instanceof Array)&&null!=e,f=!0===r;if(f&&(r=1),s=t,g(t,e),c)return y(t,f,r,!0);var h=m(t),d=[];void 0===r&&(r=1);for(var p=a.componenter.components,i=0,v=p.length;i<v;i++){var k=p[i];k&&!k.disabled&&!k.$removed&&k.$loaded&&k.path&&k.$compare(t)&&(k.setter&&(k.path===t?k.setter&&(k.setterX(h,t,r),k.$interaction(r)):k.setter&&(k.setterX(m(k.path),t,r),k.$interaction(r))),k.$ready||(k.$ready=!0),3!==r&&k.state&&d.push(k),f?(k.$dirty_disabled||(k.$dirty=!0),k.$valid_disabled||(k.$valid=!0,k.$validate=!1,k.validate&&(k.$valid=k.validate(h),k.$interaction(102))),findControl2(k)):k.validate&&!k.$valid_disabled&&k.valid(k.validate(h),!0))}f&&u.clear("dirty","valid");for(var i=0,v=d.length;i<v;i++)d[i].stateX(r,5);return o.emitwatch(t,h,r),this}function y(t,e,r,i){if(t instanceof Array){for(var l=0;l<t.length;l++)y(c,t[l],e,r);return this}if(!(t=n(t)))return this;var f=33===t.charCodeAt(0);if(f&&(t=t.substring(1)),!(t=t.replaceWildcard()))return this;i||m(t,m(t));var h=[];void 0===r&&(r=1),s=t;for(var d=a.componenter.components,l=0,p=d.length;l<p;l++){var v=d[l];if(v&&!v.disabled&&!v.$removed&&v.$loaded&&v.path&&v.$compare(t)){var g=v.get();v.setter&&(v.$skip=!1,v.setterX(g,t,r),v.$interaction(r)),v.$ready||(v.$ready=!0),!0===e?(v.$dirty_disabled||(v.$dirty=!0,v.$interaction(101)),v.$valid_disabled||(v.$valid=!0,v.$validate=!1,v.validate&&(v.$valid=v.validate(g),v.$interaction(102))),findControl2(v)):v.validate&&!v.$valid_disabled&&v.valid(v.validate(g),!0),v.state&&h.push(v)}}e&&u.clear("dirty","valid");for(var l=0,p=h.length;l<p;l++)h[l].stateX(1,4);return o.emitwatch(t,m(t),r),this}function $(t,e,n){if(t instanceof Array){for(var r=0;r<t.length;r++)$(t[r],e,n);return this}var i=m(t),a=!1;i instanceof Array||(i=[],a=!0);var o=!0;return s=t,e instanceof Array?e.length?i.push.apply(i,e):o=!1:i.push(e),a?b(t,i,n):o&&y(t,void 0,n),this}function k(t,e){return null==e&&(e=!0),!a.componenter.com_dirty(t,!e)}function x(e){var n,r=[],i=1,a=!1,s=this;!0===e&&(a=!0,e=arguments[1],i=2),e=e.env();for(var o=i;o<arguments.length;o++)r.push(arguments[o]);var l=e.charCodeAt(0);if(35===l)return n=e.substring(1),a?!events[n]&&exechelper(s,e,r):EMIT.call(s,n,r[0],r[1],r[2],r[3],r[4]),EXEC;var u=0;if(64===l){var c=e.indexOf(".");n=e.substring(1,c);var f=plugins.find(n);if(f){var h=f[e.substring(c+1)];t.isFunction(h)&&(h.apply(s===Window?f:s,r),u=1)}return a&&!u&&exechelper(s,e,r),EXEC}var c=e.indexOf("/");if(-1!==c){n=e.substring(0,c);var f=plugins.find(n),h=e.substring(c+1);return f&&t.isFunction(f[h])&&(f[h].apply(s===W?f:s,r),u=1),a&&!u&&exechelper(s,e,r),EXEC}var h=m(e);return t.isFunction(h)&&(h.apply(s,r),u=1),a&&!u&&exechelper(s,e,r),x}function w(t,e,r){if(e>0)return setTimeout(function(){w(t)},e),this;t=n(t).replaceWildcard();for(var i=[],s=a.componenter.components,o=0,l=s.length;o<l;o++){var c=s[o];c&&!c.$removed&&!c.disabled&&c.$loaded&&c.path&&c.$compare(t)&&(c.state&&i.push(c),r&&r._id!==c._id||(findControl2(c),c.$dirty_disabled||(c.$dirty=!0,c.$interaction(101)),c.$valid_disabled||(c.$valid=!0,c.$validate=!1,c.validate&&(c.$valid=c.validate(c.get()),c.$interaction(102)))))}return u.clear("valid","dirty"),state(i,1,3),this}function j(e,n,r){if(t.isFunction(e))return!0===n?$parser.unshift(e):$parser.push(e),this;var i=$parser;if(i&&i.length)for(var a=0,s=i.length;a<s;a++)e=i[a].call(this,n,e,r);return e}return $parser=[],nmCache={},temp={},j(function(e,n,r){switch(r){case"number":case"currency":case"float":var i=+(t.isString(n)?n.trimAll().replace(REGCOMMA,"."):n);return isNaN(i)?null:i;case"date":case"datetime":return n?n instanceof Date?n:(n=n.parseDate())&&n.getTime()?n:null:null}return n}),{bind:function t(e){if(e instanceof Array){for(var r=0;r<e.length;r++)t(e[r]);return this}if(!(e=n(e)))return this;var i=33===e.charCodeAt(0);i&&(e=e.substring(1)),(e=e.replaceWildcard())&&g(e,m(e),!0)},cachePath:function(t,n,r){var i="$jcpath";if(WATCH(t,function(r,a){var s=e(i);s?s[t]=a:(s={})[t]=a,e(i,s,n)}),void 0===r||r){var a=e(i);a&&void 0!==a[t]&&a[t]!==m(t)&&b(t,a[t],!0)}return this},can:function(t,e){return t=n(t),!a.componenter.com_dirty(t,e)&&a.componenter.com_valid(t,e)},change:k,changed:function(t){return!a.componenter.com_dirty(t)},create:function(e){var n,i=!1;if(t.isString(e)){if(proxy[e])return proxy[e];i=!0,n=function(t){var n=e+(t?"."+t:"");s!==n?setTimeout(function(){s===n?s="":(notify(n),w(n))},MD.delaybinder):s=""}}else n=e;var a=!1,o=e&&m(e)||{},l={get:function(t,e,n){try{return new Proxy(t[e],l)}catch(r){return Reflect.get(t,e,n)}},defineProperty:function(t,e,r){return!a&&n(e,r),Reflect.defineProperty(t,e,r)},deleteProperty:function(t,e){return!a&&n(e),Reflect.deleteProperty(t,e)},apply:function(t,e,i){if(r[t.name]){a=!0;var s=Reflect.apply(t,e,i);return n("",i[0]),a=!1,s}return Reflect.apply(t,e,i)}},u=new Proxy(o,l);return i?(s=e,null==m(e)&&b(e,o,!0),proxy[e]=u):u},default:function e(r,i,s,o){if(i>0)return setTimeout(function(){e(r,0,s,o)},i),this;"boolean"==typeof s&&(o=s,s=null),void 0===o&&(o=!0);var l,c=(r=n(r.replaceWildcard())).replace(/\.\*$/,""),f=d["#"+t.hashCode(c)];f&&(l=f(),g(c,l));for(var h=[],p=a.componenter.components,v=0,m=p.length;v<m;v++){var b=p[v];if(b&&!b.$removed&&!b.disabled&&b.$loaded&&b.path&&b.$compare(r)&&(b.state&&h.push(b),!s||s._id===b._id)){if(b.$default&&b.set(b.$default(),3),!o)return;findControl2(b),b.$dirty_disabled||(b.$dirty=!0),b.$valid_disabled||(b.$valid=!0,b.$validate=!1,b.validate&&(b.$valid=b.validate(b.get()),b.$interaction(102)))}}return o&&(u.clearPageData("valid","dirty"),t.state(h,3,3)),this},disabled:function(t,e){return t=n(t),a.componenter.com_dirty(t,e)||!a.componenter.com_valid(t,e)},errors:function(e,r,i){e instanceof Array&&(r=e,e=void 0),!0===r&&(r=i instanceof Array?i:null,i=!0);var a=[];return each(function(t){t.disabled||r&&t.$except(r)||!1!==t.$valid||t.$valid_disabled||a.push(t)},n(e)),i&&t.state(a,1,1),a},evaluate:function(t,e,n){var r="eval"+e,i=temp[r],a=null;return a=n?t:m(t),i?i.call(a,a,t):(-1===e.indexOf("return")&&(e="return "+e),i=new Function("value","path",e),temp[r]=i,i.call(a,a,t))},exec:x,exec2:function(t,e){var n=!0===t;return function(r,i,a,s){n?x(e,t,r,i,a,s):x(t,r,i,a,s)}},extend:function(e,r,i){if(e=n(e)){var a=m(e);null==a&&(a={}),b(e,t.extend(a,r),i)}return this},format:function(e,n,r){if(t.isFunction(e))return!0===n?p.unshift(e):p.push(e),this;var i=p;if(i&&i.length)for(var a=0,s=i.length;a<s;a++){var o=i[a].call(M,n,e,r);void 0!==o&&(e=o)}return e},get:m,inc:function e(n,r,i){if(n instanceof Array){for(var a=0;a<n.length;a++)e(n[a],r,i);return this}if(!n)return this;var s=m(n);return s?t.isNumber(s)||(s=parseFloat(s),isNaN(s)&&(s=0)):s=0,b(n,s+=r,i),this},invalid:function(t,e){return(t=n(t))&&(a.componenter.com_dirty(t,!1,e,!0),a.componenter.com_valid(t,!1,e)),W},make:function(t,e,n){switch(typeof t){case"function":e=t,t={};break;case"string":var r=t,i=!0;return null==(t=m(r))&&(i=!1,t={}),e.call(t,t,r,function(e,n){b(t,e,n)}),!i||void 0!==n&&!0!==n?a.ready?g(r,t):b(r,t,!0):y(r,!0),t}return e.call(t,t,""),t},modify:function e(n,r,i){return n&&"object"==typeof n?Object.keys(n).forEach(function(t){e(t,n[t],r)}):(t.isFunction(r)&&(r=r(m(n))),b(n,r,i),i?t.setTimeout(k,i+5,n):k(n)),this},modified:function(t){var e=[];return each(function(t){t.disabled||t.$dirty_disabled||!1===t.$dirty&&e.push(t.path)},n(t)),e},parser:j,paths:h,push:$,reset:w,rewrite:function(t,e,r){return(t=n(t))&&(s=t,g(t,e),o.emitwatch(t,e,r)),this},set:g,set2:function(t,e,n){if(null!=e){var r="++"+e;if(h[r])return h[r](t,n,e);for(var a=f(e),s=[],o=0;o<a.length-1;o++){var l=a[o],u=a[o+1]&&i.test(a[o+1])?"[]":"{}",c="w"+("["===l.substring(0,1)?"":".")+l;s.push("if(typeof("+c+")!=='object'||"+c+"==null)"+c+"="+u)}var d=a[a.length-1];"["!==d.substring(0,1)&&(d="."+d);var p=new Function("w","a","b",s.join(";")+";w"+d+"=a;return a");return h[r]=p,p(t,n,e),t}},setx:b,skipInc:function(){for(var t=0;t<arguments.length;t++)for(var e=arguments[t].split(","),n=0,r=e.length;n<r;n++){var i=e[n].trim();v[i]?v[i]++:v[i]=1}},skipDec:function(t){if(v[t]){var e=--v[t];if(e<=0)return delete v[t],!1}return!0},update:y,used:function(t){return each(function(t){!t.disabled&&t.used()},t),this}}}}),t("skylark-totaljs-jcomponent/views/View",["../langx","../utils/domx","../utils/query","./binding","./cache","./componenter","./eventer","./compiler","./helper","./scoper","./storing"],function(t,e,n,r,i,a,s,o,l,u,c){var f=e.Plugin.inherit({options:{elmAttrNames:{scope:"data-scope",bind:"data-bind",store:"data-store",com:{base:"data-com",url:"data-comp-url",removed:"data-com-removed",released:"data-com-released"},compile:"data-compile"}},_construct:function(t,n){e.Plugin.prototype._construct.apply(this,arguments),this.helper=l(this),this.eventer=s(this),this.scoper=u(this),this.binding=r(this),this.storing=c(this),this.componenter=a(this),this.compiler=o(this),this.cache=i(this),this.ready=[]},add:function(t,e){if((e instanceof COM||e instanceof Scope||e instanceof Plugin)&&(e=e.element),t instanceof Array)for(var r=0;r<t.length;r++)ADD(t[r],e);else n(e||document.body).append('<div data-jc="{0}"></div>'.format(t)),setTimeout2("ADD",COMPILE,10)},compile:function(t,e){},refresh:function(){var e=this;setTimeout2("$refresh",function(){e.componenter.components.sort(function(e,n){if(e.$removed||!e.path)return 1;if(n.$removed||!n.path)return-1;var r=e.path.length,i=n.path.length;return r>i?-1:r===i?t.localCompare(e.path,n.path):1})},200)},start:function(){this.helper.startView()},end:function(){}});return f}),t("skylark-totaljs-jcomponent/views",["./jc","./views/View"],function(t,e){return t.views={View:e}}),t("skylark-totaljs-jcomponent/others/schedulers",["../langx"],function(t){var e=[],n=0;return n=0,setInterval(function(){if(e.length){n++;for(var r=t.now(!0),i=0,a=e.length;i<a;i++){var s=e[i];if("m"===s.type){if(n%30!=0)continue}else if("h"===s.type&&n%900!=0)continue;for(var o=r.add(s.expire),l=FIND(s.selector,!0),u=0;u<l.length;u++){var c=l[u];c&&c.usage.compare(s.name,o)&&s.callback(c)}}}},3500),{clear:function(t){return e=e.remove("id",t),this},clearAll:function(t){return e.remove("owner",t),this},schedule:function(n,r,i,a){"-"!==i.substring(0,1)&&(i="-"+i);var s=i.split(" ")[1].toLowerCase().substring(0,1),o=t.guid(10);return e.push({id:o,name:r,expire:i,selector:n,callback:a,type:"y"===s||"d"===s?"h":s,owner:current_owner}),o}}}),t("skylark-totaljs-jcomponent/others/transforms",[],function(){var t={};return{register:function(e,n){return t[e]=n,this},transform:function e(n,r,i){var a=t;if(2===arguments.length)return function(t){e(n,t,r)};var s=function(){"string"==typeof i?SET(i,r):i(r)};var o=n.split(",");var l=[];var u={};u.value=r;for(var c=0,f=o.length;c<f;c++){var h=o[c].trim();h&&a[h]&&l.push(a[h])}1===l.length?[0].call(u,r,function(t){void 0!==t&&(r=t),s()}):l.length?l.wait(function(t,e){t.call(u,r,function(t){void 0!==t&&(r=t),e()})},s):s();return this}}}),t("skylark-totaljs-jcomponent/globals",["./jc","./langx","./utils","./plugins","./components","./binding","./stores","./views","./others/schedulers","./others/transforms"],function(t,e,n,r,i,a,s,o,l,u){var c=n.query,f=n.blocks,h=n.storage,d=n.cookies,p=n.domx;return envs=n.envs,http=n.http,localStorage=n.localStorage,logs=n.logs,W=window,inited=!1,t.globals=function(){if(inited)return W;W.W=window,W.FUNC={},Object.defineProperty(W,"WH",{get:function(){return c(W).height()}}),Object.defineProperty(W,"WW",{get:function(){return c(W).width()}}),Object.defineProperty(W,"NOW",{get:function(){return e.now()}}),c.fn.scope=function(){if(!this.length)return null;var t=this[0].$scopedata;if(t)return t;var e=this.closest("["+ATTRSCOPE+"]");return e.length&&(t=e[0].$scopedata)?t:null},c.fn.vbindarray=function(){return p.findinstance(this,"$vbindarray")},c.fn.vbind=function(){return p.findinstance(this,"$vbind")};var t,n=new o.View(document.body,{store:new s.Store({data:W})}),u=n.storing,v=(n.helper,n.componenter),m=n.compiler,g=n.eventer,b=n.binding;return n.start(),c.components=n.components,e.mixin(W,{isPRIVATEMODE:!1,isMOBILE:/Mobi/.test(navigator.userAgent),isROBOT:!navigator.userAgent||/search|agent|bot|crawler|spider/i.test(navigator.userAgent),isSTANDALONE:navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,isTOUCH:!!("ontouchstart"in window||navigator.maxTouchPoints)}),e.each({MONTHS:"months",DAYS:"days"},function(t,e){Object.defineProperty(W,t,{get:()=>Date[e],set(t){Date[e]=t}})}),e.mixin(W,{AJAXCONFIG:http.configure,AJAX:http.ajax,AJAXCACHE:http.ajaxCache,AJAXCACHEREVIEW:http.ajaxCacheReview,clearTimeout2:e.clearTimeout2,CACHE:h,CLEARCACHE:h.clear,CLEARSCHEDULE:l.clear,CLONE:e.clone,ENV:envs.variant,COOKIES:d,COPY:e.copy,CSS:p.style,DEF:{},EMPTYARRAY:e.empties.array,EMPTYOBJECT:e.empties.object,GUID:e.guid,HASH:e.hashCode,LCOMPARER:e.localCompare,IMPORTCACHE:http.importCache,IMPORT:http.import,MAKEPARAMS:http.makeParams,MEDIAQUERY:p.watchMedia,NOOP:e.empties.fn,PING:http.ping,READPARAMS:http.parseQuery,REMOVECACHE:h.remove,PARSE:e.parse,setTimeout2:e.setTimeout2,SCHEDULE:l.schedule,SCROLLBARWIDTH:p.scrollbarWidth,SINGLETON:e.singleton,STRINGIFY:e.stringify,STYLE:p.style,UPLOAD:http.upload,UPTODATE:http.uptodate,WAIT:e.wait,WARN:logs.warn,WIDTH:p.mediaWidth,FN:e.arrowFn}),e.mixin(W,{PLUGIN:r.register,PLUGINS:r.registry}),W.ADD=n.add,W.BIND=function(t){return u.bind(t)},W.BLOCKED=f.blocked,W.CACHEPATH=function(t,e,n){return u.cache(t,e,n)},W.CHANGE=function(t,e){return u.change(t.value)},W.CHANGED=function(t){return u.change(t)},W.COMPILE=function(e){return clearTimeout(t),m.compile(e)},W.COMPONENT=i.register,W.COMPONENT_CONFIG=i.configer,W.COMPONENT_EXTEND=i.extend,W.CREATE=function(t){return u.create(t)},W.DEFAULT=function(t,e,n){var r=t.split(/_{2,}/);if(r.length>1){var i=r[1],a=(t=r[0]).indexOf(".*");-1!==a&&(t=t.substring(0,a)),SET(t,new Function("return "+i)(),e>10?e:3,e>10?3:null)}return u.default(r[0],e,null,n)},W.EMIT=function(t){return g.emit.apply(u,arguments)},W.ERRORS=function(t,e,n){return u.errors(t,e,n)},W.EXEC=function(t){return u.exec.apply(u,arguments)},W.EXTEND=function(t,e,n,r){var i=typeof n;return"boolean"===i?u.extend(t,e,n):!n||n<10||"number"!==i?u.extend(t,e,n):(setTimeout(function(){u.extend(t,e,r)},n),W)},W.EXTEND2=function(t,e,n){return W.EXTEND(t,e,n),CHANGE(t),W},W.EVALUATE=function(t,e,n){return u.evaluate(t,e,n)},W.FIND=function(t,e,n,r){return v.find(t,e,n,r)},W.FREE=function(t){return e.setTimeout2("$clean",cleaner,t||10),W},W.GET=function(t,e){return t=b.pathmaker(t),!0===e&&(e=null,RESET(t,!0)),u.get(t,e)},W.GETR=function(t){return GET(t,!0)},W.INC=function(t,e,n,r){null==e&&(e=1);var i=typeof n;return"boolean"===i?u.inc(t,e,n):!n||n<10||"number"!==i?u.inc(t,e,n):(setTimeout(function(){u.inc(t,e,r)},n),W)},W.INC2=function(t,e,n){return INC(t,e,n),CHANGE(t),W},W.LASTMODIFICATION=W.USAGE=function(t,e,n,r){return v.usage(t,e,n,r)},W.MAKE=function(t,e,n){return u.make(t,e,n)},W.MODIFIED=function(t){return u.modified(t)},W.NOTMODIFIED=function(t,e,n){},W.MODIFY=function(t,e,n){return u.modify(t,e,n),W},W.NOTIFY=function(){return v.notify.apply(v,arguments),W},W.OFF=function(t,e,n){return g.off(t,e,n)},W.ON=function(t,e,n,r,i){return g.on(t,e,n,r,i)},W.OPT=function(t,n){return e.isFunction(t)&&(n=t,t={}),n.call(t,function(e,n){return u.set2(t,e,n)}),t},W.PUSH=function(t,e,n,r){var i=typeof n;return"boolean"===i?u.push(t,e,n):!n||n<10||"number"!==i?u.push(t,e,n):(setTimeout(function(){u.push(t,e,r)},n),W)},W.PUSH2=function(t,e,n){return PUSH(t,e,n),CHANGE(t),W},W.RECOMPILE=function(){t&&clearTimeout(t),t=setTimeout(function(){COMPILE(),t=null},700)},W.REMOVECACHE=h.remove,W.RESET=function(t,e,n){return u.reset(t,e,n)},W.REWRITE=function(t,e,n){return u.rewrite(t,e,n)},W.SET=function(t,e,n,r){var i=typeof n;return"boolean"===i?u.setx(t,e,n):!n||n<10||"number"!==i?u.setx(t,e,n):(setTimeout(function(){u.setx(t,e,r)},n),W)},W.SEEX=function(t,e,n,r,i){-1===t.indexOf(".")?EXEC(t,e,n,r,i):SET(t,e)},W.SET2=function(t,e,n){return SET(t,e,n),CHANGE(t),W},W.SETR=function(t,e,n){return u.setx(t,e,n),RESET(t),W},W.SETTER=function(){return v.setter.apply(v,arguments)},W.SKIP=function(){return u.skipInc.apply(u,arguments)},W.TOGGLE=function(t,e,n){var r=GET(t);return SET(t,!r,e,n),W},W.TOGGLE2=function(t,e){return TOGGLE(t,e),CHANGE(t),W},W.UNWATCH=function(t,e){return u.unwatch(t,e)},W.UPDATE=function(t,e,n){var r=typeof e;return"boolean"===r?u.update(t,e):!e||e<10||"number"!==r?u.update(t,n,e):void setTimeout(function(){u.update(t,n)},e)},W.UPDATE2=function(t,e){return UPDATE(t,e),CHANGE(t),W},W.UPTODATE=function(t,n,r,i){e.isFunction(n)&&(i=r,r=n,n="");var a=(new Date).add(t);topic.on("knockknock",function(){if(!(a>e.now())&&i&&i()){var t=setTimeout(function(){var t=window.location;n?t.href=n.$env():t.reload(!0)},5e3);r&&r(t)}})},W.VBIND=a.vbind,W.VBINDARRAY=a.vbindArray,W.VALIDATE=function(t,e){return v.validate(t,e)},W.VERSION=i.versions.set,W.WATCH=function(t,e,n){return g.watch(t,e,n)},inited=!0,W}}),t("skylark-totaljs-jcomponent/main",["./jc","./binding","./components","./langx","./plugins","./stores","./utils","./views","./globals"],function(t){return t}),t("skylark-totaljs-jcomponent",["skylark-totaljs-jcomponent/main"],function(t){return t})}(n),!r){var s=require("skylark-langx/skylark");i?module.exports=s:e.skylarkjs=s}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-totaljs-jcomponent.js.map
