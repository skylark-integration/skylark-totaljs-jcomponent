/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-totaljs-jcomponent/
 * @license MIT
 */
!function(t,e){var n=e.define,r=e.require,i="function"==typeof n&&n.amd,a=!i&&"undefined"!=typeof exports;if(!i&&!n){var s={};n=e.define=function(t,e,n){"function"==typeof n?(s[t]={factory:n,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var n=e.split("/"),r=t.split("/");n.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?n.pop():n.push(r[i]));return n.join("/")}(e,t)}),resolved:!1,exports:null},r(t)):s[t]={factory:null,resolved:!0,exports:n}},r=e.require=function(t){if(!s.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var n=s[t];if(!n.resolved){var i=[];n.deps.forEach(function(t){i.push(r(t))}),n.exports=n.factory.apply(e,i)||null,n.resolved=!0}return n.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,e){t("skylark-totaljs-jcomponent/jc",["skylark-langx/skylark","skylark-langx/langx","skylark-utils-dom/query"],function(t,e,n){var r=t.totaljs={},i=r.jc={};return i.version=16.044,i.$version="",i.$language="",i.prototypes=function(t){var e={};return e.Component=PPC,e.Usage=USAGE.prototype,e.Plugin=Plugin.prototype,t.call(e,e),i},i}),t("skylark-totaljs-jcomponent/langx/regexp",[],function(){var t={int:/(-|\+)?[0-9]+/,float:/(-|\+)?[0-9.,]+/,date:/yyyy|yy|MMMM|MMM|MM|M|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|a|ww|w/g,pluralize:/#{1,}/g,format:/\{\d+\}/g};return t}),t("skylark-totaljs-jcomponent/langx/now",[],function(){var t=null;return function(e){return void 0!==e&&(t="boolean"==typeof e?new Date:e),t}}),t("skylark-totaljs-jcomponent/langx/statics",[],function(){return{}}),t("skylark-totaljs-jcomponent/langx/ArrayEx",["skylark-langx/langx","./regexp"],function(t,e){var n=Array.prototype;function r(t,e,n,r,i){i.pending--,t.wait(e,n,r,i)}n.wait=n.waitFor=function(e,n,i,a){var s=this,o=!1;a||(t.isFunction(n)||(i=n,n=null),(a={}).pending=0,a.index=0,a.thread=i,o=!0);var c=!0===i?s.shift():s[a.index++];if(void 0===c)return a.pending||(n&&n(),a.cancel=!0),s;if(a.pending++,e.call(s,c,function(){setTimeout(r,1,s,e,n,i,a)},a.index),!o||1===a.thread)return s;for(var l=1;l<a.thread;l++)s.wait(e,n,1,a);return s},n.limit=function(t,e,n,r){void 0===r&&(r=0);for(var i=[],a=this,s=r+t,o=r;o<s;o++){var c=a[o];if(void 0===c)return i.length?(e(i,function(){n&&n()},r,r+t),a):(n&&n(),a);i.push(c)}return i.length?(e(i,function(){s<a.length?a.limit(t,e,n,s):n&&n()},r,r+t),a):(n&&n(),a)},n.async=function(e,n){if(t.isFunction(e)){var r=n;n=e,e=r}e||(e={});var i=this,a=0,s=function(){var t=i[a++];if(!t)return n&&n.call(e);t.call(e,s,a-1)};return s(),this},n.take=function(t){for(var e=[],n=this.length,r=0;r<n;r++)if(e.push(this[r]),e.length>=t)return e;return e},n.skip=function(t){for(var e=[],n=this.length,r=0;r<n;r++)r>=t&&e.push(this[r]);return e},n.takeskip=function(t,e){for(var n=[],r=this.length,i=0;i<r;i++)if(!(i<e)){if(n.length>=t)return n;n.push(this[i])}return n},n.trim=function(e){for(var n=[],r=0,i=this.length;r<i;r++)t.isString(this[r])&&(this[r]=this[r].trim()),(e||this[r])&&n.push(this[r]);return n},n.findIndex=function(e,n){for(var r=t.isFunction(e),i=void 0!==n,a=0,s=this.length;a<s;a++)if(r){if(e.call(this,this[a],a))return a}else if(i){if(this[a][e]===n)return a}else if(this[a]===e)return a;return-1},n.findAll=function(e,n){for(var r=t.isFunction(e),i=void 0!==n,a=[],s=0,o=this.length;s<o;s++)r?e.call(this,this[s],s)&&a.push(this[s]):i?this[s][e]===n&&a.push(this[s]):this[s]===e&&a.push(this[s]);return a},n.findItem=function(t,e){var n=this.findIndex(t,e);if(-1!==n)return this[n]},n.remove=function(e,n){for(var r=[],i=t.isFunction(e),a=void 0!==n,s=0,o=this.length;s<o;s++)i?!e.call(this,this[s],s)&&r.push(this[s]):a?this[s][e]!==n&&r.push(this[s]):this[s]!==e&&r.push(this[s]);return r},n.last=function(t){var e=this[this.length-1];return void 0===e?t:e},n.quicksort=function(t,e,n){var r=this.length;if(!r||1===r)return this;switch("boolean"==typeof t&&(e=t,t=void 0),null==e||"asc"===e?e=!0:"desc"===e&&(e=!1),n){case"date":n=4;break;case"string":n=1;break;case"number":n=2;break;case"bool":case"boolean":n=3;break;default:n=0}if(!n)for(var i=0;!n;){var a=this[i++];if(void 0===a)return this;switch(t&&(a=a[t]),typeof a){case"string":n=a.isJSONDate()?4:1;break;case"number":n=2;break;case"boolean":n=3;break;default:a instanceof Date&&(n=4)}}return this.sort(function(r,i){var a=t?r[t]:r,s=t?i[t]:i;if(null==a)return e?-1:1;if(null==s)return e?1:-1;if(1===n)return a&&s?e?LCOMPARER(a,s):LCOMPARER(s,a):0;if(2===n)return a>s?e?1:-1:a<s?e?-1:1:0;if(3===n)return!0===a&&!1===s?e?1:-1:!1===a&&!0===s?e?-1:1:0;if(4===n){if(!a||!s)return 0;a.getTime||(a=new Date(a)),s.getTime||(s=new Date(s));var o=a.getTime(),c=s.getTime();return o>c?e?1:-1:o<c?e?-1:1:0}return 0}),this},n.attr=function(t,e){if(2===arguments.length){if(null==e)return this}else void 0===e&&(e=t.toString());return this.push(t+'="'+e.toString().env().toString().replace(/[<>&"]/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;"}return t})+'"'),this},n.scalar=function(e,n,r){for(var i=r,a=!1,s="avg"===e||"average"===e,o="distinct"===e,c=0,l=this.length;c<l;c++){var u=n?this[c][n]:this[c];if(t.isString(u)&&(u=u.parseFloat()),u instanceof Date&&(a=!0,u=u.getTime()),o)i||(i=[]),-1===i.indexOf(u)&&i.push(u);else if("median"!==e)if("sum"===e||s)i?i+=u:i=u;else switch("range"!==e?i||(i=u):i||((i=new Array(2))[0]=u,i[1]=u),e){case"range":i[0]=Math.min(i[0],u),i[1]=Math.max(i[1],u);break;case"min":i=Math.min(i,u);break;case"max":i=Math.max(i,u)}else i||(i=[]),i.push(u)}if(o)return i;if(s)return i/=this.length,a?new Date(i):i;if("median"===e){i||(i=[0]),i.sort(function(t,e){return t-e});var f=Math.floor(i.length/2);i=i.length%2?i[f]:(i[f-1]+i[f])/2}if(a){if(t.isNumber(i))return new Date(i);i[0]=new Date(i[0]),i[1]=new Date(i[1])}return i}}),t("skylark-totaljs-jcomponent/langx/DateEx",["./regexp","./statics"],function(t,e){window.$jcdatempam=function(t){return t>=12?t-12:t};var n=Date.prototype;n.toNumber=function(t){return+this.format(t||"yyyyMMdd")},n.parseDate=function(){return this},n.add=function(t,e){if(void 0===e){var n=t.split(" ");t=n[1],e=parseInt(n[0])}typeof e===TYPE_S&&(e=e.env());var r=new Date(this.getTime());switch(t.substring(0,3)){case"s":case"ss":case"sec":return r.setSeconds(r.getSeconds()+e),r;case"m":case"mm":case"min":return r.setMinutes(r.getMinutes()+e),r;case"h":case"hh":case"hou":return r.setHours(r.getHours()+e),r;case"d":case"dd":case"day":return r.setDate(r.getDate()+e),r;case"w":case"ww":case"wee":return r.setDate(r.getDate()+7*e),r;case"M":case"MM":case"mon":return r.setMonth(r.getMonth()+e),r;case"y":case"yy":case"yyy":case"yea":return r.setFullYear(r.getFullYear()+e),r}return r},n.toUTC=function(t){var e=this.getTime()+6e4*this.getTimezoneOffset();return t?e:new Date(e)},n.format=function(n,r){var i=r?this.toUTC():this;if(null==n&&(n=MD.dateformat),!n)return i.getFullYear()+"-"+(i.getMonth()+1).toString().padLeft(2,"0")+"-"+i.getDate().toString().padLeft(2,"0")+"T"+i.getHours().toString().padLeft(2,"0")+":"+i.getMinutes().toString().padLeft(2,"0")+":"+i.getSeconds().toString().padLeft(2,"0")+"."+i.getMilliseconds().toString().padLeft(3,"0")+"Z";var a="dt_"+n;if(e[a])return e[a](i);var s=!1;(n=n.env())&&"!"===n.substring(0,1)&&(s=!0,n=n.substring(1));var o="'+",c="+'",l=[],u=!1,f=!1,h=!1;return n=n.replace(t.date,function(t){switch(t){case"yyyy":return"'+d.getFullYear()+'";case"yy":return"'+d.getFullYear().toString().substring(2)+'";case"MMM":return u=!0,"'+mm.substring(0, 3)+'";case"MMMM":return u=!0,"'+mm+'";case"MM":return"'+(d.getMonth() + 1).padLeft(2, '0')+'";case"M":return"'+(d.getMonth() + 1)+'";case"ddd":return f=!0,"'+dd.substring(0, 2).toUpperCase()+'";case"dddd":return f=!0,"'+dd+'";case"dd":return"'+d.getDate().padLeft(2, '0')+'";case"d":return"'+d.getDate()+'";case"HH":case"hh":return o+(s?"window.$jcdatempam(d.getHours()).padLeft(2, '0')":"d.getHours().padLeft(2, '0')")+c;case"H":case"h":return o+(s?"window.$jcdatempam(d.getHours())":"d.getHours()")+c;case"mm":return"'+d.getMinutes().padLeft(2, '0')+'";case"m":return"'+d.getMinutes()+'";case"ss":return"'+d.getSeconds().padLeft(2, '0')+'";case"s":return"'+d.getSeconds()+'";case"w":case"ww":return h=!0,o+("ww"===t?"ww.padLeft(2, '0')":"ww")+c;case"a":return"'+(d.getHours() >= 12 ? 'PM':'AM')+'"}}),u&&l.push("var mm = M.months[d.getMonth()];"),f&&l.push("var dd = M.days[d.getDay()];"),h&&l.push("var ww = new Date(+d);ww.setHours(0, 0, 0);ww.setDate(ww.getDate() + 4 - (ww.getDay() || 7));ww = Math.ceil((((ww - new Date(ww.getFullYear(), 0, 1)) / 8.64e7) + 1) / 7);"),e[a]=new Function("d",l.join("\n")+"return '"+n+"';"),e[a](i)}}),t("skylark-totaljs-jcomponent/langx/NumberEx",["./regexp"],function(t){var e=Number.prototype;e.pluralize=function(e,n,r,i){e instanceof Array&&(n=e[1],r=e[2],i=e[3],e=e[0]);var a=this,s="";return-1===(s=0==a?e||"":1==a?n||"":a>1&&a<5?r||"":i).indexOf("#")?s:s.replace(t.pluralize,function(t){return"##"===t?a.format():a.toString()})},e.format=function(t,e,n){var r=this.toString(),i="",a="",s="-"===r.substring(0,1)?"-":"";s&&(r=r.substring(1));var o,c=r.indexOf(".");"string"==typeof t&&("["===t.substring(0,1)?(o=ENV(t.substring(1,t.length-1)))&&(t=o.decimals,o.separator&&(e=o.separator),o.decimalseparator&&(n=o.decimalseparator)):(o=e,e=t,t=o));void 0===e&&(e=MD.thousandsseparator),-1!==c&&(i=r.substring(c+1),r=r.substring(0,c)),c=-1;for(var l=r.length-1;l>=0;l--)++c>0&&c%3==0&&(a=e+a),a=r[l]+a;return(t||i.length)&&(i=i.length>t?i.substring(0,t||0):i.padRight(t||0,"0")),i.length&&void 0===n&&(n=MD.decimalseparator),s+a+(i.length?n+i:"")},e.padLeft=function(t,e){return this.toString().padLeft(t,e||"0")},e.padRight=function(t,e){return this.toString().padRight(t,e||"0")},e.async=function(t,e){var n=this;return n>=0?t(n,function(){setTimeout(function(){(n-1).async(t,e)},1)}):e&&e(),n},e.add=e.inc=function(t,e){if(null==t)return this;if("number"==typeof t)return this+t;var n=t.charCodeAt(0),r=!1;(n<48||n>57)&&(r=!0,t=t.substring(1));var i,a=t.length;if("%"===t[a-1]){if(t=t.substring(0,a-1),r){var s=t.parseFloat();switch(n){case 42:i=this*(this/100*s);break;case 43:i=this+this/100*s;break;case 45:i=this-this/100*s;break;case 47:i=this/(this/100*s)}return void 0!==e?i.floor(e):i}return i=this/100*t.parseFloat(),void 0!==e?i.floor(e):i}switch(i=t.parseFloat(),n){case 42:i*=this;break;case 43:i=this+i;break;case 45:i=this-i;break;case 47:i=this/i;break;default:i=this}return void 0!==e?i.floor(e):i},e.floor=function(t){return Math.floor(this*Math.pow(10,t))/Math.pow(10,t)},e.parseDate=function(t){return new Date(this+(t||0))}}),t("skylark-totaljs-jcomponent/langx/StringEx",["./regexp","./now"],function(t,e){var n=/\.\*/,r=/\s/g,i=/[^a-zA-Zá-žÁ-Žа-яА-Я\d\s:]/g,a={225:"a",228:"a",269:"c",271:"d",233:"e",283:"e",357:"t",382:"z",250:"u",367:"u",252:"u",369:"u",237:"i",239:"i",244:"o",243:"o",246:"o",353:"s",318:"l",314:"l",253:"y",255:"y",263:"c",345:"r",341:"r",328:"n",337:"o"},s={url:/^(https?:\/\/(?:www\.|(?!www))[^\s.#!:?+=&@!$'~*,;/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?|www\.[^\s#!:.?+=&@!$'~*,;/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?)/i,phone:/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,email:/^[a-zA-Z0-9-_.+]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i},o=String.prototype;o.trimAll=function(){return this.replace(r,"")},o.ROOT=function(t){var e=this,n=MD.root,r=MD.baseurl,i=/(https|http|wss|ws|file):\/\/|\/\/[a-z0-9]|[a-z]:/i;return n?e=typeof n===TYPE_FN?n(e):i.test(e)?e:n+e:!t&&r&&(e=typeof r===TYPE_FN?r(e):i.test(e)?e:r+e),e.replace(/[^:]\/{2,}/,function(t){return t.substring(0,1)+"/"})},o.replaceWildcard=function(){return this.replace(n,"")},o.parseConfig=o.$config=function(t,e){var n;switch(typeof t){case TYPE_FN:e=t,n={};break;case TYPE_S:n=t.parseConfig();break;case TYPE_O:n=null!=t?t:{};break;default:n={}}for(var r=this.env().replace(/\\;/g,"\0").split(";"),i=/^(-)?[0-9.]+$/,a=/(https|http|wss|ws):\/\//gi,s=0,o=r.length;s<o;s++){var c=r[s].replace(/\0/g,";").replace(/\\:/g,"\0").replace(a,function(t){return t.replace(/:/g,"\0")}),l=c.split(":"),u=l.length;if(2===u){var f=l[0].trim(),h=l[1].trim().replace(/\0/g,":").env();if("true"===h||"false"===h)h="true"===h;else if(i.test(h)){var d=+h;isNaN(d)||(h=d)}n[f]=h,e&&e(f,h)}}return n},o.render=function(t,e){return Tangular.render(this,t,e)},o.isJSONDate=function(){var t=this,e=t.length-1;return e>18&&e<30&&90===t.charCodeAt(e)&&84===t.charCodeAt(10)&&45===t.charCodeAt(4)&&58===t.charCodeAt(13)&&58===t.charCodeAt(16)},o.parseExpire=function(){var t=this.split(" "),e=parseInt(t[0]);if(isNaN(e))return 0;switch(t[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*e;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*e;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*e;case"days":case"day":case"DD":case"dd":case"d":return 864e5*e;case"months":case"month":case"MM":case"M":return 24192e5*e;case"weeks":case"week":case"W":case"w":return 6048e5*e;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*e;default:return 0}},o.removeDiacritics=function(){for(var t="",e=0,n=this.length;e<n;e++){var r=this[e],i=r.charCodeAt(0),s=!1,o=a[i];void 0===o&&(i=r.toLowerCase().charCodeAt(0),o=a[i],s=!0),void 0!==o?(r=o,t+=s?r.toUpperCase():r):t+=r}return t},o.toSearch=function(){for(var t=this.replace(i,"").trim().toLowerCase().removeDiacritics(),e=[],n="",r=0,a=t.length;r<a;r++){var s=t.substring(r,r+1);"y"===s&&(s="i"),s!==n&&(n=s,e.push(s))}return e.join("")},o.slug=function(t){t=t||60;for(var e=this.trim().toLowerCase().removeDiacritics(),n="",r=e.length,i=0;i<r;i++){var a=e.substring(i,i+1),s=e.charCodeAt(i);if(n.length>=t)break;s>31&&s<48?"-"!==n.substring(n.length-1,n.length)&&(n+="-"):s>47&&s<58?n+=a:s>94&&s<123&&(n+=a)}var o=n.length-1;return"-"===n[o]?n.substring(0,o):n},o.isEmail=function(){return!(this.length<=4)&&s.email.test(this)},o.isPhone=function(){return!(this.length<6)&&s.phone.test(this)},o.isURL=function(){return!(this.length<=7)&&s.url.test(this)},o.parseInt=function(e){var n=this.trim(),r=n.match(t.int);return r?(r=+r[0],isNaN(r)?e||0:r):e||0},o.parseFloat=function(e){var n=this.trim(),r=n.match(t.float);return r?(-1!==(r=r[0]).indexOf(",")&&(r=r.replace(",",".")),r=+r,isNaN(r)?e||0:r):e||0},o.padLeft=function(t,e){var n=this.toString();return Array(Math.max(0,t-n.length+1)).join(e||" ")+n},o.padRight=function(t,e){var n=this.toString();return n+Array(Math.max(0,t-n.length+1)).join(e||" ")},o.format=function(){var e=arguments;return this.replace(t.format,function(t){var n=e[+t.substring(1,t.length-1)];return null==n?"":n instanceof Array?n.join(""):n})},o.parseDate=function(){var t=this.trim();if(!t)return null;var n=t.charCodeAt(t.length-1);if(41===n)return new Date(t);if(90===n)return new Date(Date.parse(t));var r=-1===t.indexOf(" ")?t.split("T"):t.split(" "),i=r[0].indexOf(":"),a=r[0].length;if(-1!==i){var s=r[1];r[1]=r[0],r[0]=s}void 0===r[0]&&(r[0]="");for(var o=void 0===r[1]||0===r[1].length,c=0;c<a;c++){var l=r[0].charCodeAt(c);if(!(l>47&&l<58||45===l||46===l)&&o)return new Date(t)}void 0===r[1]&&(r[1]="00:00:00");var u=-1===r[0].indexOf("-"),f=(r[0]||"").split(u?".":"-"),h=(r[1]||"").split(":"),d=[];if(f.length<4&&h.length<2)return new Date(t);-1!==(i=(h[2]||"").indexOf("."))?(h[3]=h[2].substring(i+1),h[2]=h[2].substring(0,i)):h[3]="0",d.push(+f[u?2:0]),d.push(+f[1]),d.push(+f[u?0:2]),d.push(+h[0]),d.push(+h[1]),d.push(+h[2]),d.push(+h[3]);for(var p=e(!0),c=0,a=d.length;c<a;c++){isNaN(d[c])&&(d[c]=0);var m=d[c];if(0===m)switch(c){case 0:m<=0&&(d[c]=p.getFullYear());break;case 1:m<=0&&(d[c]=p.getMonth()+1);break;case 2:m<=0&&(d[c]=p.getDate())}}return new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])}}),t("skylark-totaljs-jcomponent/langx",["skylark-langx/langx","./jc","./langx/regexp","./langx/now","./langx/statics","./langx/ArrayEx","./langx/DateEx","./langx/NumberEx","./langx/StringEx"],function(t,e,n,r,i){var a={};function s(t,e){var n=typeof t;switch(n){case TYPE_N:case"boolean":return t;case TYPE_S:return e?t:s(get(t),!0)}return null==t?t:t instanceof Date?new Date(t.getTime()):PARSE(JSON.stringify(t))}window.Intl&&window.Intl.Collator().compare;var o={array:[],object:{},fn:function(){}},c={};return Object.freeze&&(Object.freeze(o.array),Object.freeze(o.object)),e.langx={Evented:t.Evented,hoster:hoster,isFunction:t.isFunction,isNumber:t.isNumber,isObject:t.isObject,isString:t.isString,klass:t.klass,mixin:t.mixin,topic:t.topic,async:function t(e,n,r){var i=e.shift();if(null==i)return r&&r();n(i,function(){t(e,n,r)})},clearTimeout2:function(t){var e=":"+t;if(i[e])return clearTimeout(i[e]),i[e]=void 0,i[e+":limit"]&&(i[e+":limit"]=void 0),!0;return!1},clone:s,copy:function(t,e){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],a=t[i],o=typeof a;e[i]=o===TYPE_O&&a?s(a):a}return e},empties:o,Evented:t.Evented,guid:function(t){t||(t=10);for(var e=1+(t/10>>0),n=[],r=0;r<e;r++)n.push(Math.random().toString(36).substring(2));return n.join("").substring(0,t)},hashCode:function(t){if(!t)return 0;var e=typeof t;if(e===TYPE_N)return t;if("boolean"===e)return t?1:0;if(t instanceof Date)return t.getTime();e===TYPE_O&&(t=STRINGIFY(t));var n,r,i=0;if(!t.length)return i;var a=t.length;for(n=0;n<a;n++)r=t.charCodeAt(n),i=(i<<5)-i+r,i|=0;return i},now:r,parse:function t(e,n){var r=e.substring(0,1);if("#"===r||"."===r)return t($(e).html(),n);void 0===n&&(n=MD.jsondate);try{return JSON.parse(e,function(t,e){return typeof e===TYPE_S&&n&&e.isJSONDate()?new Date(e):e})}catch(t){return null}},regexp:n,setTimeout2:function(t,e,n,r,a){var s=":"+t;if(r>0){var o=s+":limit";if(i[o]>=r)return;return i[o]=(i[o]||0)+1,i[s]&&clearTimeout(i[s]),i[s]=setTimeout(function(t){i[o]=void 0,e&&e(t)},n,a)}return i[s]&&clearTimeout(i[s]),i[s]=setTimeout(e,n,a)},singleton:function(t,e){return c[t]||(c[t]=new Function("return "+(e||"{}"))())},state:function(t,e,n){t&&t.length&&setTimeout(function(){for(var r=0,i=t.length;r<i;r++)t[r].stateX(e,n)},2,t)},stringify:function(t,e,n){void 0===e&&(e=MD.jsoncompress);var r=typeof n;return JSON.stringify(t,function(t,i){if(!t)return i;if(n)if(n instanceof Array){if(-1===n.indexOf(t))return}else if(r===TYPE_FN){if(!n(t,i))return}else if(!1===n[t])return;if(!0===e){var a=typeof i;if(a===TYPE_S)return(i=i.trim())||void 0;if(!1===i||null==i)return}return i})},statics:i,wait:function(t,e,n,r){var i=(1e4*Math.random()>>0).toString(16),s=r>0?i+"_timeout":0;if(typeof e===TYPE_N){var o=n;n=e,e=o}var c=typeof t===TYPE_S,l=!1;if(c){var u=get(t);u&&(l=!0)}else t()&&(l=!0);if(l)return void e(null,function(i){setTimeout(function(){WAIT(t,e,n,r)},i||1)});s&&(a[s]=setTimeout(function(){clearInterval(a[i]),delete a[s],delete a[i],e(new Error("Timeout."))},r));a[i]=setInterval(function(){if(c){var r=get(t);if(null==r)return}else if(!t())return;clearInterval(a[i]),delete a[i],s&&(clearTimeout(a[s]),delete a[s]),e&&e(null,function(r){setTimeout(function(){WAIT(t,e,n)},r||1)})},n||500)}}}),t("skylark-totaljs-jcomponent/plugins/_registry",[],function(){return{}}),t("skylark-totaljs-jcomponent/utils/localStorage",["../langx"],function(t){var e="jc.";return{clear:function(){for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);0==r.indexOf(e)&&t.push(r)}for(var n=0;n<t.length;n++)localStorage.removeItem(t[n])},get:function(n){var r=localStorage.getItem(e+n);r&&t.isString(r)&&(r=t.parse(r));return r},remove:function(t){localStorage.removeItem(e+t)},set:function(t,n){return localStorage.setItem(e+t,JSON.stringify(n)),this}}}),t("skylark-totaljs-jcomponent/utils/cache",["../langx","./localStorage"],function(t,e){var n={},r={},i={};function a(){e.setItem("cache",i)}function s(t,e,n){return void 0!==e?s.set(t,e,n):s.get(t)}function a(){e.set("cache",i)}return s.get=function(t,e){var n,a=!e||"session"==e,s=!e||"session"!=e;if(a&&(n=r[t]),void 0===n&&s){var o=i[t];o&&o.expire>now&&(n=o.value)}return n},s.set=function(e,n,s){if(!s||"session"===s)return r[e]=n,this;t.isString(s)&&(s=s.parseExpire());var o=Date.now();return i[e]={expire:o+s,value:n},a(),this},s.remove=function(t,e){if(e)for(var n in i)-1!==n.indexOf(t)&&delete i[t];else delete i[t];return a(),this},s.clean=function(){for(var t in i){var e=i[t];(!e.expire||e.expire<=now)&&delete i[t]}return a(),this},s.clear=function(){if(!M.isPRIVATEMODE){var t=e.removeItem,n=$localstorage;t(n),t(n+".cache"),t(n+".blocked")}return this},s.getPageData=function(t){return n[t]},s.setPageData=function(t,e){return n[t]=e,this},s.clearPageData=function(){if(arguments.length)for(var e=t.keys(n),r=0,i=e.length;r<i;r++){for(var a=e[r],s=!1,o=arguments,c=0;c<o.length;c++)if(a.substring(0,o[c].length)===o[c]){s=!0;break}s&&delete n[a]}else n={}},s.getSessionData=function(t){return r[t]},s.setSessionData=function(t,e){return r[t]=e,this},s.clearSessionData=function(){if(arguments.length)for(var e=t.keys(n),i=0,a=e.length;i<a;i++){for(var s=e[i],o=!1,c=arguments,l=0;l<c.length;l++)if(s.substring(0,c[l].length)===c[l]){o=!0;break}o&&delete r[s]}else r={}},s.getStorageData=function(t){return r[t]},s.setStorageData=function(t,e){return r[t]=e,this},s.clearStorageData=function(){if(arguments.length)for(var e=t.keys(n),i=0,s=e.length;i<s;i++){for(var o=e[i],c=!1,l=arguments,u=0;u<l.length;u++)if(o.substring(0,l[u].length)===l[u]){c=!0;break}c&&delete r[o]}else r={};a()},s.load=function(){var n;if(clearTimeout($ready),MD.localstorage)try{(n=e.getItem(M.$localstorage+".cache"))&&t.isString(n)&&(i=t.parse(n))}catch(t){}if(i){var r=i.$jcpath;r&&Object.keys(r.value).forEach(function(t){immSetx(t,r.value[t],!0)})}M.loaded=!0},s}),t("skylark-totaljs-jcomponent/plugins/schedulers",["../jc","../langx"],function(t,e){var n=[],r=0;return r=0,setInterval(function(){if(n.length){r++;for(var t=e.now(!0),i=0,a=n.length;i<a;i++){var s=n[i];if("m"===s.type){if(r%30!=0)continue}else if("h"===s.type&&r%900!=0)continue;for(var o=t.add(s.expire),c=FIND(s.selector,!0),l=0;l<c.length;l++){var u=c[l];u&&u.usage.compare(s.name,o)&&s.callback(u)}}}},3500),t.schedulers={clear:function(t){return n=n.remove("id",t),this},clearAll:function(t){return n.remove("owner",t),this},schedule:function(t,r,i,a){"-"!==i.substring(0,1)&&(i="-"+i);var s=i.split(" ")[1].toLowerCase().substring(0,1),o=e.guid(10);return n.push({id:o,name:r,expire:i,selector:t,callback:a,type:"y"===s||"d"===s?"h":s,owner:current_owner}),o}}}),t("skylark-totaljs-jcomponent/plugins/Plugin",["skylark-utils-dom/query","../jc","../utils/cache","./_registry","./schedulers"],function(t,e,n,r,i){function a(t,e){/\W/.test(t)&&warn("Plugin name must contain A-Z chars only."),r[t]&&r[t].$remove(!0);var n=this;n.id="plug"+t,n.name=t,r[t]=n,e.call(n,n)}return a.prototype.$remove=function(){return!this.element||(i.clearAll(this.id),this.element=null,delete r[this.name],!0)},a}),t("skylark-totaljs-jcomponent/plugins",["skylark-utils-dom/query","./jc","./plugins/_registry","./plugins/Plugin"],function(t,e,n,r){return e.plugins={Plugin:r,plugin:function(t,e){return e?new r(t,e):n[t]},find:function(t){return n[t]}}}),t("skylark-totaljs-jcomponent/utils/query",["skylark-utils-dom/query"],function(t){return t}),t("skylark-totaljs-jcomponent/binding/Binder",["../utils/query","../jc","../langx"],function(t,e,n){var r={value:null};function i(){}var a=i.prototype;return a.exec=function(t,e,i,a,s){var o=this,c=o.el;if(null!=i){if(null==o.child)return;if(null==(o=o.child[i]))return}if((!o.notnull||null!=t)&&(o.selector&&(o.cache?c=o.cache:(c=c.find(o.selector)).length&&(o.cache=c)),c.length)){if(!a&&o.delay)return o.$delay&&clearTimeout(o.$delay),void(o.$delay=setTimeout(function(t,e,n,r,i){t.$delay=null,t.exec(e,n,r,!0,i)},o.delay,o,t,e,i,s));if(o.init){if(o.strict&&o.path!==e)return;if(o.track&&o.path!==e){for(var s=!1,l=0;l<o.track.length;l++)if(o.track[l]===e){s=!0;break}if(!s)return}}else o.init=1;o.def&&null==t&&(t=o.def),o.format&&(t=o.format(t,e));var u=null;if(s=!1!==s,!o.show||null==t&&o.show.$nn||(u=o.show.call(o.el,t,e,o.el),c.tclass("hidden",!u),u||(s=!1)),!o.hide||null==t&&o.hide.$nn||(u=o.hide.call(c,t,e,c),c.tclass("hidden",u),u&&(s=!1)),!o.invisible||null==t&&o.invisible.$nn||(u=o.invisible.call(o.el,t,e,o.el),c.tclass("invisible",u),u||(s=!1)),!o.visible||null==t&&o.visible.$nn||(u=o.visible.call(o.el,t,e,o.el),c.tclass("invisible",!u),u||(s=!1)),o.classes)for(var l=0;l<o.classes.length;l++){var f=o.classes[l];f.fn.$nn&&null==t||c.tclass(f.name,!!f.fn.call(c,t,e,c))}if(s&&o.import&&(n.isFunction(o.import)?t&&(!o.$ic&&(o.$ic={}),!o.$ic[t]&&IMPORT("ONCE "+t,c),o.$ic[t]=1):(IMPORT(o.import,c),delete o.import)),o.config&&(s||o.config.$nv)&&(null!=t||!o.config.$nn)&&(u=o.config.call(c,t,e,c)))for(var l=0;l<c.length;l++){var h=c[l].$com;h&&h.$ready&&h.reconfigure(u)}if(o.html&&(s||o.html.$nv)&&(null==t&&o.html.$nn?c.html(o.htmlbk||""):(u=o.html.call(c,t,e,c),c.html(null==u?o.htmlbk||"":u))),o.text&&(s||o.text.$nv)&&(null==t&&o.text.$nn?c.html(o.htmlbk||""):(u=o.text.call(c,t,e,c),c.text(null==u?o.htmlbk||"":u))),o.val&&(s||o.val.$nv)&&(null==t&&o.val.$nn?c.val(o.valbk||""):(u=o.val.call(c,t,e,c),c.val(null==u?o.valbk||"":u))),!o.template||!s&&!o.template.$nv||null==t&&o.template.$nn||(r.value=t,r.path=e,c.html(o.template(r))),o.disabled&&(s||o.disabled.$nv)&&(null==t&&o.disabled.$nn?c.prop("disabled",1==o.disabledbk):(u=o.disabled.call(c,t,e,c),c.prop("disabled",1==u))),o.enabled&&(s||o.enabled.$nv)&&(null==t&&o.enabled.$nn?c.prop("disabled",0==o.enabledbk):(u=o.enabled.call(c,t,e,c),c.prop("disabled",!u))),o.checked&&(s||o.checked.$nv)&&(null==t&&o.checked.$nn?c.prop("checked",1==o.checkedbk):(u=o.checked.call(c,t,e,c),c.prop("checked",1==u))),o.title&&(s||o.title.$nv)&&(null==t&&o.title.$nn?c.attr("title",o.titlebk||""):(u=o.title.call(c,t,e,c),c.attr("title",null==u?o.titlebk||"":u))),o.href&&(s||o.href.$nv)&&(null==t&&o.href.$nn?c.attr(o.hrefbk||""):(u=o.href.call(c,t,e,c),c.attr("href",null==u?o.hrefbk||"":u))),o.src&&(s||o.src.$nv)&&(null==t&&o.src.$nn?c.attr("src",o.srcbk||""):(u=o.src.call(c,t,e,c),c.attr("src",null==u?o.srcbk||"":u))),!o.setter||!s&&!o.setter.$nv||null==t&&o.setter.$nn||o.setter.call(c,t,e,c),!o.change||null==t&&o.change.$nn||o.change.call(c,t,e,c),s&&null==i&&o.child)for(var l=0;l<o.child.length;l++)o.exec(t,e,l,void 0,s);o.tclass&&(c.tclass(o.tclass),delete o.tclass)}},i}),t("skylark-totaljs-jcomponent/stores/Store",["../langx"],function(t){t.Evented.inherit({_construct:function(t){this.data=t.data}})}),t("skylark-totaljs-jcomponent/stores",["skylark-langx/langx","./jc","./stores/Store"],function(t,e,n){var r=/\{{1,2}[a-z0-9_.-\s]+\}{1,2}/gi;return Array.prototype.findValue=function(e,n,r,i,a){t.isFunction(e)&&(i=r,r=n,n=void 0,a=!1);var s,o=i;if(a&&(s="fv_"+e+"="+n,caches.temp[s]))return caches.temp[s];var c=this.findIndex(e,n);if(-1!==c){var l=this[c];l=-1===r.indexOf(".")?l[r]:get(r,l),a&&(caches.temp[s]=o),o=null==l?i:l}return o},String.prototype.params=String.prototype.arg=function(t){return this.replace(r,function(e){var n=123===e.charCodeAt(1)?2:1,r=get(e.substring(n,e.length-n).trim(),t);return null==r?e:r})},e.stores={Store:n}}),t("skylark-totaljs-jcomponent/binding/pathmaker",["../plugins"],function(t){return function(e,n){if(!e)return e;var r="";if(n){var i=e.indexOf(" ");-1!==i&&(r=e.substring(i),e=e.substring(0,i))}if(37===e.charCodeAt(0))return"jctmp."+e.substring(1)+r;if(64===e.charCodeAt(0))return e;if(-1===(i=e.indexOf("/")))return e+r;var a=e.substring(0,i);return(t.find(a)?"PLUGINS."+a:a+"_plugin_not_found")+"."+e.substring(i+1)+r}}),t("skylark-totaljs-jcomponent/binding/bind",["../stores","./pathmaker"],function(t,e){return function n(r){if(r instanceof Array){for(var i=0;i<r.length;i++)n(r[i]);return this}r=e(r);if(!r)return this;var a=33===r.charCodeAt(0);a&&(r=r.substring(1));r=r.replaceWildcard();r&&t.set(r,t.get(r),!0)}}),t("skylark-totaljs-jcomponent/binding/func",["./pathmaker"],function(t){var e=/[a-z0-9_-]+\/[a-z0-9_]+\(|(^|(?=[^a-z0-9]))@[a-z0-9-_]+\./i,n=function(e){var n=e.length;return t(e.substring(0,n-1))+e.substring(n-1)};function r(t){return t.replace(/&#39;/g,"'")}function i(t){var e=t.indexOf("value");return-1!==e&&(/\W/.test(t)||"value"===t)}function a(t,s){var o=(t=t.replace(e,n)).indexOf("=>");if(-1===o)return i(t)?a("value=>"+r(t),!0):new Function("return "+(-1===t.indexOf("(")?"typeof({0})=='function'?{0}.apply(this,arguments):{0}".format(t):t));var c=t.substring(0,o).trim(),l=t.substring(o+2).trim(),u=!1;(c=c.replace(/\(|\)|\s/g,"").trim())&&(c=c.split(",")),123!==l.charCodeAt(0)||s||(u=!0,l=l.substring(1,l.length-1).trim());var f=(u?"":"return ")+l;switch(c.length){case 1:return new Function(c[0],f);case 2:return new Function(c[0],c[1],f);case 3:return new Function(c[0],c[1],c[2],f);case 4:return new Function(c[0],c[1],c[2],c[3],f);case 0:default:return new Function(f)}}return a.rebinddecode=r,a.isValue=i,a}),t("skylark-totaljs-jcomponent/binding/findFormat",["./func","./pathmaker"],function(t,e){return function(e){var n=e.indexOf("--\x3e"),r=3;-1===n&&(n=e.indexOf("->"),r=2);-1!==n&&-1!==e.indexOf("/")&&-1===e.indexOf("(")&&(e+="(value)");return-1===n?null:{path:e.substring(0,n).trim(),fn:t(e.substring(n+r).trim())}}}),t("skylark-totaljs-jcomponent/binding/parsebinder",["../langx","../utils/query","./func","./pathmaker","./findFormat","./Binder"],function(t,e,n,r,i,a){var s=[];function o(t){for(var e=arguments,n=1;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!1;return!0}return function c(l,u,f,h,d){var p=h.binders;var m=u.split(/_{2,}/);if(-1!==m.indexOf("|")){if(!d){for(var v=[],g=[],b=0;b<m.length;b++){var y=m[b];"|"!==y?y&&v.push(y):(v.length&&g.push(c(l,v.join("__"),f,h)),v=[])}v.length&&g.push(c(l,v.join("__"),f,h,!0))}return g}var $=null;var k=null;var x=new a;var w=[];var j={};var E=x.el=e(l);for(var b=0;b<m.length;b++){var T=m[b].trim();if(T)if(b){var O;if("template"!==T&&"!template"!==T&&"strict"!==T?(-1===(k=T.indexOf(":"))&&(k=T.length,T+=":value"),z=T.substring(0,k).trim(),O=T.substring(k+1).trim()):z=T,"selector"===z){x[z]=O;continue}var C=z.indexOf(" "),A=-1===C?z:z.substring(0,C);if(!(L=o(A,"setter","strict","track","delay","import","class","template")&&"def"!==z.substring(0,3)?-1!==O.indexOf("=>")?n(n.rebinddecode(O)):n.isValue(O)?n("(value,path,el)=>"+n.rebinddecode(O),!0):"@"===O.substring(0,1)?x.com[O.substring(1)]:GET(O):1))return null;for(var M=z.split("+"),S=0;S<M.length;S++){z=M[S].trim();var N="",D=!1,I=!1,P=!1;-1!==(k=z.indexOf(" "))&&(N=z.substring(k+1),z=z.substring(0,k));var F=(z=z.replace(/^(~!|!~|!|~)/,function(t){return-1!==t.indexOf("!")&&(I=!0),-1!==t.indexOf("~")&&(D=!0),""})).substring(0,1);switch("class"===z&&(z="tclass"),"."===F&&(I&&(L.$nn=1),w.push({name:z.substring(1),fn:L}),z="class"),t.isFunction(L)&&(I&&(L.$nn=1),D&&(L.$nv=1)),z){case"track":x[z]=O.split(",").trim();continue;case"strict":x[z]=!0;continue;case"hidden":z="hide";break;case"exec":z="change";break;case"disable":z="disabled",P=!0;break;case"value":z="val",P=!0;break;case"default":z="def";break;case"delay":L=+O;break;case"href":case"src":case"val":case"title":case"html":case"text":case"disabled":case"enabled":case"checked":P=!0;break;case"setter":L=t.fn("(value,path,el)=>el.SETTER("+O+")"),I&&(L.$nn=1),D&&(L.$nv=1);break;case"import":var F=O.substring(0,1);L=/^(https|http):\/\//.test(O)||"/"===F||"."===F?"."===F?O.substring(1):O:n(n.rebinddecode(O));break;case"tclass":L=O;break;case"template":var _=E.find("script");_.length||(_=E),L=Tangular.compile(_.html()),I&&(L.$nn=1),D&&(L.$nv=1)}if("def"===z&&(L=new Function("return "+O)()),P&&I&&(x[z+"bk"]="src"==z||"href"==z||"title"==z?E.attr(z):"html"==z||"text"==z?E.html():"val"==z?E.val():"disabled"==z||"checked"==z?E.prop(z):""),N)if(j[N]||(j[N]={}),"class"!==z)j[N][z]=L;else{var R=w.pop();j[N].cls?j[N].cls.push(R):j[N].cls=[R]}else"class"!==z&&(x[z]=L)}}else{var F=($=T).substring(0,1);if("!"===F&&($=$.substring(1),x.notnull=!0),1===m.length){var L=GET($);return L&&L.call(x.el,x.el),L||null}var v=i($);if(v&&($=v.path,x.format=v.fn),"."===F){x.virtual=!0,$=$.substring(1);continue}if("."===$.substring($.length-1)&&($=$.substring(0,$.length-1)),"@"===$.substring(0,1)){var H=!1;"@"===($=$.substring(1)).substring(0,1)&&(H=!0,$=$.substring(1)),$||($="@");for(var W=l.parentNode;W;){if(H){if(W.$ctrl){x.com=W.$ctrl,"@"!==$||x.com.$dataw||(x.com.$dataw=1,x.com.watch(function(t,e){x.com.data("@",e)}));break}}else if(W.$com){x.com=W.$com;break}W=W.parentNode}if(!x.com)return null}}}var M=Object.keys(j);for(var b=0;b<M.length;b++){var Y=M[b];x.child||(x.child=[]);var G=j[Y];G.selector=Y,x.child.push(G)}w.length&&(x.classes=w);if(x.virtual)$=r($);else{var U=x.com&&"@"===$.substring(0,1);if(-1!==($=U?$:r($)).indexOf("?")){var X=initscopes(f);if(!X)return;$=$.replace(/\?/g,X.path)}var q=$.split("."),R="";if(x.com)!x.com.$data[$]&&(x.com.$data[$]={value:null,items:[]}),x.com.$data[$].items.push(x);else for(var b=0,V=q.length;b<V;b++){R+=(R?".":"")+q[b];var z=b===V-1?R:"!"+R;p[z]?p[z].push(x):p[z]=[x]}}x.path=$;if(x.track)for(var b=0;b<x.track.length;b++)x.track[b]=$+"."+x.track[b];x.init=0;x.virtual||s.push(x);return x}}),t("skylark-totaljs-jcomponent/binding/VirtualBinder",["../langx","../utils/query","./parsebinder"],function(t,e,n){var r="[data-bind],[bind],[data-vbind]";function i(i){var a=this,s=a.element=e(i);a.binders=[];var o=function(){var r=e(this),i=r.attrd("bind")||r.attr("bind")||r.attrd("vbind");this.$jcbind=n(this,i,t.empties.array),this.$jcbind&&a.binders.push(this.$jcbind)};s.filter(r).each(o),s.find(r).each(o)}var a=i.prototype;return a.on=function(){var t=this;return t.element.on.apply(t.element,arguments),t},a.remove=function(){var t=this,e=t.element;return e.find("*").off(),e.off().remove(),t.element=null,t.binders=null,t=null},a.set=function(t,e){var n=this;null==e&&(e=t,t="");for(var r=0;r<n.binders.length;r++){var i=n.binders[r];if(!t||t===i.path){var a=t||!i.path?e:$get(i.path,e);n.binders[r].exec(a,i.path)}}return n},i}),t("skylark-totaljs-jcomponent/utils/domx",["../langx","skylark-utils-dom/query","skylark-utils-dom/plugins"],function(t,e,n){var r,i=t.statics,a={xs:{max:768},sm:{min:768,max:992},md:{min:992,max:1200},lg:{min:1200}},s=/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,o=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>|<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,c=0,l=[],u={INPUT:!0,TEXTAREA:!0,SELECT:!0};function f(){var t=window;if(l&&l.length)for(var n=t.orientation?90===Math.abs(t.orientation)?"landscape":"portrait":"",r=e(t),i=r.width(),s=r.height(),o=a,c=0,u=l.length;c<u;c++){var f=l[c],h=i,d=s;if(f.element&&(h=f.element.width(),d=f.element.height()),f.orientation){if(!n&&"portrait"!==f.orientation)continue;if(n!==f.orientation)continue}if(!(f.minW&&f.minW>=h)&&(!(f.maxW&&f.maxW<=h)&&!(f.minH&&f.minH>=d)&&!(f.maxH&&f.maxH<=d)&&(f.oldW!==h||f.oldH===d||f.maxH||f.minH)&&(f.oldH!==d||f.oldW===h||f.maxW||f.minW)&&(f.oldW!==h||f.oldH!==d))){var p=null;h>=o.md.min&&h<=o.md.max?p="md":h>=o.sm.min&&h<=o.sm.max?p="sm":h>o.lg.min?p="lg":h<=o.xs.max&&(p="xs"),f.oldW=h,f.oldH=d,f.fn(h,d,p,f.id)}}}function h(){f()}return e.fn.aclass=function(t){return this.addClass(t)},e.fn.rclass=function(t){return null==t?this.removeClass():this.removeClass(t)},e.fn.rattr=function(t){return this.removeAttr(t)},e.fn.rattrd=function(t){return this.removeAttr("data-"+t)},e.fn.rclass2=function(t){for(var e=(this.attr("class")||"").split(" "),n=typeof t===TYPE_O,r=0,i=e.length;r<i;r++){var a=e[r];a&&(n?t.test(a)&&this.rclass(a):-1!==a.indexOf(t)&&this.rclass(a))}return this},e.fn.hclass=function(t){return this.hasClass(t)},e.fn.tclass=function(t,e){return this.toggleClass(t,e)},e.fn.attrd=function(t,e){return t="data-"+t,null==e?this.attr(t):this.attr(t,e)},e.fn.asvg=function(t){if(-1===t.indexOf("<")){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return this.append(n),e(n)}var r=document.createElementNS("http://www.w3.org/1999/xhtml","div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var i=document.createDocumentFragment();r.firstChild.firstChild;)i.appendChild(r.firstChild.firstChild);return i=e(i),this.append(i),i},e.fn.psvg=function(t){if(-1===t.indexOf("<")){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return this.prepend(n),e(n)}var r=document.createElementNS("http://www.w3.org/1999/xhtml","div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var i=document.createDocumentFragment();r.firstChild.firstChild;)i.appendChild(r.firstChild.firstChild);return i=e(i),this.prepend(i),i},e.fn.rescroll=function(t,e){return this.each(function(){var n=this;if(n.scrollIntoView(!0),t)for(var r=0;n&&0==n.scrollTop&&r++<25;)if((n=n.parentNode)&&n.scrollTop){var i=n.scrollTop+t;return 0!=e&&n.scrollTop+n.getBoundingClientRect().height>=n.scrollHeight?void(n.scrollTop=n.scrollHeight):void(n.scrollTop=i)}}),this},h(),e(window).on("resize",h),e(window).on("orientationchange",f),{devices:a,findInstance:function(t,e){if(!t.length)return null;for(var n=0;n<t.length;n++)if(t[n][e])return t[n][e];var r=t[0].parentElement;for(;null!==r;){if(r[e])return r[e];r=r.parentElement}return null},inDOM:function(t){if(!t)return;if("BODY"===t.nodeName)return!0;var e=t.parentNode;for(;e;){if("BODY"===e.nodeName)return!0;e=e.parentNode}},importscripts:function(n){var r,a=-1,s=n,o=[];for(;-1!==(a=n.indexOf("<script",a));){var c=n.indexOf("<\/script>",a+8),l=n.substring(a,c+9);if(a=c+9,c=l.indexOf(">"),-1===(r=l.substring(0,c)).indexOf("type=")||-1!==r.lastIndexOf("javascript")){var u=l.substring(c+1,l.length-9).trim();if(!u){s=s.replace(l,"").trim();var f="external"+t.hashCode(l);i[f]||(o.push(l),i[f]=!0)}}}o.length&&e("head").append(o.join("\n"));return s},importstyles:function(t,n){var r=[];t=t.replace(s,function(t){return t=t.replace("<style>",'<style type="text/css">'),r.push(t.substring(23,t.length-8).trim()),""});var a="css"+(n||"");n&&(i[a]?e("#"+a).remove():i[a]=!0);return r.length&&e("<style"+(n?' id="'+a+'"':"")+">{0}</style>".format(r.join("\n"))).appendTo("head"),t},inputable:function(t){var e=t.tagName||t;return u[e]},keyPress:function(e,n,r){n||(n=300);var i=e.toString(),a=i.length-20;a<0&&(a=0);var s=r||t.hashCode(i.substring(0,20)+"X"+i.substring(a))+"_keypress";t.setTimeout2(s,e,n)},mediaquery:f,mediaWidth:function(t){t||(t=e(Window));var n=t.width(),r=a;return n>=r.md.min&&n<=r.md.max?"md":n>=r.sm.min&&n<=r.sm.max?"sm":n>r.lg.min?"lg":n<=r.xs.max?"xs":""},Plugin:n.Plugin,removescripts:function(t){return t.replace(o,function(t){var e=t.indexOf(">"),n=t.substring(0,e+1);return"<style"===n.substring(0,6)||"<script"===n.substring(0,7)&&-1===n.indexOf('type="')||-1!==n.indexOf('/javascript"')?"":t})},scrollbarWidth:function(){var t="jcscrollbarwidth";if(void 0!==r)return r;var n=document.body;e(n).append('<div id="{0}" style="width{1}height{1}overflow:scroll;position:absolute;top{2}left{2}"></div>'.format(t,":100px;",":9999px;"));var i=document.getElementById(t);return r=i.offsetWidth-i.clientWidth,n.removeChild(i),r},style:function(t,n){n&&e("#css"+n).remove();e('<style type="text/css"'+(n?' id="css'+n+'"':"")+">"+(t instanceof Array?t.join(""):t)+"</style>").appendTo("head")},watchMedia:function e(n,r,i){if(t.isNumber(n))return l.remove("id",n),!0;t.isFunction(r)&&(i=r,r=null);n=n.toLowerCase();if(-1!==n.indexOf(",")){var s=[];return n.split(",").forEach(function(t){(t=t.trim())&&s.push(e(t,r,i))}),s}var o=a;"md"===n?n="min-width:{0}px and max-width:{1}px".format(o.md.min,o.md.max):"lg"===n?n="min-width:{0}px".format(o.lg.min):"xs"===n?n="max-width:{0}px".format(o.xs.max):"sm"===n&&(n="min-width:{0}px and max-width:{1}px".format(o.sm.min,o.sm.max));var u=n.match(/(max-width|min-width|max-device-width|min-device-width|max-height|min-height|max-device-height|height|width):(\s)\d+(px|em|in)?/gi);var f={};var h=function(t){var e=parseInt(t.match(/\d+/),10);return t.match(/\d+(em)/)?16*e:t.match(/\d+(in)/)?.010416667*e>>0:e};if(u)for(var d=0,p=u.length;d<p;d++){var m=u[d],v=m.indexOf(":");switch(m.substring(0,v).toLowerCase().trim()){case"min-width":case"min-device-width":case"width":f.minW=h(m);break;case"max-width":case"max-device-width":f.maxW=h(m);break;case"min-height":case"min-device-height":case"height":f.minH=h(m);break;case"max-height":case"max-device-height":f.maxH=h(m)}}u=n.match(/orientation:(\s)(landscape|portrait)/gi);if(u)for(var d=0,p=u.length;d<p;d++){var m=u[d];-1!==m.toLowerCase().indexOf("portrait")?f.orientation="portrait":f.orientation="landscape"}f.id=c++;f.fn=i;r&&(f.element=r);l.push(f);return f.id}}}),t("skylark-totaljs-jcomponent/binding/vbind",["../utils/domx","../utils/query","./VirtualBinder"],function(t,e,n){return e.fn.vbind=function(){return t.findinstance(this,"$vbind")},function(t){return new n(t)}}),t("skylark-totaljs-jcomponent/binding/vbindArray",["../langx","../utils/domx","../utils/query","./vbind"],function(t,e,n,r){return n.fn.vbindarray=function(){return e.findinstance(this,"$vbindarray")},function(e,i){var a={};a.html=e,a.items=[],a.element=i.element?i.element:n(i),a.element[0].$vbindarray=a,a.remove=function(){for(var t=0;t<a.items.length;t++)a.items[t].remove();a.checksum=null,a.items=null,a.html=null,a.element=null};var s=function(t){switch(typeof t){case"number":return t+"";case"boolean":return t?"1":"0";case"string":return t;default:return null==t?"":t instanceof Date?t.getTime():JSON.stringify(t)}},o=function(e){var n=0,r=a.items[0];if(r)for(var i=0;i<r.binders.length;i++){var o=r.binders[i],c=o.path;if(o.track)for(var l=0;l<o.track.length;l++)n+=s($get((c?c+".":"")+o.track[l].substring(1),e));else n+=s(c?$get(c,e):e)}return t.hashCode(n)};return a.set=function(t,e){var n=null;if(!(t instanceof Array))return(c=a.items[t])&&(n=o(e),(u=c.element[0]).$bchecksum!==n&&(u.$bchecksum=n,c.set(e))),a;if(e=t,a.items.length>e.length)for(var i=a.items.splice(e.length),s=0;s<i.length;s++)i[s].remove();for(s=0;s<e.length;s++){var c,l=e[s];(c=a.items[s])||(c=r(a.html),a.items.push(c),c.element.attrd("index",s),c.element[0].$vbind=c,c.index=s,a.element.append(c.element));var u=c.element[0];n=o(l),u.$bchecksum!==n&&(u.$bchecksum=n,c.set(l))}},a}}),t("skylark-totaljs-jcomponent/binding",["skylark-utils-dom/query","./jc","./langx","./plugins","./binding/Binder","./binding/bind","./binding/VirtualBinder","./binding/vbind","./binding/vbindArray"],function(t,e,n,r,i,a,s,o,c){return e.binding={parser:parser,Binder:i,bind:a,VirtualBinder:s,vbind:o,vbindArray:c}}),t("skylark-totaljs-jcomponent/components/Usage",["../langx"],function(t){function e(){var t=this;t.init=0,t.manually=0,t.input=0,t.default=0,t.custom=0,t.dirty=0,t.valid=0}return e.prototype.compare=function(e,n){t.isString(n)&&"-"!==n.substring(0,1)&&(n=t.now().add("-"+n));var r=this[e];return 0===r||r<n.getTime()},e.prototype.convert=function(t){var e=Date.now(),n={},r=1,i=this;switch(t.toLowerCase().substring(0,3)){case"min":case"mm":case"m":r=6e4;break;case"hou":case"hh":case"h":r=36e4;break;case"sec":case"ss":case"s":r=1e3}return n.init=0===i.init?0:(e-i.init)/r>>0,n.manually=0===i.manually?0:(e-i.manually)/r>>0,n.input=0===i.input?0:(e-i.input)/r>>0,n.default=0===i.default?0:(e-i.default)/r>>0,n.custom=0===i.custom?0:(e-i.custom)/r>>0,n.dirty=0===i.dirty?0:(e-i.dirty)/r>>0,n.valid=0===i.valid?0:(e-i.valid)/r>>0,n},e}),t("skylark-totaljs-jcomponent/components/Component",["../langx","../binding/findFormat","./Usage"],function(t,e,n){var r={},i=0;function a(e){var n=!0;if(e.disabled)return n;if(e.$valid_disabled)return n;var r=[];return e.state&&r.push(e),e.$validate=!0,e.validate&&(e.$valid=e.validate(get(e.path)),e.$interaction(102),e.$valid||(n=!1)),clear("valid"),t.state(r,1,1),n}var s=t.klass({_construct(e,r){var s=this;s._id=s.ID="jc"+i++,s.usage=new n,s.$dirty=!0,s.$valid=!0,s.$validate=!1,s.$parser=[],s.$formatter=[],s.$skip=!1,s.$ready=!1,s.$path,s.trim=!0,s.$released=!1,s.$bindreleased=!0,s.$data={};var o=e.lastIndexOf("@");s.view=r,s.storing=r.storing,s.name=e,s.$name=-1===o?e:e.substring(0,o),s.version=-1===o?"":e.substring(o+1),s.path,s.type,s.id,s.disabled=!1,s.removed=!1,s.make,s.done,s.prerender,s.destroy,s.state,s.validate,s.released,s.getter=function(t,e,n){t=this.parser(t),this.getter2&&this.getter2(t,e),e&&(this.$skip=!0),n?a(this):t!==this.get()?this.set(t,2):3===e&&a(this)},s.stateX=function(t,e){var n=t+"x"+e;s.$bindchanges&&s.$state===n||(s.$state=n,s.config.$state&&EXEC.call(s,s.config.$state,t,e),s.state(t,e))},s.setterX=function(e,n,r){if(!(!s.setter||s.$bindexact&&s.path!==n&&-1===s.path.indexOf(n+".")&&r)){var i=s.$bindcache;if(arguments.length){if(skips[s.path]){var a=--skips[s.path];if(a<=0)return void delete skips[s.path]}if(s.$format&&(e=s.$format(e,n,r)),s.$bindreleased){if(s.$bindchanges){var o=t.hashCode(e);if(o===s.$valuehash)return;s.$valuehash=o}s.config.$setter&&EXEC.call(s,s.config.$setter,e,n,r),s.data("",e),s.setter(e,n,r),s.setter2&&s.setter2(e,n,r)}else s.$released?(i.is=!0,i.value=e,i.path=n,i.type=r):(i.value=e,i.path=n,i.type=r,i.bt||(i.is=!0,s.setterX()))}else!s.$released&&i&&i.is&&(i.is=!1,i.bt&&clearTimeout(i.bt),i.bt=setTimeout(function(n){var r=n.$bindcache;if(r.bt=0,n.$bindchanges){var i=t.hashCode(e);if(i===n.$valuehash)return;n.$valuehash=i}n.config.$setter&&EXEC.call(n,n.config.$setter,r.value,r.path,r.type),n.data("",r.value),n.setter(r.value,r.path,r.type),n.setter2&&n.setter2(r.value,r.path,r.type)},s.$bindtimeout,s))}},s.setter=function(t,e,n){var r=this;if(2===n&&r.$skip)r.$skip=!1;else{var i="select-one";t=r.formatter(t),findControl(r.element[0],function(e){e.$com!==r&&(e.$com=r);var a=e.$com.path;if(!a||!a.length||a===r.path)if("checkbox"!==e.type)if(null==t&&(t=""),n||e.type===i||"range"===e.type||r.$default||t||autofill.push(e.$com),e.type===i||"select"===e.type){var s=$(e);s.val()!==t&&s.val(t)}else e.value!==t&&(e.value=t);else{var o=null!=t?t.toString().toLowerCase():"";(o="true"===o||"1"===o||"on"===o)!==e.checked&&(e.checked=o)}})}}}}),o=s.prototype;o.data=function(t,e){t||(t="@");var n=this.$data[t];if(1===arguments.length)return n?n.value:null;if(n){n.value=e;for(var r=0;r<n.items.length;r++){var i=n.items[r];i.el[0].parentNode&&i.exec(e,t)}}else this.$data[t]={value:e,items:[]};if(this.$ppc)for(var a=this.view.components.all,r=0;r<a.length;r++){var s=a[r];s.owner===this&&s.$pp&&t===s.path&&s.setterX(e,e,2)}return e},o.$except=function(t){for(var e=self.$path,n=0;n<t.length;n++)for(var r=0;r<e.length;r++)if(t[n]===e[r])return!0;return!1},o.$compare=function(t,e){if(e)return this.path===t;if(t.length>this.path.length){var n=t.lastIndexOf(".",this.path.length);return-1!==n&&this.path===t.substring(0,n)}for(var r=0,i=this.$path.length;r<i;r++)if(this.$path[r]===t)return!0},o.notmodified=function(e){return t.isString(e)&&(e=[e]),NOTMODIFIED(this._id,this.get(),e)},o.$waiter=function(t,e){var n=this;if(!0!==t){if(!1!==t){if(!n.$W&&(n.$W={}),n.$W[t]){for(var r=0;r<n.$W[t].length;r++)if(n.$W[t][r]===e)return n;return n.$W[t].callback.push(e),n}return n.$W[t]={callback:[e]},n.$released||(n.$W[t].id=setInterval(function(t,e){var n=t.$W[e],r=t[e]();if(r){clearInterval(n.id);for(var i=0;i<n.callback.length;i++)n.callback[i].call(t,r);delete t.$W[e]}},MD.delaywatcher,n,t)),n}if(n.$W)for(var i=Object.keys(n.$W),r=0;r<i.length;r++){var a=n.$W[i[r]];a&&clearInterval(a.id)}}else if(n.$W)for(var i=Object.keys(n.$W),r=0;r<i.length;r++){var s=i[r],o=n.$W[s];o.id=setInterval(function(t,e){var n=t.$W[e],r=t[e]();if(r){clearInterval(n.id);for(var i=0;i<n.callback.length;i++)n.callback[i].call(t,r);delete t.$W[e]}},MD.delaywatcher,n,s)}},o.hidden=function(t){var e=this,n=e.element?e.element[0].offsetParent:null;return n=null===n,t&&(n?t.call(e):e.$waiter("hidden",t)),n},o.visible=function(t){var e=this,n=e.element?e.element[0].offsetParent:null;return n=null!==n,t&&(n?t.call(e):e.$waiter("visible",t)),n},o.width=function(t){var e=this,n=e.element?e.element[0].offsetWidth:0;return t&&(n?t.call(e,n):e.$waiter("width",t)),n},o.height=function(t){var e=this,n=e.element?e.element[0].offsetHeight:0;return t&&(n?t.call(e,n):e.$waiter("height",t)),n},o.import=function(t,e,n,r){return this.view.import(t,this.element,e,n,r),this},o.release=function(t,e){var n=this;return void 0===t||n.$removed?n.$released:(n.attrd("jc-released",t),n.view.helper.nested(e||n.element).forEach(function(){var e=$(this);e.attrd("jc-released",t?"true":"false");var r=e[0].$com;if(r instanceof Object)if(r instanceof Array)for(var i=0,a=r.length;i<a;i++){var s=r[i];s.$removed||s.$released===t||(s.$released=t,s.released&&s.released(t,n),s.$waiter(!t),!t&&s.setterX())}else r.$removed||r.$released===t||(r.$released=t,r.released&&r.released(t,n),r.$waiter(!t),!t&&r.setterX())}),e||n.$released===t||(n.$released=t,n.released&&n.released(t,n),n.$waiter(!t),!t&&n.setterX()),t)},o.validate2=function(){return a(this)},o.exec=function(t,e,n,r,i,a){return this},o.replace=function(t,e){C.is&&(C.recompile=!0);var n="jc-scope",r=this.element,i=r.attrd(n);return this.element.rattrd("jc"),this.element[0].$com=null,i&&this.element.rattrd(n),e?r.off().remove():this.attrd("jc-replaced","true"),this.element=$(t),this.dom=this.element[0],this.dom.$com=this,this.attrd("jc",this.name),i&&this.attrd(n,i),this.siblings=!1,this},o.nested=function(){return self.view.helper.nested(this.element)},o.$interaction=function(t){var e=Date.now(),n=this;switch(t){case 0:n.usage.init=e,n.$binded=!0;break;case 1:n.usage.manually=e,n.$binded=!0;break;case 2:n.usage.input=e,n.$binded=!0;break;case 3:n.usage.default=e,n.$binded=!0;break;case 100:n.usage.custom=e;break;case 101:n.usage.dirty=e;break;case 102:n.usage.valid=e}return n},o.notify=function(){return NOTIFY(this.path),this},o.update=o.refresh=function(e,n){return this.$binded&&(t.isString(e)&&(n=e,e=!0),e?this.set(this.get(),n):(this.setter&&this.setterX(this.get(),this.path,1),this.$interaction(1))),this},o.tclass=function(t,e){return this.element.tclass(t,e),this},o.aclass=function(t,e){var n=this;return e?setTimeout(function(){n.element.aclass(t)},e):n.element.aclass(t),n},o.hclass=function(t){return this.element.hclass(t)},o.rclass=function(t,e){var n=this.element;return e?setTimeout(function(){n.rclass(t)},e):t?n.rclass(t):n.rclass(),this},o.rclass2=function(t){return this.element.rclass2(t),this},o.classes=function(t){var e="cls."+t,n=r[e],i=this,a=i.element;if(n)return n.add&&a.aclass(n.add),n.rem&&a.rclass(n.rem),i;for(var s=t instanceof Array?t:t.split(" "),o="",c="",l=0,u=s.length;l<u;l++){var f=s[l].substring(0,1);"-"===f?c+=(c?" ":"")+s[l].substring(1):o+=(o?" ":"")+("+"===f?s[l].substring(1):s[l])}return o&&a.aclass(o),c&&a.rclass(c),t instanceof Array?i:(r[e]={add:o,rem:c},i)},o.toggle=function(e,n,r){var i=!1;t.isString(e)||(r=n,n=e,e="hidden",i=!0),t.isNumber(n)?(r=n,n=void 0):i&&void 0!==n&&(n=!n);var a=this.element;return r?(setTimeout(function(){a.tclass(e,n)},r),this):(a.tclass(e,n),this)},o.noscope=o.noScope=function(t){return this.$noscope=void 0===t||!0===t,this},o.nocompile=function(){return this.element.attrd("jc-compile","0"),this},o.singleton=function(){return statics["$ST_"+this.name]=!0,this},o.blind=function(){return this.path=null,this.$path=null,this.$$path=null,this},o.bindchanges=o.bindChanges=function(t){return this.$bindchanges=null==t||!0===t,this},o.bindexact=o.bindExact=function(t){return this.$bindexact=null==t||!0===t,this},o.bindvisible=o.bindVisible=function(t){return this.$bindreleased=!1,this.$bindtimeout=t||MD.delaybinder,this.$bindcache={},this},o.readonly=function(){return this.noDirty(),this.noValid(),this.getter=null,this.setter=null,this.$parser=null,this.$formatter=null,this},o.novalidate=o.noValid=o.noValidate=function(t){void 0===t&&(t=!0);return this.$valid_disabled=t,this.$valid=t,this},o.nodirty=o.noDirty=function(t){void 0===t&&(t=!0);return this.$dirty_disabled=t,this.$dirty=!t,this},o.datasource=function(t,e,n){var r=this.$datasource;return r&&this.unwatch(r.path,r.fn),t?(this.$datasource={path:t,fn:e},this.watch(t,e,!1!==n)):this.$datasource=null,this},o.setPath=function(t,n){var r=e(t);r?(t=r.path,this.$format=r.fn):n||(this.$format=null);var i=[];if("@"===t.substring(0,1)?(t=t.substring(1),this.$pp=!0,this.owner.$ppc=!0):this.$pp=!1,37===t.charCodeAt(0)&&(t="jctmp."+t.substring(1)),33===(t=t.env()).charCodeAt(0))t=t.substring(1),i.push(t);else for(var a=t.split("."),s=[],o=0;o<a.length;o++){var c=a[o].lastIndexOf("[");if(-1!==c){var l=s.join(".");i.push(l+(l?".":"")+a[o].substring(0,c))}s.push(a[o]),i.push(s.join("."))}return this.path=t,this.$path=i,1!==n&&C.ready&&refresh(),this},o.attr=function(t,e){var n=this.element;return void 0===e?n.attr(t):(n.attr(t,e),this)},o.attrd=function(t,e){t="data-"+t;var n=this.element;return void 0===e?n.attr(t):(n.attr(t,e),this)},o.css=function(t,e){var n=this.element;return void 0===e?n.css(t):(n.css(t,e),this)},o.main=function(){if(void 0===this.$main){var t=this.parent().closest("[data-jc]")[0];this.$main=t?t.$com:null}return this.$main},o.rcwatch=function(t,e){return e?this.reconfigure(e):this},o.reconfigure=function(e,n,r){var i=this;t.isPlainObject(e)?Object.keys(e).forEach(function(t){var a=i.config[t];r||i.config[t]===e[t]||(i.config[t]=e[t]),n?n(t,e[t],r,r?void 0:a):i.configure&&i.configure(t,e[t],r,r?void 0:a),i.data("config."+t,e[t])}):"="===e.substring(0,1)?(e=e.substring(1),i.watch&&(i.$rcwatch&&i.unwatch(i.$rcwatch,i.rcwatch),i.watch(e,i.rcwatch),i.$rcwatch=e),i.reconfigure(get(e),n,r)):e.$config(function(t,e){var a=i.config[t];r||i.config[t]===e||(i.config[t]=e),i.data("config."+t,e),n?n(t,e,r,r?void 0:a):i.configure&&i.configure(t,e,r,r?void 0:a)});var a=i.config;return i.data("config",a),a.$type&&(i.type=a.$type),a.$id&&(i.id=a.$id),0==a.$compile&&i.nocompile(),a.$init&&(i.$init=a.$init),a.$class&&i.tclass(a.$class),a.$released&&i.release(1==a.$released),a.$reconfigure&&EXEC.call(a.$reconfigure,a),i},o.closest=function(t){return this.element.closest(t)},o.parent=function(t){return this.element.parent(t)};var c={number:1,boolean:1};return o.html=function(t){var e=this.element;if(void 0===t)return e.html();t instanceof Array&&(t=t.join(""));var n=typeof t,r=t||c[n]?e.empty().append(t):e.empty();return r},o.text=function(t){var e=this.element;if(void 0===t)return e.text();t instanceof Array&&(t=t.join(""));var n=typeof t;return t||c[n]?e.empty().text(t):e.empty()},o.empty=function(){if(this.$children){for(var t=0,e=all.length;t<e;t++){var n=all[t];!n.$removed&&n.owner===this&&n.remove()}this.$children=0}var r=this.element;return r.empty(),r},o.append=function(t){var e=this.element;t instanceof Array&&(t=t.join(""));var n=t?e.append(t):e;return n},o.event=function(){var t=this;return t.element?t.element.on.apply(t.element,arguments):setTimeout(function(e){t.event(t,e)},500,arguments),t},o.find=function(t){return this.element.find(t)},o.isInvalid=function(){var t=!this.$valid;return t&&!this.$validate&&(t=!this.$dirty),t},o.unwatch=function(t,e){return this.pathing.off("com"+this._id+"#watch",t,e),this},o.watch=function(e,n,r){return t.isFunction(e)?(r=n,n=e,e=this.path):e=pathmaker(e),this.on("watch",e,n,r),this},o.invalid=function(){return this.storing.invalid(this.path,this)},o.valid=function(t,e){return void 0===t?this.$valid:this.$valid_disabled?this:(this.$valid=t,this.$validate=!1,this.$interaction(102),this.storing.clear("valid"),!e&&this.state&&this.stateX(1,1),this)},o.style=function(t){return domx.style(t,this._id),this},o.change=function(t){return this.$dirty_disabled=!1,this.$dirty=!0,this.storing.change(this.path,void 0===t||t,this),this},o.used=function(){return this.$interaction(100)},o.dirty=function(t,e){return void 0===t?this.$dirty:this.$dirty_disabled?this:(this.$dirty=t,this.$interaction(101),this.storing.clear("dirty"),!e&&this.state&&this.stateX(2,2),this)},o.reset=function(){return this.storing.reset(this.path,0,this),this},o.setDefault=function(t){return this.$default=function(){return t},this},o.default=function(t){return this.storing.default(this.path,0,this,t),this},o.remove=o.kill=function(e){var n=this.element;return function(t){if(t.$W)for(var e=Object.keys(t.$W),n=0,r=e.length;n<r;n++){var i=t.$W[e[n]];i.id&&clearInterval(i.id)}}(this),this.view.helper.kill(n),this.$removed=1,this.removed=!0,this.pathing.off("com"+this._id+"#"),e||t.setTimeout2("$cleaner",cleaner2,100),!0},o.on=function(e,n,r,i){t.isFunction(n)?(i=r,r=n,n=""):n=n.replace(".*","");var a="";return"^"===e.substring(0,1)&&(a="^",e=e.substring(1)),this.pathing.on(a+"com"+this._id+"#"+e,n,r,i,this),this},o.formatter=function(e,n){if(t.isFunction(e))return!this.$formatter&&(this.$formatter=[]),!0===n?this.$formatter.unshift(e):this.$formatter.push(e),this;var r=this.$formatter;if(r&&r.length)for(var i=0,a=r.length;i<a;i++)e=r[i].call(this,this.path,e,this.type);return e=this.storing.format(this.path,e,this.type)},o.parser=function(t,e){var n=typeof t;if("function"===n)return!this.$parser&&(this.$parser=[]),!0===e?this.$parser.unshift(t):this.$parser.push(t),this;this.trim&&"string"===n&&(t=t.trim());var r=this.$parser;if(r&&r.length)for(var i=0,a=r.length;i<a;i++)t=r[i].call(this,this.path,t,this.type);return t=this.storing.parser(this.path,t,this.type)},o.emit=function(){return self.pathing.emit.apply(self.pathing,arguments),this},o.evaluate=function(t,e,n){return e||(e=t,t=this.path),self.storing.evaluate(t,e,n)},o.get=function(t){return t||(t=this.path),this.$pp?this.owner.data(this.path):t?this.storing.get(t):void 0},o.skip=function(t){return this.storing.skip(t||this.path),this},o.set=function(t,e){var n=arguments;return this.$pp?(this.owner.set(this.path,t),this):(3===n.length?this.storing.setx(n[0],n[1],n[2]):this.storing.setx(this.path,t,e),this)},o.inc=function(t,e){return this.storing.inc(this.path,t,e),this},o.extend=function(t,e){return this.storing.extend(this.path,t,e),this},o.rewrite=function(t){return this.storing.rewrite(this.path,t),this},o.push=function(t,e){return this.storing.push(this.path,t,e),this},o.compile=function(t){return!t&&this.attrd("jc-compile")&&this.attrd("jc-compile","1"),this.view.compile(t||this.element),this},s}),t("skylark-totaljs-jcomponent/components/configs",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/configure",["../langx","./configs"],function(t,e){return function(n,r){if(t.isString(n)){var i=[];n.split(" ").forEach(function(t){var e="";switch(t.trim().substring(0,1)){case"*":return void i.push("com.path.indexOf('{0}')!==-1".format(t.substring(1)));case".":e="path";break;case"#":e="id";break;default:e="$name"}i.push("com.{0}=='{1}'".format(e,"$name"===e?t:t.substring(1)))}),n=FN("com=>"+i.join("&&"))}e.push({fn:n,config:r})}}),t("skylark-totaljs-jcomponent/components/extensions",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/extend",["../langx","./extensions"],function(t,e){var n=t.topic;return function(t,r,i){if(typeof r===TYPE_FN){var a=i;i=r,r=a}e[t]?e[t].push({config:r,fn:i}):e[t]=[{config:r,fn:i}];n.publish("skylark.vvm.component.extend",t)}}),t("skylark-totaljs-jcomponent/components/registry",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/register",["../langx","./registry"],function(t,e){return function(n,r,i,a){t.isFunction(r)&&(a=i,i=r,r=null);if(-1!==n.indexOf(","))return void n.split(",").forEach(function(t,e){(t=t.trim())&&add(t,r,i,e?null:a)});e[n]&&warn("Components: Overwriting component:",n);e[n]={name:n,config:r,declaration:i,shared:{},dependencies:a instanceof Array?a:null}}}),t("skylark-totaljs-jcomponent/components",["./jc","./langx","./utils/domx","./utils/query","./utils/cache","./components/Component","./components/configs","./components/configure","./components/extensions","./components/extend","./components/registry","./components/register","./components/Usage"],function(t,e,n,r,i,a,s,o,c,l,u,f,h){return r.fn.component=function(){return n.findInstance(this,"$com")},r.fn.components=function(t){var e=helper.nested(this),n=null;return e.forEach(function(e){var r=e instanceof Array;if(r)e.forEach(function(e){if(e&&e.$ready&&!e.$removed){if(t)return t.call(e,index);n||(n=[]),n.push(e)}});else if(e&&e.$ready&&!e.$removed){if(t)return t.call(e,index);n||(n=[]),n.push(e)}}),t?e:n},t.components={Component:a,configs:s,configure:o,extensions:c,extend:l,registry:u,register:f,Usage:h,version:version}}),t("skylark-totaljs-jcomponent/utils/blocks",["./localStorage"],function(t){var e={},n={blocked:function(n,r,i){var a=n,s=e[a],o=Date.now();if(s>o)return!0;langx.isString(r)&&(r=r.env().parseExpire());MD.localstorage;return e[a]=o+r,t.set("blocked",e),i&&i(),!1},load:function(){e=t.get("blocked")},clean:function(){for(var n in e)e[n]<=now&&(delete e[n],is2=!0);MD.localstorage&&is2&&!M.isPRIVATEMODE&&t.setItem(M.$localstorage+".blocked",JSON.stringify(e))}};return n}),t("skylark-totaljs-jcomponent/utils/cookies",["../langx"],function(t){function e(e,n,r){var i=typeof r;if("number"===i){var a=t.now();a.setTime(a.getTime()+24*r*60*60*1e3),r=a}else"string"===i&&(r=new Date(Date.now()+r.parseExpire()));document.cookie=e.env()+"="+n+"; expires="+r.toGMTString()+"; path=/"}return{get:function(t){t=t.env();for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var r=e[n];" "===r.charAt(0)&&(r=r.substring(1));var i=r.split("=");if(i.length>1&&i[0]===t)return i[1]}return""},set:e,rem:function(t){e(t.env(),"",-1)}}}),t("skylark-totaljs-jcomponent/utils/env",["../langx","../jc"],function(t,e){var n=t.topic,r="skylark.vmm.env",i={};return e.env=function(e,a){if(t.isObject(e))return e&&Object.keys(e).forEach(function(t){i[t]=e[t],n.publish(r,t,e[t])}),e;if(void 0!==a)return n.publish(r,e,a),a;return i[e]}}),t("skylark-totaljs-jcomponent/utils/http",["../jc","../langx","./cache"],function(t,e,n,r){var i=e.statics,a={},s={};function o(t){var e={};return t.split("\n").forEach(function(t){var n=t.indexOf(":");-1!==n&&(e[t.substring(0,n).toLowerCase()]=t.substring(n+1).trim())}),e}function c(t,n,i,a,s){i&&!i.version&&M.$version&&(i.version=M.$version),i&&!i.language&&M.$language&&(i.language=M.$language),i=e.stringify(i);var o=e.hashCode(t+"#"+n.replace(/\//g,"")+i).toString();return r.set(o,a,s)}function l(t,r,a,s,o,c){var l,h=(t=t.$env().replace(/<.*?>/,function(t){return l=t.substring(1,t.length-1).trim(),""}).trim()).substring(0,1),d="once "===t.substring(0,5).toLowerCase();if(e.isFunction(a)?(e.isFunction(s)?(c=s,o=!0):typeof o===TYPE_FN&&(c=o,o=!0),s=a,a="body"):e.isFunction(o)&&(c=o,o=!0),l){var p="()"===l.substring(l.length-2);p&&(l=l.substring(0,l.length-2));var m=GET(l);if(p&&e.isFunction(m)){if(m())return void(s&&s(0))}else if(m)return void(s&&s(0))}"//"===t.substring(0,2)&&(t=location.protocol+t);var v=t.lastIndexOf(" ."),g="";if(-1!==v&&(g=t.substring(v).trim().toLowerCase(),t=t.substring(0,v).trim()),"!"===h||d){if(t=d?t.substring(5):t.substring(1),i[t])return s&&(2===i[t]?s(0):e.wait(function(){return 2===i[t]},function(){s(0)})),W;i[t]=1}if(a&&a.setPath&&(a=a.element),a||(a="body"),!g)if(-1!==(v=t.lastIndexOf("?"))){var b=t.lastIndexOf(".",v);-1!==b&&(g=t.substring(b,v).toLowerCase())}else-1!==(v=t.lastIndexOf("."))&&(g=t.substring(v).toLowerCase());var y=document;if(".js"===g){var k=y.createElement("script");return k.type="text/javascript",k.async=!1,k.onload=function(){i[t]=2,s&&s(1),setTimeout(compile,300)},k.src=makeurl(t,!0),y.getElementsByTagName("head")[0].appendChild(k),n.emit("import",t,$(k)),this}if(".css"===g){var x=y.createElement("link");return x.type="text/css",x.rel="stylesheet",x.href=makeurl(t,!0),y.getElementsByTagName("head")[0].appendChild(x),i[t]=2,s&&setTimeout(s,200,1),n.emit("import",t,$(x)),this}return e.wait(function(){return!!W.jQuery},function(){i[t]=2;var l="import"+e.hashCode(t),h=function(r,i,u){if(r){t="$import"+t,c&&(r=c(r,u));var f=REGCOM.test(r);r=importscripts(importstyles(r,l)).trim(),a=$(a),r&&(!1===o?a.html(r):a.append(r)),setTimeout(function(){f&&compile(),s&&e.wait(function(){return 0==C.is},function(){s(1)}),n.emit("import",t,a)},10)}else s&&s(0)};r?f("GET "+t,null,h,r):u("GET "+t,h)}),W}function u(t,n,r,i){typeof t===TYPE_FN&&(i=r,r=n,n=t,t=location.pathname);var c,l=typeof n,u=EMPTYARRAY;r||l!==TYPE_FN&&l!==TYPE_S||(i=r,r=n,n=void 0);var f=t.indexOf(" ");if(-1===f)return W;var h=!1;t=t.replace(/\srepeat/i,function(){return h=!0,""}),h&&(u=[t,n,r,i]);var d=t.substring(0,f).toUpperCase(),p="!"===d.substring(0,1);p&&(d=d.substring(1));var m={};return(c=t.match(/\{.*?\}/g))&&(t=t.replace(c,"").replace(/\s{2,}/g," "),typeof(c=new Function("return "+c)())===TYPE_O&&(m=c)),t=t.substring(f).trim().$env(),setTimeout(function(){if("GET"===d&&n){var i=typeof n===TYPE_S?n:jQuery.param(n,!0);i&&(t+="?"+i)}var c={};c.method=d,c.converters=s.jsonconverter,"GET"!==d&&(typeof n===TYPE_S?c.data=n:(c.contentType="application/json; charset=utf-8",c.data=STRINGIFY(n))),c.headers=$.extend(m,s.headers),t.match(/http:\/\/|https:\/\//i)?(c.crossDomain=!0,delete c.headers["X-Requested-With"],p&&(c.xhrFields={withCredentials:!0})):t=t.ROOT();var l=t.match(/\([a-z0-9\-.,]+\)/i);if(l){t=t.replace(l,"").replace(/\s+/g,""),c.url=t,l=l.toString().replace(/\(|\)/g,"").split(",");for(var f=0;f<l.length;f++){var v=a[l[f].trim()];v&&v(c)}}if(c.url||(c.url=t),!c.cancel){c.type=c.method,delete c.method;var g={};g.url=c.url,g.process=!0,g.error=!1,g.upload=!1,g.method=d,g.data=n,delete c.url,c.success=function(t,e,n){g.response=t,g.status=n.status||999,g.text=e,g.headers=o(n.getAllResponseHeaders()),g.process&&!g.cancel&&r&&r.call(g,g.response,void 0,g)},c.error=function(t,n){var i=t.status;if(!h||i&&408!==i&&502!==i&&503!==i&&504!==i&&509!==i){g.response=t.responseText,g.status=i||999,g.text=n,g.error=!0,g.headers=o(t.getAllResponseHeaders());var a=g.headers["content-type"];if(a&&-1!==a.indexOf("/json"))try{g.response=PARSE(g.response,s.jsondate)}catch(t){}!g.cancel&&g.process&&(s.ajaxerrors?r&&r.call(g,g.response,g.status,g):e.isFunction(r)&&r.call(g,g.response,g.status,g))}else setTimeout(function(){u[0]+=" REPEAT",W.AJAX.apply(M,u)},s.delayrepeat)},$.ajax(makeurl(g.url),c)}},i||0),this}function f(t,n,r,i,a,s,o){(e.isFunction(n)||e.isString(n)&&e.isString(r)&&!e.isString(i))&&(s=a,a=i,i=r,r=n,n=null),e.isBoolean(a)&&(s=!0===a,a=0);var l=t.indexOf(" ");if(-1===l)return W;var f=t.substring(0,l).toUpperCase(),h=t.substring(l).trim().$env();return setTimeout(function(){var e=s?void 0:c(f,h,n,void 0,i);if(void 0===e)u(t,n,function(t,e){e&&(t=e),c(f,h,n,t,i),r(t,!1)});else{var a=o?STRINGIFY(e):null;if(r(e,!0),!o)return;u(t,n,function(t,e){e&&(t=e),a!==STRINGIFY(t)&&(c(f,h,n,t,i),r(t,!1,!0))})}},a||1),this}return s.ajaxerrors=!1,s.pingdata={},s.baseurl="",s.makeurl=null,s.delayrepeat=2e3,s.jsondate=!0,s.jsonconverter={"text json":function(t){return PARSE(t)}},s.headers={"X-Requested-With":"XMLHttpRequest"},t.http={defaults:s,ajax:u,ajaxCache:f,ajaxCacheReview:function(t,e,n,r,i,a){return f(t,e,n,r,i,a,!0)},configure:function(t,e){return a[t]=e,this},import2:function(t,n,r,i,a){t instanceof Array?(e.isFunction(n)&&(a=i,i=r,r=n,n=null),t.wait(function(t,e){l(t,null,n,e,i,a)},function(){r&&r()})):l(t,null,n,r,i,a);return this},importCache:l,makeParams:function(t,e,n){var r,i=location;typeof t===TYPE_O&&(n=e,e=t,t=i.pathname+i.search);var a=t.indexOf("?");-1!==a?(r=M.parseQuery(t.substring(a+1)),t=t.substring(0,a)):r={};for(var s=Object.keys(e),o=0,c=s.length;o<c;o++){var l=s[o];r[l]=e[l]}var u=$.param(r,null==n||!0===n);return t+(u?"?"+u:"")},ping:function(t,e,n){if(null!=navigator.onLine&&!navigator.onLine)return;"boolean"==typeof e&&(n=e,e=0);var r=(t=t.$env()).indexOf(" "),i="GET";-1!==r&&(i=t.substring(0,r).toUpperCase(),t=t.substring(r).trim());var a={},o=$.param(s.pingdata);o&&(r=t.lastIndexOf("?"),t+=-1===r?"?"+o:"&"+o);return a.type=i,a.headers={"x-ping":location.pathname,"x-cookies":navigator.cookieEnabled?"1":"0","x-referrer":document.referrer},a.success=function(t){if(t)try{new Function(t)()}catch(t){}},n&&$.ajax(makeurl(t),a),setInterval(function(){$.ajax(makeurl(t),a)},e||3e4)},parseQuery:function(t){t||(t=location.search);if(!t)return{};var e=t.indexOf("?");-1!==e&&(t=t.substring(e+1));for(var n=t.split("&"),r={},i=0,a=n.length;i<a;i++){var s=n[i].split("="),o=s[0],c=decodeURIComponent((s[1]||"").replace(/\+/g,"%20"));r[o]?(r[o]instanceof Array||(r[o]=[r[o]]),r[o].push(c)):r[o]=c}return r},upload:function(t,r,i,a,c){e.isNumber(a)||null!=c||(c=a,a=null);t||(t=location.pathname);var l="POST",u=t.indexOf(" "),f=null;-1!==u&&(l=t.substring(0,u).toUpperCase());var h="!"===l.substring(0,1);h&&(l=l.substring(1));var d={};(f=t.match(/\{.*?\}/g))&&(t=t.replace(f,"").replace(/\s{2,}/g," "),typeof(f=new Function("return "+f)())===TYPE_O&&(d=f));t=t.substring(u).trim().$env(),typeof i===TYPE_N&&(a=i,i=void 0);var p={};if(p.url=t,p.process=!0,p.error=!1,p.upload=!0,p.method=l,p.data=r,n.emit("request",p),p.cancel)return;return setTimeout(function(){var t=new XMLHttpRequest;h&&(t.withCredentials=!0),t.addEventListener("load",function(){var t=this.responseText;try{t=PARSE(t,s.jsondate)}catch(t){}c&&c(100),p.response=t,p.status=this.status,p.text=this.statusText,p.error=this.status>399,p.headers=o(this.getAllResponseHeaders()),n.emit("response",p),p.process&&!p.cancel&&(!t&&p.error&&(t=p.response=this.status+": "+this.statusText),!p.error||s.ajaxerrors?typeof i===TYPE_S?remap(i.env(),t):i&&i(t,null,p):(n.emit("error",p),p.process&&typeof i===TYPE_FN&&i({},t,p)))},!1),t.upload.onprogress=function(t){if(c){var e=0;t.lengthComputable&&(e=Math.round(100*t.loaded/t.total)),c(e,t.transferSpeed,t.timeRemaining)}},t.open(l,makeurl(p.url));for(var e=Object.keys(s.headers),a=0;a<e.length;a++)t.setRequestHeader(e[a].env(),s.headers[e[a]].env());if(d)for(e=Object.keys(d),a=0;a<e.length;a++)t.setRequestHeader(e[a],d[e[a]]);t.send(r)},a||0),W},uptodate:uptodate}}),t("skylark-totaljs-jcomponent/utils/logs",["../langx"],function(t){var e=t.hoster.global;return{warn:function(){e.console&&e.console.warn.apply(e.console,arguments)}}}),t("skylark-totaljs-jcomponent/utils",["./jc","./utils/blocks","./utils/cache","./utils/cookies","./utils/domx","./utils/env","./utils/http","./utils/localStorage","./utils/logs","./utils/query"],function(t,e,n,r,i,a,s,o,c,l){return t.utils={blocks:e,cache:n,cookies:r,domx:i,env:a,http:s,localStorage:o,logs:c,query:l}}),t("skylark-totaljs-jcomponent/views/binding",["../utils/domx","../binding/parsebinder"],function(t,e){return function(n){var r=[];return{parse:function(t,n,i){return e(t,n,i,{binders:r})},binder:function(t){return t.$jcbind},clean:function(){keys=Object.keys(r);for(var e=0;e<keys.length;e++){arr=r[keys[e]];for(var n=0;;){var i=arr[n++];if(!i)break;if(!t.inDOM(i.el[0])){var a=i.el;a[0].$br||(a.off(),a.find("*").off(),a[0].$br=1),n--,arr.splice(n,1)}}arr.length||delete r[keys[e]]}}}}}),t("skylark-totaljs-jcomponent/views/componenter",["../langx","../components/extensions","../components/registry"],function(t,e,n){return function(e){e.helper,e.storing;var n=[],r=0;return setInterval(function(){t.now(!0);for(var e=n,i=0,a=e.length;i<a;i++)e[i].knockknock&&e[i].knockknock(r);eventer.emit("knockknock",r++)},6e4),{}}}),t("skylark-totaljs-jcomponent/views/eventer",[],function(){return function(t){var e={};function n(t,r,a,s,o){if(-1!==t.indexOf(MULTIPLE)){for(var c=t.split(MULTIPLE).trim(),l=0;l<c.length;l++)n(c[l],r,a,s,o);return this}var u=!0;"^"===t.substring(0,1)&&(u=!1,t=t.substring(1));var f=null,h=t.indexOf("#");h&&(f=t.substring(0,h).trim(),t=t.substring(h+1).trim()),langx.isFunction(r)?(a=r,r="watch"===t?"*":""):r=r.replace(".*","");var d={name:t,fn:a,owner:f||current_owner,context:o||(null==current_com?void 0:current_com)};if("watch"===t){var c=[],p=findFormat(r);if(p&&(r=p.path,d.format=p.fn),"."===r.substring(r.length-1)&&(r=r.substring(0,r.length-1)),37===r.charCodeAt(0)&&(r="jctmp."+r.substring(1)),33===(r=r.env()).charCodeAt(0))r=r.substring(1),c.push(r);else for(var m=r.split("."),v=[],g=0;g<m.length;g++){var b=m[g].lastIndexOf("[");if(-1!==b){var y=v.join(".");c.push(y+(y?".":"")+m[g].substring(0,b))}v.push(m[g]),c.push(v.join("."))}d.path=r,d.$path=c,u?i.push(d):i.unshift(d),s&&a.call(o||M,r,d.format?d.format(get(r),r,0):get(r),0)}else e[t]?u?e[t].push(d):e[t].unshift(d):e[t]=[d],!C.ready&&("ready"===t||"init"===t)&&a();return this}function r(t,n,a){if(-1!==t.indexOf("+")){for(var s=t.split("+").trim(),o=0;o<s.length;o++)r(s[o],n,a);return this}lang.isFunction(n)&&(a=n,n=""),void 0===n&&(n="");var c=null,l=t.indexOf("#");if(l&&(c=t.substring(0,l).trim(),t=t.substring(l+1).trim()),n){n=n.replace(".*","").trim();var u=findFormat(n);u&&(n=u.path),"."===n.substring(n.length-1)&&(n=n.substring(0,n.length-1))}var f=0;!c||n||a||t?c&&t&&!a&&!n?f=2:c&&t&&n?f=3:c&&t&&n&&a?f=4:t&&n&&a?f=5:t&&n?f=7:a&&(f=6):f=1;var h=function(e,r){return e.remove(function(e){if(f>2&&f<5&&e.path!==n)return!1;return 1===f?e.owner===c:2===f?r===t&&e.owner===c:3===f?r===t&&e.owner===c:4===f?r===t&&e.owner===c&&e.fn===a:5===f||6===f?r===t&&e.fn===a:6===f?e.fn===a:7===f?r===t&&e.path===n:r===t})};return Object.keys(e).forEach(function(t){e[t]=h(e[t],t),e[t].length||delete e[t]}),i=h(i,"watch"),this}var i=[];return{clean:function(){topic.each(function(t,n){for(index=0;;){var r=n[index++];if(void 0===r)break;null==r.context||r.context.element&&inDOM(r.context.element[0])||(r.context&&r.context.element&&r.context.element.remove(),r.context.$removed=!0,r.context=null,n.splice(index-1,1),n.length||delete e[t],index-=2,is=!0)}}),index=0;for(;;){var t=i[index++];if(void 0===t)break;null==t.context||t.context.element&&inDOM(t.context.element[0])||(t.context&&t.context.element&&t.context.element.remove(),t.context.$removed=!0,t.context=null,i.splice(index-1,1),index-=2,is=!0)}},on:n,off:r,emit:function(t){var n=e[t];if(!n)return!1;for(var r=[],i=1,a=arguments.length;i<a;i++)r.push(arguments[i]);for(var i=0,a=n.length;i<a;i++){var s=n[i].context;(void 0===s||null!==s&&!s.$removed)&&n[i].fn.apply(s||window,r)}return!0},watch:function t(e,r,i){if(-1!==e.indexOf(MULTIPLE)){for(var a=e.split(MULTIPLE).trim(),s=0;s<a.length;s++)t(a[s],r,i);return this}langx.isFunction(e)&&(i=r,r=e,e="*");var o="";"^"===e.substring(0,1)&&(e=e.substring(1),o="^");e=pathmaker(e,!0);n(o+"watch",e,r,i);return this},unwatch:function t(e,n){if(-1!==e.indexOf(MULTIPLE)){for(var i=e.split(MULTIPLE).trim(),a=0;a<i.length;a++)t(i[a],n);return this}return r("watch",e,n)},emitwatch:function(t,e,n){for(var r=0,a=i.length;r<a;r++){var s=i[r];if("*"===s.path)s.fn.call(s.context,t,s.format?s.format(e,t,n):e,n);else if(t.length>s.path.length){var o=t.lastIndexOf(".",s.path.length);if(-1!==o&&s.path===t.substring(0,o)){var c=get(s.path);s.fn.call(s.context,t,s.format?s.format(c,t,n):c,n)}}else for(var l=0,u=s.$path.length;l<u;l++)if(s.$path[l]===t){var c=get(s.path);s.fn.call(s.context,t,s.format?s.format(c,t,n):c,n);break}}}}}}),t("skylark-totaljs-jcomponent/views/compiler",["../langx","../utils/query","../utils/domx","../utils/http","../components/registry","../plugins"],function(t,e,n,r,i,a){var s=t.statics,o={fallback:"https://cdn.componentator.com/j-{0}.html",fallbackcache:"",version:"v16"},c={$:0};function l(){clear("find")}return setInterval(function(){temp={},paths={}},3e5),setInterval(function(){l()},3e5),function(a){var l=a.helper,u=(a.eventer,a.storing),f=a.scoper,h=(a.componentater,!1);recompile=!1,importing=0,pending=[],initing=[],imports={},toggles=[],ready=[],lazycom={},caches={current:{}};function d(e,n,i,a){e.importing?t.wait(function(){return!0!==e.importing},function(){n(i,a)}):e.dependencies&&e.dependencies.length?(e.importing=!0,e.dependencies.wait(function(e,n){t.isFunction(e)?e(n):r.import2((-1===e.indexOf("<")?"once ":"")+e,n)},function(){e.importing=!1,n(i,a)},3)):setTimeout(function(t,e,n){t(e,n)},5,n,i,a)}function p(t,e){var r,i=t[0],a=i.tagName;n.inputable(a)?(e.$input=!0,r=e.element):r=t,l.findControl2(e,r),e.released&&e.released(e.$released),componenter.components.push(e),initing.push(e),"BODY"!==a&&l.canCompile(t[0])&&v(t),request()}function m(u,h,m,v){var g=e(h),b=u.split(/_{2,}/);if(b.length?(b=b.trim(!0),u=b[0]):b=null,has=!0,s["$ST_"+u])n.remove(g);else{for(var y=[],$=u.split(","),k=0;k<$.length;k++){var u=$[k].trim(),x=!1;if(-1!==u.indexOf("|")){for(var w=u.split("|"),j=0;j<w.length;j++){var E=w[j].trim();if(E&&i[E]){u=E,x=!0;break}}x||(u=w[0].trim())}var T=!1;"lazy "===u.substring(0,5).toLowerCase()&&(u=u.substring(5),T=!0),x||-1!==u.lastIndexOf("@")||(versions[u]?u+="@"+versions[u]:o.version&&(u+="@"+o.version));var O=i[u],C=null;if(T&&u){var A=u.substring(0,u.indexOf("@"));if(!(C=lazycom[u])){lazycom[u]=A&&u!==A?lazycom[A]={state:1}:{state:1};continue}if(1===C.state)continue}if(O){1===c[u]&&(c.$--,delete c[u]);for(var M=new l.Component(O.name,a),S=h.parentNode;;){if(S.$com){var N=S.$com;M.owner=N,N.$children?N.$children++:N.$children=1;break}if("BODY"===S.nodeName)break;if(null==(S=S.parentNode))break}M.global=O.shared,M.element=g,M.dom=h;var D=l.attrcom(g,"path")||(b?"null"===b[1]?"":b[1]:"")||M._id;"%"===D.substring(0,1)&&(M.$noscope=!0),M.setPath(pathmaker(D,!0),1),M.config={},O.config&&M.reconfigure(O.config,NOOP);var I=l.attrcom(g,"config")||(b?"null"===b[2]?"":b[2]:"");I&&M.reconfigure(I,NOOP),M.$init||(M.$init=l.attrcom(g,"init")||null),M.type||(M.type=l.attrcom(g,"type")||""),M.id||(M.id=l.attrcom(g,"id")||M._id),M.siblings=$.length>1,M.$lazy=C;for(var j=0;j<configs.length;j++){var P=configs[j];P.fn(M)&&M.reconfigure(P.config,NOOP)}caches.current.com=M,O.declaration.call(M,M,M.config),caches.current.com=null,b[3]&&g.attrd("jc-value",b[3]),M.init&&!s[u]&&(s[u]=!0,M.init()),h.$com=M,M.$noscope||(M.$noscope="true"===l.attrcom(g,"noscope"));var F=M.path?M.path.charCodeAt(0):0;if(!M.$noscope&&v.length&&!M.$pp){var _=f.initscopes(v);M.path&&33!==F&&35!==F?M.setPath("?"===M.path?_.path:-1===M.path.indexOf("?")?_.path+"."+M.path:M.path.replace(/\?/g,_.path),2):(M.$$path=[],M.path=""),M.scope=_,M.pathscope=_.path}y.push(M);var R=l.attrcom(g,"template")||M.template;if(R&&(M.template=R),"true"===l.attrcom(g,"released")&&(M.$released=!0),l.attrcom(g,"url"))warn('Components: You have to use "data-jc-template" attribute instead of "data-jc-url" for the component: {0}[{1}].'.format(M.name,M.path));else if(t.isString(R)){var L=function(e){M.prerender&&(e=M.prerender(e)),d(O,function(n,r){if(t.isFunction(n.make)){var i=caches.current.com;caches.current.com=n,n.make(e),caches.current.com=i}p(r,n)},M,g)},H=R.substring(0,1);if("."===H||"#"===H||"["===H){L(e(R).html());continue}var W="TE"+HASH(R),Y=s[W];if(Y){L(Y);continue}e.get(l.makeurl(R),function(t){s[W]=t,L(t)})}else if(t.isString(M.make)){if(-1!==M.make.indexOf("<")){d(O,function(t,e){t.prerender&&(t.make=t.prerender(t.make)),e.html(t.make),p(e,t)},M,g);continue}e.get(makeurl(M.make),function(t){d(O,function(e,n){e.prerender&&(t=e.prerender(t)),n.html(t),p(n,e)},M,g)})}else O.dependencies?d(O,function(t,e){if(t.make){var n=caches.current.com;caches.current.com=t,t.make(),caches.current.com=n}p(e,t)},M,g):setTimeout(function(t,e,n){if(n.make){var r=caches.current.com;caches.current.com=n,n.make(),caches.current.com=r}t(e,n)},5,p,g,M)}else{c[u]||(c[u]=1,c.$++);var G=l.attrcom(g,"import");if(!G){!s["$NE_"+u]&&(s["$NE_"+u]=!0);continue}if(1===imports[G])continue;if(2===imports[G]){!s["$NE_"+u]&&(s["$NE_"+u]=!0);continue}imports[G]=1,importing++,r.import2(G,function(){importing--,imports[G]=2})}}y.length>0&&(g.$com=y.length>1?y:y[0])}}function v(i,c){var f=this;if(h)recompile=!0;else{var d=[];if(d.length)for(;;){var p=d.shift();if(!p)break;p()}if(h=!0,function(i){var a=[],c=0;if(l.findUrl(i._elm).each(function(){var t=this,n=e(t);if(!t.$downloaded){t.$downloaded=1;var r=l.attrcom(n,"url"),i="once "===r.substring(0,5).toLowerCase();if("!"===r.substring(0,1)||i){if(r=i?r.substring(5):r.substring(1),s[r])return;s[r]=2}var c={};c.url=r,c.element=n,c.callback=l.attrcom(n,"init"),c.path=l.attrcom(n,"path"),c.toggle=(l.attrcom(n,"class")||"").split(" "),c.expire=l.attrcom(n,"cache")||o.importcache,a.push(c)}}),!a.length)return;var f=!1;importing++,t.async(a,function(e,i){var a=l.makeurl(e.url);r.ajaxCache("GET "+e.url,null,function(r){if(a="$import"+a,caches.current.element=e.element[0],r=s[a]?n.removescripts(r):n.importscripts(importstyles(r)),r&&l.canCompile(r)&&(f=!0),e.element.html(r),s[a]=!0,e.toggle.length&&e.toggle[0]&&toggles.push(e),e.callback&&!l.attrcom(e.element)){var o=u.get(e.callback);t.isFunction(o)&&o(e.element)}caches.current.element=null,c++,i()},e.expire)},function(){importing--,componenter.clean(),c&&f&&i.compile()})}(f),pending.length)!function(t){pending.push(function(){v(f,t)})}(i);else{if(function t(n,r,i,s){var o=a.helper;a.binding;n=n?e(n)[0]:document.body;if(!n)return;if(o.nocompile(n))return;if((null==i||0===i)&&(s=[],n!==document.body)){var c=o.scope(n);c&&scopes.push(c)}var l=null;var u=!!n&&o.released(n);var f=o.scope(n);var h=null;f&&s.push(n);n.$jcbind||(l=o.attrbind(n))&&(h||(h=[]),h.push({el:n,b:l}));var d=o.attrcom(n);n.$com||null==d||r(d,n,0,s);var p=n.childNodes;var m=[];void 0===i?i=0:i++;for(var v=0,g=p.length;v<g;v++){var b=p[v];if(b){if(!b.tagName)continue;if(o.nocompile(b))continue;void 0===b.$com&&null!=(d=o.attrcom(b))&&(u&&o.released(b,"true"),r(d||"",b,i,s)),b.$jcbind||(l=o.attrbind(b))&&(b.$jcbind=1,!h&&(h=[]),h.push({el:b,b:l})),o.nocompile(b)||b.childNodes.length&&"SCRIPT"!==b.tagName&&o.canCompile(b)&&-1===m.indexOf(b)&&m.push(b)}}for(var v=0,g=m.length;v<g;v++)(b=m[v])&&t(b,r,i,s&&s.length?s:[]);if(h)for(var v=0;v<h.length;v++){var y=h[v];y.el.$jcbind=parsebinder(y.el,y.b,s)}}(i,m),rebindbinder(),h=!1,void 0!==i||!toggles.length)return nextpending();t.async(toggles,function(t,e){for(var n=0,r=t.toggle.length;n<r;n++)t.element.tclass(t.toggle[n]);e()},nextpending)}}}return{compile:v,request:request}}}),t("skylark-totaljs-jcomponent/views/helper",["../langx","../components/Component"],function(t,e){return function(t){var n="[data-jc]",r="jc",i="data-jc-removed";function a(t,e,n){var r=t.childNodes,i=[];domx.inputable(t)&&e(t),null==n?n=0:n++;for(var s=0,o=r.length;s<o;s++){var c=r[s];if(c&&c.tagName&&(c.childNodes.length&&"SCRIPT"!==c.tagName&&null==c.getAttribute("data-jc")&&i.push(c),domx.inputable(c)&&null!=c.getAttribute("data-jc-bind")&&!1===e(c)))return}for(var s=0,o=i.length;s<o;s++)if((c=i[s])&&!1===a(c,e,n))return}return{Component:e,findComponent:function(e,n,r){for(var i,a=t.components,s=n?n.split(" "):[],o="",c="",l="",u="",f=0,h=s.length;f<h;f++)switch(s[f].substring(0,1)){case"*":break;case".":o=s[f].substring(1);break;case"#":l=s[f].substring(1),-1!==(i=l.indexOf("["))&&(o=l.substring(i+1,l.length-1).trim(),l=l.substring(0,i));break;default:c=s[f],-1!==(i=c.indexOf("["))&&(o=c.substring(i+1,c.length-1).trim(),c=c.substring(0,i)),-1!==(i=c.lastIndexOf("@"))&&(u=c.substring(i+1),c=c.substring(0,i))}var d=r?void 0:[];if(e){var p=!1;e.find("["+t.option("elmAttrNames.com.base")+"]").each(function(){var t=this.$com;p||!t||!t.$loaded||t.$removed||l&&t.id!==l||c&&t.$name!==c||u&&t.$version!==u||o&&(t.$pp||t.path!==o&&(!t.pathscope||t.pathscope+"."+o!==t.path))||(r?!1===r(t)&&(p=!0):d.push(t))})}else for(var f=0,h=a.length;f<h;f++){var m=a[f];if(!(!m||!m.$loaded||m.$removed||l&&m.id!==l||c&&m.$name!==c||u&&m.$version!==u||o&&(m.$pp||m.path!==o&&(!m.pathscope||m.pathscope+"."+o!==m.path))))if(r){if(!1===r(m))break}else d.push(m)}return d},findControl:a,findControl2:function(t,e){if(t.$inputcontrol&&t.$inputcontrol%2!=0)return void t.$inputcontrol++;a((e||t.element)[0],function(e){e.$com&&e.$com===t||(e.$com=t,t.$inputcontrol=1)})},attrcom:function(t,e){return e=e?"-"+e:"",t.getAttribute?t.getAttribute("data-jc"+e):t.attrd("jc"+e)},attrbind:function(t){return t.getAttribute("data-bind")||t.getAttribute("bind")},attrscope:attrscope,kill:function(t){var e=$(t);e.removeData(r),e.attr(i,"true").find(n).attr(i,"true")},makeurl:function(t,e){var n=[];encodeURIComponent;if(!n.length)return t;-1==t.indexOf("?")?t+="?":t+="&";return t+n.join("&")},scope:function(t){var e=$(t).closest("["+this.option("elmAttrNames.scope")+"]");if(e&&e.length)return reesults[0]},nocompile:function(e,n){if(void 0===n){var n=$(e).attr(t.option("elmAttrNames.compile"));return"0"===n||"false"===comp}return $(e).attr(t.option("elmAttrNames.compile"),n),this},released:function(e,n){if(void 0===n){var n=$(e).attr(t.option("elmAttrNames.released"));return"0"===n||"false"===comp}return $(e).attr(t.option("elmAttrNames.released"),n),this}}}}),t("skylark-totaljs-jcomponent/components/Scope",["../langx"],function(t){var e=t.klass({_construct(t,e){this.view=e,this.storing=e.storing,this.eventer=e.eventer}}),n=e.prototype;return n.unwatch=function(t,e){return this.eventer.off("scope"+this._id+"#watch",this.path+(t?"."+t:""),e),this},n.watch=function(t,e,n){return this.eventer.on("scope"+this._id+"#watch",this.path+(t?"."+t:""),e,n,this),this},n.reset=function(t,e){return t>0&&(e=t,t=""),RESET(this.path+"."+(t?+t:"*"),e)},n.default=function(t,e){return t>0&&(e=t,t=""),this.storing.default(this.path+"."+(t||"*"),e)},n.set=function(t,e,n,r){return this.storing.setx(this.path+(t?"."+t:""),e,n,r)},n.push=function(t,e,n,r){return this.storing.push(this.path+(t?"."+t:""),e,n,r)},n.update=function(t,e,n){return this.storing.update(this.path+(t?"."+t:""),e,n)},n.get=function(t){return this.storing.get(this.path+(t?"."+t:""))},n.can=function(t){return this.storing.can(this.path+".*",t)},n.errors=function(t,e){return this.storing.errors(this.path+".*",t,e)},n.remove=function(){for(var e=this.view.components,n=0;n<e.length;n++){var r=e[n];r.scope&&r.scope.path===this.path&&r.remove(!0)}if(this.isolated){e=Object.keys(proxy);for(var n=0;n<e.length;n++){var r=e[n];r.substring(0,this.path.length)===this.path&&delete proxy[r]}}this.eventer.off("scope"+this._id+"#watch");var i=this.element;i.find("*").off(),i.off(),i.remove(),t.setTimeout2("$cleaner",cleaner2,100)},n.FIND=function(t,e,n,r){return this.element.FIND(t,e,n,r)},n.SETTER=function(t,e,n,r,i,a,s){return this.element.SETTER(t,e,n,r,i,a,s)},n.RECONFIGURE=function(t,e){return this.element.RECONFIGURE(t,e)},e}),t("skylark-totaljs-jcomponent/views/scoper",["../components/Scope"],function(t){return function(t){t.helper}}),t("skylark-totaljs-jcomponent/views/storing",["../langx","../binding/pathmaker"],function(t,e){var n={sort:1,reverse:1,splice:1,slice:1,pop:1,unshift:1,shift:1,push:1};return function(r,i){var a={};r.data;function s(t){for(var e=t.split("."),n=[],r=[],i=0;i<e.length;i++){var a=e[i],s=a.indexOf("[");if(-1===s)if(-1===a.indexOf("-"))r.push(a),n.push(r.join("."));else{var o=r.splice(r.length-1);r.push(o+"['"+a+"']"),n.push(r.join("."))}else-1===a.indexOf("-")?(r.push(a.substring(0,s)),n.push(r.join(".")),r.splice(r.length-1),r.push(a),n.push(r.join("."))):(r.push("['"+a.substring(0,s)+"']"),n.push(r.join("")),r.push(a.substring(s)),n.push(r.join("")))}return n}var o={},c={},l={},u=[],f={};function h(t,e,n){for(var r=o[t],i=0;i<r.length;i++){var a=r[i];a.ticks!==n&&(a.ticks=n,a.exec(getx(a.path),e))}}function a(t,e,n){var r="$jcpath";if(WATCH(t,function(n,i){var a=storages.get(r);a?a[t]=i:(a={})[t]=i,storages.put(r,a,e)}),void 0===n||n){var i=storages.get(r);i&&void 0!==i[t]&&i[t]!==d(t)&&m(t,i[t],!0)}return this}function d(t,e){if(null!=t){var n=t.charCodeAt(0);37===n&&(t="jctmp."+t.substring(1));var r="="+t;if(c[r])return c[r](e||stores.root);if(-1===t.indexOf("?")){for(var i=s(t),a=[],o=0,l=i.length-1;o<l;o++){var u=i[o];"["!==u.substring(0,1)&&(u="."+u),a.push("if(!w"+u+")return")}var f=i[i.length-1];"["!==f.substring(0,1)&&(f="."+f);var h=new Function("w",a.join(";")+";return w"+f);return c[r]=h,h(e||MD.scope)}}}function p(t,e,n){if(null!=t){var i="+"+t;if(c[i])return c[i](r.data,e,t,o,h,n);if(-1===t.indexOf("?")){for(var a=s(t),l=[],u=[],f=0;f<a.length-1;f++){var d=a[f],p=a[f+1]&&REGISARR.test(a[f+1])?"[]":"{}",m="w"+("["===d.substring(0,1)?"":".")+d;l.push("if(typeof("+m+")!=='object'||"+m+"==null)"+m+"="+p)}for(var f=0;f<a.length-1;f++){var d=a[f];u.push("binders['"+d+"']&&binderbind('"+d+"','"+t+"',$ticks)")}var v=a[a.length-1];u.push("binders['"+v+"']&&binderbind('"+v+"','"+t+"',$ticks)"),u.push("binders['!"+v+"']&&binderbind('!"+v+"','"+t+"',$ticks)"),"["!==v.substring(0,1)&&(v="."+v);var g=new Function("w","a","b","binders","binderbind","nobind","var $ticks=Math.random().toString().substring(2,8);if(!nobind){"+l.join(";")+";var v=typeof(a)=='function'?a(MAIN.compiler.get(b)):a;w"+v+"=v}"+u.join(";")+";return a");return c[i]=g,g(r.data,e,t,o,h,n),this}t=""}}function m(t,n,r){if(t instanceof Array){for(var a=0;a<t.length;a++)m(t[a],n,r);return M}if(!(t=e(t)))return M;var s=33===t.charCodeAt(0);if(s&&(t=t.substring(1)),43===t.charCodeAt(0))return g(t=t.substring(1),n,r);if(!t)return M;var o="object"==typeof n&&!(n instanceof Array)&&null!=n,c=!0===r;if(c&&(r=1),M.skipproxy=t,p(t,n),o)return v(t,c,r,!0);var l=d(t),u=[];void 0===r&&(r=1);for(var f=i.components,a=0,h=f.length;a<h;a++){var b=f[a];b&&!b.disabled&&!b.$removed&&b.$loaded&&b.path&&b.$compare(t)&&(b.setter&&(b.path===t?b.setter&&(b.setterX(l,t,r),b.$interaction(r)):b.setter&&(b.setterX(d(b.path),t,r),b.$interaction(r))),b.$ready||(b.$ready=!0),3!==r&&b.state&&u.push(b),c?(b.$dirty_disabled||(b.$dirty=!0),b.$valid_disabled||(b.$valid=!0,b.$validate=!1,b.validate&&(b.$valid=b.validate(l),b.$interaction(102))),findControl2(b)):b.validate&&!b.$valid_disabled&&b.valid(b.validate(l),!0))}c&&caches.clear("dirty","valid");for(var a=0,h=u.length;a<h;a++)u[a].stateX(r,5);return emitwatch(t,l,r),M}function v(t,n,a,s){if(t instanceof Array){for(var o=0;o<t.length;o++)v(r,t[o],n,a);return this}if(!(t=e(t)))return this;var c=33===t.charCodeAt(0);if(c&&(t=t.substring(1)),!(t=t.replaceWildcard()))return this;s||d(t,d(t));var l=[];void 0===a&&(a=1),M.skipproxy=t;for(var u=i.components,o=0,f=u.length;o<f;o++){var h=u[o];if(h&&!h.disabled&&!h.$removed&&h.$loaded&&h.path&&h.$compare(t)){var p=h.get();h.setter&&(h.$skip=!1,h.setterX(p,t,a),h.$interaction(a)),h.$ready||(h.$ready=!0),!0===n?(h.$dirty_disabled||(h.$dirty=!0,h.$interaction(101)),h.$valid_disabled||(h.$valid=!0,h.$validate=!1,h.validate&&(h.$valid=h.validate(p),h.$interaction(102))),findControl2(h)):h.validate&&!h.$valid_disabled&&h.valid(h.validate(p),!0),h.state&&l.push(h)}}n&&clear("dirty","valid");for(var o=0,f=l.length;o<f;o++)l[o].stateX(1,4);return emitwatch(t,d(t),a),this}function g(t,e,n){if(t instanceof Array){for(var r=0;r<t.length;r++)g(t[r],e,n);return this}var i=d(t),a=!1;i instanceof Array||(i=[],a=!0);var s=!0;return M.skipproxy=t,e instanceof Array?e.length?i.push.apply(i,e):s=!1:i.push(e),a?m(t,i,n):s&&v(t,void 0,n),this}function b(t,e){return null==e&&(e=!0),!com_dirty(t,!e)}function y(e){var n,r=[],i=1,a=!1,s=this;!0===e&&(a=!0,e=arguments[1],i=2),e=e.env();for(var o=i;o<arguments.length;o++)r.push(arguments[o]);var l=e.charCodeAt(0);if(35===l)return n=e.substring(1),a?!events[n]&&exechelper(s,e,r):EMIT.call(s,n,r[0],r[1],r[2],r[3],r[4]),EXEC;var u=0;if(64===l){var f=e.indexOf(".");n=e.substring(1,f);var h=plugins.find(n);if(h){var d=h[e.substring(f+1)];t.isFunction(d)&&(d.apply(s===Window?h:s,r),u=1)}return a&&!u&&exechelper(s,e,r),EXEC}var f=e.indexOf("/");if(-1!==f){n=e.substring(0,f);var h=plugins.find(n),d=e.substring(f+1);return h&&typeof h[d]===TYPE_FN&&(h[d].apply(s===W?h:s,r),u=1),a&&!u&&exechelper(s,e,r),EXEC}var d=c.get(e);return t.isFunction(d)&&(d.apply(s,r),u=1),a&&!u&&exechelper(s,e,r),y}function $(t,n,r){if(n>0)return setTimeout(function(){$(t)},n),this;t=e(t).replaceWildcard();for(var a=[],s=i.components,o=0,c=s.length;o<c;o++){var l=s[o];l&&!l.$removed&&!l.disabled&&l.$loaded&&l.path&&l.$compare(t)&&(l.state&&a.push(l),r&&r._id!==l._id||(findControl2(l),l.$dirty_disabled||(l.$dirty=!0,l.$interaction(101)),l.$valid_disabled||(l.$valid=!0,l.$validate=!1,l.validate&&(l.$valid=l.validate(l.get()),l.$interaction(102)))))}return clear("valid","dirty"),state(a,1,3),this}function k(e,n,r){if(t.isFunction(e))return!0===n?$parser.unshift(e):$parser.push(e),this;var i=$parser;if(i&&i.length)for(var a=0,s=i.length;a<s;a++)e=i[a].call(this,n,e,r);return e}return $parser=[],nmCache={},temp={},k(function(e,n,r){switch(r){case"number":case"currency":case"float":var i=+(t.isString(n)?n.trimAll().replace(REGCOMMA,"."):n);return isNaN(i)?null:i;case"date":case"datetime":return n?n instanceof Date?n:(n=n.parseDate())&&n.getTime()?n:null:null}return n}),{cache:a,can:function(t,n){return t=e(t),!com_dirty(t,n)&&com_valid(t,n)},change:b,changed:function(t){return!com_dirty(t)},create:function(e){var r,i=!1;if(t.isString(e)){if(proxy[e])return proxy[e];i=!0,r=function(t){var n=e+(t?"."+t:"");M.skipproxy!==n?setTimeout(function(){M.skipproxy===n?M.skipproxy="":(notify(n),$(n))},MD.delaybinder):M.skipproxy=""}}else r=e;var a=!1,s=e&&get2(e)||{},o={get:function(t,e,n){try{return new Proxy(t[e],o)}catch(r){return Reflect.get(t,e,n)}},defineProperty:function(t,e,n){return!a&&r(e,n),Reflect.defineProperty(t,e,n)},deleteProperty:function(t,e){return!a&&r(e),Reflect.deleteProperty(t,e)},apply:function(t,e,i){if(n[t.name]){a=!0;var s=Reflect.apply(t,e,i);return r("",i[0]),a=!1,s}return Reflect.apply(t,e,i)}},c=new Proxy(s,o);return i?(M.skipproxy=e,null==getx(e)&&m(e,s,!0),proxy[e]=c):c},default:function n(r,s,o,c){if(s>0)return setTimeout(function(){n(r,0,o,c)},s),this;"boolean"==typeof o&&(c=o,o=null),void 0===c&&(c=!0);var u,f=(r=e(r.replaceWildcard())).replace(/\.\*$/,""),h=l["#"+t.hashCode(f)];h&&(u=h(),p(f,u));for(var d=[],m=i.components,v=0,g=m.length;v<g;v++){var b=m[v];if(b&&!b.$removed&&!b.disabled&&b.$loaded&&b.path&&b.$compare(r)&&(b.state&&d.push(b),!o||o._id===b._id)){if(b.$default&&b.set(b.$default(),3),!c)return;findControl2(b),b.$dirty_disabled||(b.$dirty=!0),b.$valid_disabled||(b.$valid=!0,b.$validate=!1,b.validate&&(b.$valid=b.validate(b.get()),b.$interaction(102)))}}return c&&(a.clearPageData("valid","dirty"),t.state(d,3,3)),this},disabled:function(t,n){return t=e(t),com_dirty(t,n)||!com_valid(t,n)},errors:function(n,r,i){n instanceof Array&&(r=n,n=void 0),!0===r&&(r=i instanceof Array?i:null,i=!0);var a=[];return each(function(t){t.disabled||r&&t.$except(r)||!1!==t.$valid||t.$valid_disabled||a.push(t)},e(n)),i&&t.state(a,1,1),a},evaluate:function(t,e,n){var r="eval"+e,i=temp[r],a=null;return a=n?t:d(t),i?i.call(a,a,t):(-1===e.indexOf("return")&&(e="return "+e),i=new Function("value","path",e),temp[r]=i,i.call(a,a,t))},exec:y,exec2:function(t,e){var n=!0===t;return function(r,i,a,s){n?y(e,t,r,i,a,s):y(t,r,i,a,s)}},extend:function(n,r,i){if(n=e(n)){var a=d(n);null==a&&(a={}),m(n,t.extend(a,r),i)}return this},format:function(e,n,r){if(t.isFunction(e))return!0===n?u.unshift(e):u.push(e),M;var i=u;if(i&&i.length)for(var a=0,s=i.length;a<s;a++){var o=i[a].call(M,n,e,r);void 0!==o&&(e=o)}return e},get:d,inc:function e(n,r,i){if(n instanceof Array){for(var a=0;a<n.length;a++)e(n[a],r,i);return this}if(!n)return this;var s=d(n);return s?t.isNumber(s)||(s=parseFloat(s),isNaN(s)&&(s=0)):s=0,m(n,s+=r,i),this},invalid:function(t,n){return(t=e(t))&&(com_dirty(t,!1,n,!0),com_valid(t,!1,n)),W},make:function(t,e,n){switch(typeof t){case"function":e=t,t={};break;case"string":var r=t,i=!0;return null==(t=d(r))&&(i=!1,t={}),e.call(t,t,r,function(e,n){m(t,e,n)}),!i||void 0!==n&&!0!==n?C.ready?p(r,t):m(r,t,!0):n(r,!0),t}return e.call(t,t,""),t},modify:function e(n,r,i){return n&&"object"==typeof n?Object.keys(n).forEach(function(t){e(t,n[t],r)}):(t.isFunction(r)&&(r=r(d(n))),m(n,r,i),i?t.setTimeout(b,i+5,n):b(n)),this},modified:function(t){var n=[];return each(function(t){t.disabled||t.$dirty_disabled||!1===t.$dirty&&n.push(t.path)},e(t)),n},parser:k,push:g,reset:$,rewrite:function(t,n,r){return(t=e(t))&&(M.skipproxy=t,p(t,n),emitwatch(t,n,r)),this},set:p,set2:function(t,e,n){if(null!=e){var r="++"+e;if(c[r])return c[r](t,n,e);for(var i=s(e),a=[],o=0;o<i.length-1;o++){var l=i[o],u=i[o+1]&&REGISARR.test(i[o+1])?"[]":"{}",f="w"+("["===l.substring(0,1)?"":".")+l;a.push("if(typeof("+f+")!=='object'||"+f+"==null)"+f+"="+u)}var h=i[i.length-1];"["!==h.substring(0,1)&&(h="."+h);var d=new Function("w","a","b",a.join(";")+";w"+h+"=a;return a");return c[r]=d,d(t,n,e),t}},setx:m,skip:function(){for(var t=0;t<arguments.length;t++)for(var e=arguments[t].split(","),n=0,r=e.length;n<r;n++){var i=e[n].trim();f[i]?f[i]++:f[i]=1}},update:v,used:function(t){return each(function(t){!t.disabled&&t.used()},t),this},validate:validate}}}),t("skylark-totaljs-jcomponent/views/View",["../langx","../utils/domx","./binding","./componenter","./eventer","./compiler","./helper","./scoper","./storing"],function(t,e,n,r,i,a,s,o,c){function l(t){var e=t.$com;t.$jctimeout=0,e.dirty(!1,!0),e.getter(t.value,!0)}var u=e.Plugin.inherit({options:{elmAttrNames:{scope:"data-scope",bind:"data-bind",store:"data-store",com:{base:"data-com",url:"data-comp-url",removed:"data-com-removed",released:"data-com-released"},compile:"data-compile"}},_construct:function(t,e){this.eventer=i(this),this.scoper=o(this),this.storing=c(this),this.helper=s(this),this.componenter=r(this),this.binding=n(this),this.compiler=a(this)},add:function(t,e){if((e instanceof COM||e instanceof Scope||e instanceof Plugin)&&(e=e.element),t instanceof Array)for(var n=0;n<t.length;n++)ADD(t[n],e);else $(e||document.body).append('<div data-jc="{0}"></div>'.format(t)),setTimeout2("ADD",COMPILE,10)},compile:function(t,e){},refresh:function(){setTimeout2("$refresh",function(){r.components.sort(function(t,e){if(t.$removed||!t.path)return 1;if(e.$removed||!e.path)return-1;var n=t.path.length,r=e.path.length;return n>r?-1:n===r?LCOMPARER(t.path,e.path):1})},200)},start:function(){var t=$(this.elm);$(document).ready(function(){$ready&&(clearTimeout($ready),load()),t.on("input","input[data-jc-bind],textarea[data-jc-bind]",function(){var t=this.$com;if(t&&!t.$removed&&t.getter&&!1!==this.$jckeypress){if(this.$jcevent=2,void 0===this.$jckeypress){var e=attrcom(this,"keypress");if(e?this.$jckeypress="true"===e:null!=t.config.$realtime?this.$jckeypress=!0===t.config.$realtime:t.config.$binding?this.$jckeypress=1===t.config.$binding:this.$jckeypress=MD.keypress,!1===this.$jckeypress)return}void 0===this.$jcdelay&&(this.$jcdelay=+(attrcom(this,"keypress-delay")||t.config.$delay||MD.delay)),void 0===this.$jconly&&(this.$jconly="true"===attrcom(this,"keypress-only")||!0===t.config.$keypress||2===t.config.$binding),this.$jctimeout&&clearTimeout(this.$jctimeout),this.$jctimeout=setTimeout(l,this.$jcdelay,this)}}),t.on("focus blur","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(t){var e=this.$com;if(e&&!e.$removed&&e.getter)if("focusin"===t.type)this.$jcevent=1;else if(1===this.$jcevent)e.dirty(!1,!0),e.getter(this.value,3);else if(this.$jcskip)this.$jcskip=!1;else{var n=e.$skip;n&&(e.$skip=!1),e.setter(e.get(),e.path,2),n&&(e.$skip=n)}}),t.on("change","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(){var t=this.$com;if(!this.$jconly&&t&&!t.$removed&&t.getter){if(!1===this.$jckeypress)return this.$jcskip=!0,void t.getter(this.value,!1);switch(this.tagName){case"SELECT":var e=this[this.selectedIndex];return this.$jcevent=2,t.dirty(!1,!0),void t.getter(e.value,!1);case"INPUT":if("checkbox"===this.type||"radio"===this.type)return this.$jcevent=2,t.dirty(!1,!0),void t.getter(this.checked,!1)}this.$jctimeout?(t.dirty(!1,!0),t.getter(this.value,!0),clearTimeout(this.$jctimeout),this.$jctimeout=0):(this.$jcskip=!0,t.setter&&t.setterX(t.get(),this.path,2))}}),setTimeout(compile,2),$domready=!0})},end:function(){}});return u}),t("skylark-totaljs-jcomponent/views",["./jc","./views/View"],function(t,e){return t.views={View:e}}),t("skylark-totaljs-jcomponent/defaults",["./jc"],function(t){return t.defaults={delay:555,delaywatcher:555,delaybinder:200,localstorage:!0,version:"",importcache:"session",root:"",keypress:!0,jsoncompress:!1,dateformat:null}}),t("skylark-totaljs-jcomponent/globals",["./jc","./defaults","./langx","./utils","./plugins","./components","./binding","./stores","./views"],function(t,e,n,r,i,a,s,o,c){$.fn.scope=function(){if(!this.length)return null;var t=this[0].$scopedata;if(t)return t;var e=this.closest("["+ATTRSCOPE+"]");return e.length&&(t=e[0].$scopedata)?t:null};var l=Window,u=new c.View(document.body,{store:new o.Store({data:l})}),f=u.storing,h=(u.helper,u.composer),d=(u.compiler,u.eventer);$.components=u.components,n.mixin(l,{isPRIVATEMODE:!1,isMOBILE:/Mobi/.test(navigator.userAgent),isROBOT:!navigator.userAgent||/search|agent|bot|crawler|spider/i.test(navigator.userAgent),isSTANDALONE:navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,isTOUCH:!!("ontouchstart"in window||navigator.maxTouchPoints)}),n.each({MONTHS:"months",DAYS:"days"},function(e,n){Object.defineProperty(l,e,{get:()=>t[n],set(e){t[n]=e}})});r.blocks;var p,m=r.cache,v=r.cookies,g=r.domx;return env=r.env,http=r.http,localStorage=r.localStorage,logs=r.logs,n.mixin(l,{AJAXCONFIG:http.configure,AJAX:http.ajax,AJAXCACHE:http.ajaxCache,AJAXCACHEREVIEW:http.ajaxCacheReview,clearTimeout2:n.clearTimeout2,CACHE:m.put,CLEARCACHE:m.clear,CLEARSCHEDULE:schedulers.clear,CLONE:n.clone,COOKIES:v,COPY:n.copy,CSS:g.style,DEF:{},EMPTYARRAY:n.empties.array,EMPTYOBJECT:n.empties.object,GUID:n.guid,HASH:n.hashCode,IMPORTCACHE:http.importCache,IMPORT:http.import,MAKEPARAMS:http.makeParams,MEDIAQUERY:g.watchMedia,NOOP:n.empties.fn,PING:http.ping,READPARAMS:http.parseQuery,REMOVECACHE:m.remove,PARSE:n.parse,setTimeout2:n.setTimeout2,SCHEDULE:schedulers.schedule,SCROLLBARWIDTH:g.scrollbarWidth,SINGLETON:n.singleton,STRINGIFY:n.stringify,STYLE:g.style,UPLOAD:http.upload,UPTODATE:http.uptodate,WAIT:n.wait,ERRORS:paths.errors,WARN:logs.warn,WIDTH:g.mediaWidth,FN:n.arrowFn}),n.mixin(l,{PLUGIN:i.register,PLUGINS:i.registry}),l.ADD=u.add,l.BLOCKED=blocking.blocked,l.CACHEPATH=function(t,e,n){return f.cache(t,e,n)},l.CHANGE=function(t,e){return f.change(t.value)},l.CHANGED=function(t){return f.change(t)},l.COMPILE=function(t){return clearTimeout(p),compiler.compile(t)},l.COMPONENT=components.register,l.COMPONENT_CONFIG=components.configer,l.COMPONENT_EXTEND=components.extend,l.CREATE=function(t){return f.create(t)},l.DEFAULT=function(t,e,n){var r=t.split(/_{2,}/);if(r.length>1){var i=r[1],a=(t=r[0]).indexOf(".*");-1!==a&&(t=t.substring(0,a)),SET(t,new Function("return "+i)(),e>10?e:3,e>10?3:null)}return f.default(r[0],e,null,n)},l.EMIT=function(t){return d.emit.apply(f,arguments)},l.EXTEND=function(t,e,n,r){var i=typeof n;return"boolean"===i?f.extend(t,e,n):!n||n<10||"number"!==i?f.extend(t,e,n):(setTimeout(function(){f.extend(t,e,r)},n),l)},l.EXTEND2=function(t,e,n){return l.EXTEND(t,e,n),CHANGE(t),l},l.EVALUATE=function(t,e,n){return f.evaluate(t,e,n)},l.FIND=function(t,e,n,r){return h.find(t,e,n,r)},l.FREE=function(t){return n.setTimeout2("$clean",cleaner,t||10),l},l.GET=function(t,e){return t=pathmaker(t),!0===e&&(e=null,RESET(t,!0)),f.get(t,e)},l.GETR=function(t){return GET(t,!0)},l.INC=function(t,e,n,r){null==e&&(e=1);var i=typeof n;return"boolean"===i?f.inc(t,e,n):!n||n<10||"number"!==i?f.inc(t,e,n):(setTimeout(function(){f.inc(t,e,r)},n),l)},l.INC2=function(t,e,n){return INC(t,e,n),CHANGE(t),l},l.LASTMODIFICATION=l.USAGE=function(t,e,n,r){return h.usage(t,e,n,r)},l.MAKE=function(t,e,n){return f.make(t,e,n)},l.MODIFIED=function(t){return f.modified(t)},l.NOTMODIFIED=function(t,e,n){},l.MODIFY=function(t,e,n){return f.modify(t,e,n),l},l.NOTIFY=function(){return h.notify.apply(h,arguments),l},l.OFF=function(t,e,n){return d.off(t,e,n)},l.ON=function(t,e,n,r,i){return d.on(t,e,n,r,i)},l.OPT=function(t,e){return n.isFunction(t)&&(e=t,t={}),e.call(t,function(e,n){return f.set2(t,e,n)}),t},l.PUSH=function(t,e,n,r){var i=typeof n;return"boolean"===i?f.push(t,e,n):!n||n<10||"number"!==i?f.push(t,e,n):(setTimeout(function(){f.push(t,e,r)},n),l)},l.PUSH2=function(t,e,n){return PUSH(t,e,n),CHANGE(t),l},l.RECOMPILE=function(){p&&clearTimeout(p),p=setTimeout(function(){COMPILE(),p=null},700)},l.REMOVECACHE=m.remove,l.RESET=function(t,e,n){return f.reset(t,e,n)},l.REWRITE=function(t,e,n){return f.rewrite(t,e,n)},l.SET=function(t,e,n,r){var i=typeof n;return"boolean"===i?f.setx(t,e,n):!n||n<10||"number"!==i?f.setx(t,e,n):(setTimeout(function(){f.setx(t,e,r)},n),l)},l.SET2=function(t,e,n){return SET(t,e,n),CHANGE(t),l},l.SETR=function(t,e,n){return f.setx(t,e,n),RESET(t),l},l.SKIP=function(){return f.skip.apply(u,arguments)},l.TOGGLE=function(t,e,n){var r=GET(t);return SET(t,!r,e,n),l},l.TOGGLE2=function(t,e){return TOGGLE(t,e),CHANGE(t),l},l.UNWATCH=function(t,e){return f.unwatch(t,e)},l.UPDATE=function(t,e,n){var r=typeof e;return"boolean"===r?f.update(t,e):!e||e<10||"number"!==r?f.update(t,n,e):void setTimeout(function(){f.update(t,n)},e)},l.UPDATE2=function(t,e){return UPDATE(t,e),CHANGE(t),l},l.VBIND=s.vbind,l.VBINDARRAY=s.vbindArray,l.VALIDATE=function(t,e){return h.validate(t,e)},l.VERSION=components.version,l.WATCH=function(t,e,n){return d.watch(t,e,n)},l}),t("skylark-totaljs-jcomponent/main",["./jc","./binding","./components","./langx","./plugins","./stores","./utils","./views","./globals"],function(t){return t}),t("skylark-totaljs-jcomponent",["skylark-totaljs-jcomponent/main"],function(t){return t})}(n),!i){var o=r("skylark-langx/skylark");a?module.exports=o:e.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-totaljs-jcomponent.js.map
