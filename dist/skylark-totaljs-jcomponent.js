/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-totaljs-jcomponent/
 * @license MIT
 */
!function(t,e){var n=e.define,r=e.require,i="function"==typeof n&&n.amd,a=!i&&"undefined"!=typeof exports;if(!i&&!n){var s={};n=e.define=function(t,e,n){"function"==typeof n?(s[t]={factory:n,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var n=e.split("/"),r=t.split("/");n.pop();for(var i=0;i<r.length;i++)"."!=r[i]&&(".."==r[i]?n.pop():n.push(r[i]));return n.join("/")}(e,t)}),resolved:!1,exports:null},r(t)):s[t]={factory:null,resolved:!0,exports:n}},r=e.require=function(t){if(!s.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var n=s[t];if(!n.resolved){var i=[];n.deps.forEach(function(t){i.push(r(t))}),n.exports=n.factory.apply(e,i)||null,n.resolved=!0}return n.exports}}if(!n)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,e){t("skylark-totaljs-jcomponent/jc",["skylark-langx/skylark","skylark-langx/langx","skylark-utils-dom/query"],function(t,e,n){var r=t.totaljs={},i=r.jc={};return i.version=16.044,i.$version="",i.$language="",i.prototypes=function(t){var e={};return e.Component=PPC,e.Usage=USAGE.prototype,e.Plugin=Plugin.prototype,t.call(e,e),i},i}),t("skylark-totaljs-jcomponent/langx/regexp",[],function(){var t={int:/(-|\+)?[0-9]+/,float:/(-|\+)?[0-9.,]+/,date:/yyyy|yy|MMMM|MMM|MM|M|dddd|ddd|dd|d|HH|H|hh|h|mm|m|ss|s|a|ww|w/g,pluralize:/#{1,}/g,format:/\{\d+\}/g};return t}),t("skylark-totaljs-jcomponent/langx/now",[],function(){var t=null;return function(e){return void 0!==e&&(t="boolean"==typeof e?new Date:e),t}}),t("skylark-totaljs-jcomponent/langx/ArrayEx",["skylark-langx/langx","./regexp"],function(t,e){var n=Array.prototype;function r(t,e,n,r,i){i.pending--,t.wait(e,n,r,i)}n.wait=n.waitFor=function(e,n,i,a){var s=this,o=!1;a||(t.isFunction(n)||(i=n,n=null),(a={}).pending=0,a.index=0,a.thread=i,o=!0);var c=!0===i?s.shift():s[a.index++];if(void 0===c)return a.pending||(n&&n(),a.cancel=!0),s;if(a.pending++,e.call(s,c,function(){setTimeout(r,1,s,e,n,i,a)},a.index),!o||1===a.thread)return s;for(var l=1;l<a.thread;l++)s.wait(e,n,1,a);return s},n.limit=function(t,e,n,r){void 0===r&&(r=0);for(var i=[],a=this,s=r+t,o=r;o<s;o++){var c=a[o];if(void 0===c)return i.length?(e(i,function(){n&&n()},r,r+t),a):(n&&n(),a);i.push(c)}return i.length?(e(i,function(){s<a.length?a.limit(t,e,n,s):n&&n()},r,r+t),a):(n&&n(),a)},n.async=function(e,n){if(t.isFunction(e)){var r=n;n=e,e=r}e||(e={});var i=this,a=0,s=function(){var t=i[a++];if(!t)return n&&n.call(e);t.call(e,s,a-1)};return s(),this},n.take=function(t){for(var e=[],n=this.length,r=0;r<n;r++)if(e.push(this[r]),e.length>=t)return e;return e},n.skip=function(t){for(var e=[],n=this.length,r=0;r<n;r++)r>=t&&e.push(this[r]);return e},n.takeskip=function(t,e){for(var n=[],r=this.length,i=0;i<r;i++)if(!(i<e)){if(n.length>=t)return n;n.push(this[i])}return n},n.trim=function(e){for(var n=[],r=0,i=this.length;r<i;r++)t.isString(this[r])&&(this[r]=this[r].trim()),(e||this[r])&&n.push(this[r]);return n},n.findIndex=function(e,n){for(var r=t.isFunction(e),i=void 0!==n,a=0,s=this.length;a<s;a++)if(r){if(e.call(this,this[a],a))return a}else if(i){if(this[a][e]===n)return a}else if(this[a]===e)return a;return-1},n.findAll=function(e,n){for(var r=t.isFunction(e),i=void 0!==n,a=[],s=0,o=this.length;s<o;s++)r?e.call(this,this[s],s)&&a.push(this[s]):i?this[s][e]===n&&a.push(this[s]):this[s]===e&&a.push(this[s]);return a},n.findItem=function(t,e){var n=this.findIndex(t,e);if(-1!==n)return this[n]},n.remove=function(e,n){for(var r=[],i=t.isFunction(e),a=void 0!==n,s=0,o=this.length;s<o;s++)i?!e.call(this,this[s],s)&&r.push(this[s]):a?this[s][e]!==n&&r.push(this[s]):this[s]!==e&&r.push(this[s]);return r},n.last=function(t){var e=this[this.length-1];return void 0===e?t:e},n.quicksort=function(t,e,n){var r=this.length;if(!r||1===r)return this;switch("boolean"==typeof t&&(e=t,t=void 0),null==e||"asc"===e?e=!0:"desc"===e&&(e=!1),n){case"date":n=4;break;case"string":n=1;break;case"number":n=2;break;case"bool":case"boolean":n=3;break;default:n=0}if(!n)for(var i=0;!n;){var a=this[i++];if(void 0===a)return this;switch(t&&(a=a[t]),typeof a){case"string":n=a.isJSONDate()?4:1;break;case"number":n=2;break;case"boolean":n=3;break;default:a instanceof Date&&(n=4)}}return this.sort(function(r,i){var a=t?r[t]:r,s=t?i[t]:i;if(null==a)return e?-1:1;if(null==s)return e?1:-1;if(1===n)return a&&s?e?LCOMPARER(a,s):LCOMPARER(s,a):0;if(2===n)return a>s?e?1:-1:a<s?e?-1:1:0;if(3===n)return!0===a&&!1===s?e?1:-1:!1===a&&!0===s?e?-1:1:0;if(4===n){if(!a||!s)return 0;a.getTime||(a=new Date(a)),s.getTime||(s=new Date(s));var o=a.getTime(),c=s.getTime();return o>c?e?1:-1:o<c?e?-1:1:0}return 0}),this},n.attr=function(t,e){if(2===arguments.length){if(null==e)return this}else void 0===e&&(e=t.toString());return this.push(t+'="'+e.toString().env().toString().replace(/[<>&"]/g,function(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;"}return t})+'"'),this},n.scalar=function(e,n,r){for(var i=r,a=!1,s="avg"===e||"average"===e,o="distinct"===e,c=0,l=this.length;c<l;c++){var u=n?this[c][n]:this[c];if(t.isString(u)&&(u=u.parseFloat()),u instanceof Date&&(a=!0,u=u.getTime()),o)i||(i=[]),-1===i.indexOf(u)&&i.push(u);else if("median"!==e)if("sum"===e||s)i?i+=u:i=u;else switch("range"!==e?i||(i=u):i||((i=new Array(2))[0]=u,i[1]=u),e){case"range":i[0]=Math.min(i[0],u),i[1]=Math.max(i[1],u);break;case"min":i=Math.min(i,u);break;case"max":i=Math.max(i,u)}else i||(i=[]),i.push(u)}if(o)return i;if(s)return i/=this.length,a?new Date(i):i;if("median"===e){i||(i=[0]),i.sort(function(t,e){return t-e});var h=Math.floor(i.length/2);i=i.length%2?i[h]:(i[h-1]+i[h])/2}if(a){if(t.isNumber(i))return new Date(i);i[0]=new Date(i[0]),i[1]=new Date(i[1])}return i}}),t("skylark-totaljs-jcomponent/langx/DateEx",["./regexp"],function(t){window.$jcdatempam=function(t){return t>=12?t-12:t};var e=Date.prototype;e.toNumber=function(t){return+this.format(t||"yyyyMMdd")},e.parseDate=function(){return this},e.add=function(t,e){if(void 0===e){var n=t.split(" ");t=n[1],e=parseInt(n[0])}typeof e===TYPE_S&&(e=e.env());var r=new Date(this.getTime());switch(t.substring(0,3)){case"s":case"ss":case"sec":return r.setSeconds(r.getSeconds()+e),r;case"m":case"mm":case"min":return r.setMinutes(r.getMinutes()+e),r;case"h":case"hh":case"hou":return r.setHours(r.getHours()+e),r;case"d":case"dd":case"day":return r.setDate(r.getDate()+e),r;case"w":case"ww":case"wee":return r.setDate(r.getDate()+7*e),r;case"M":case"MM":case"mon":return r.setMonth(r.getMonth()+e),r;case"y":case"yy":case"yyy":case"yea":return r.setFullYear(r.getFullYear()+e),r}return r},e.toUTC=function(t){var e=this.getTime()+6e4*this.getTimezoneOffset();return t?e:new Date(e)},e.format=function(e,n){var r=n?this.toUTC():this;if(null==e&&(e=MD.dateformat),!e)return r.getFullYear()+"-"+(r.getMonth()+1).toString().padLeft(2,"0")+"-"+r.getDate().toString().padLeft(2,"0")+"T"+r.getHours().toString().padLeft(2,"0")+":"+r.getMinutes().toString().padLeft(2,"0")+":"+r.getSeconds().toString().padLeft(2,"0")+"."+r.getMilliseconds().toString().padLeft(3,"0")+"Z";var i="dt_"+e;if(statics[i])return statics[i](r);var a=!1;(e=e.env())&&"!"===e.substring(0,1)&&(a=!0,e=e.substring(1));var s="'+",o="+'",c=[],l=!1,u=!1,h=!1;return e=e.replace(t.date,function(t){switch(t){case"yyyy":return"'+d.getFullYear()+'";case"yy":return"'+d.getFullYear().toString().substring(2)+'";case"MMM":return l=!0,"'+mm.substring(0, 3)+'";case"MMMM":return l=!0,"'+mm+'";case"MM":return"'+(d.getMonth() + 1).padLeft(2, '0')+'";case"M":return"'+(d.getMonth() + 1)+'";case"ddd":return u=!0,"'+dd.substring(0, 2).toUpperCase()+'";case"dddd":return u=!0,"'+dd+'";case"dd":return"'+d.getDate().padLeft(2, '0')+'";case"d":return"'+d.getDate()+'";case"HH":case"hh":return s+(a?"window.$jcdatempam(d.getHours()).padLeft(2, '0')":"d.getHours().padLeft(2, '0')")+o;case"H":case"h":return s+(a?"window.$jcdatempam(d.getHours())":"d.getHours()")+o;case"mm":return"'+d.getMinutes().padLeft(2, '0')+'";case"m":return"'+d.getMinutes()+'";case"ss":return"'+d.getSeconds().padLeft(2, '0')+'";case"s":return"'+d.getSeconds()+'";case"w":case"ww":return h=!0,s+("ww"===t?"ww.padLeft(2, '0')":"ww")+o;case"a":return"'+(d.getHours() >= 12 ? 'PM':'AM')+'"}}),l&&c.push("var mm = M.months[d.getMonth()];"),u&&c.push("var dd = M.days[d.getDay()];"),h&&c.push("var ww = new Date(+d);ww.setHours(0, 0, 0);ww.setDate(ww.getDate() + 4 - (ww.getDay() || 7));ww = Math.ceil((((ww - new Date(ww.getFullYear(), 0, 1)) / 8.64e7) + 1) / 7);"),statics[i]=new Function("d",c.join("\n")+"return '"+e+"';"),statics[i](r)}}),t("skylark-totaljs-jcomponent/langx/NumberEx",["./regexp"],function(t){var e=Number.prototype;e.pluralize=function(e,n,r,i){e instanceof Array&&(n=e[1],r=e[2],i=e[3],e=e[0]);var a=this,s="";return-1===(s=0==a?e||"":1==a?n||"":a>1&&a<5?r||"":i).indexOf("#")?s:s.replace(t.pluralize,function(t){return"##"===t?a.format():a.toString()})},e.format=function(t,e,n){var r=this.toString(),i="",a="",s="-"===r.substring(0,1)?"-":"";s&&(r=r.substring(1));var o,c=r.indexOf(".");"string"==typeof t&&("["===t.substring(0,1)?(o=ENV(t.substring(1,t.length-1)))&&(t=o.decimals,o.separator&&(e=o.separator),o.decimalseparator&&(n=o.decimalseparator)):(o=e,e=t,t=o));void 0===e&&(e=MD.thousandsseparator),-1!==c&&(i=r.substring(c+1),r=r.substring(0,c)),c=-1;for(var l=r.length-1;l>=0;l--)++c>0&&c%3==0&&(a=e+a),a=r[l]+a;return(t||i.length)&&(i=i.length>t?i.substring(0,t||0):i.padRight(t||0,"0")),i.length&&void 0===n&&(n=MD.decimalseparator),s+a+(i.length?n+i:"")},e.padLeft=function(t,e){return this.toString().padLeft(t,e||"0")},e.padRight=function(t,e){return this.toString().padRight(t,e||"0")},e.async=function(t,e){var n=this;return n>=0?t(n,function(){setTimeout(function(){(n-1).async(t,e)},1)}):e&&e(),n},e.add=e.inc=function(t,e){if(null==t)return this;if("number"==typeof t)return this+t;var n=t.charCodeAt(0),r=!1;(n<48||n>57)&&(r=!0,t=t.substring(1));var i,a=t.length;if("%"===t[a-1]){if(t=t.substring(0,a-1),r){var s=t.parseFloat();switch(n){case 42:i=this*(this/100*s);break;case 43:i=this+this/100*s;break;case 45:i=this-this/100*s;break;case 47:i=this/(this/100*s)}return void 0!==e?i.floor(e):i}return i=this/100*t.parseFloat(),void 0!==e?i.floor(e):i}switch(i=t.parseFloat(),n){case 42:i*=this;break;case 43:i=this+i;break;case 45:i=this-i;break;case 47:i=this/i;break;default:i=this}return void 0!==e?i.floor(e):i},e.floor=function(t){return Math.floor(this*Math.pow(10,t))/Math.pow(10,t)},e.parseDate=function(t){return new Date(this+(t||0))}}),t("skylark-totaljs-jcomponent/langx/StringEx",["./regexp","./now"],function(t,e){var n=/\.\*/,r=/\s/g,i=/[^a-zA-Zá-žÁ-Žа-яА-Я\d\s:]/g,a={225:"a",228:"a",269:"c",271:"d",233:"e",283:"e",357:"t",382:"z",250:"u",367:"u",252:"u",369:"u",237:"i",239:"i",244:"o",243:"o",246:"o",353:"s",318:"l",314:"l",253:"y",255:"y",263:"c",345:"r",341:"r",328:"n",337:"o"},s={url:/^(https?:\/\/(?:www\.|(?!www))[^\s.#!:?+=&@!$'~*,;/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?|www\.[^\s#!:.?+=&@!$'~*,;/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?)/i,phone:/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,email:/^[a-zA-Z0-9-_.+]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i},o=String.prototype;o.trimAll=function(){return this.replace(r,"")},o.ROOT=function(t){var e=this,n=MD.root,r=MD.baseurl,i=/(https|http|wss|ws|file):\/\/|\/\/[a-z0-9]|[a-z]:/i;return n?e=typeof n===TYPE_FN?n(e):i.test(e)?e:n+e:!t&&r&&(e=typeof r===TYPE_FN?r(e):i.test(e)?e:r+e),e.replace(/[^:]\/{2,}/,function(t){return t.substring(0,1)+"/"})},o.replaceWildcard=function(){return this.replace(n,"")},o.parseConfig=o.$config=function(t,e){var n;switch(typeof t){case TYPE_FN:e=t,n={};break;case TYPE_S:n=t.parseConfig();break;case TYPE_O:n=null!=t?t:{};break;default:n={}}for(var r=this.env().replace(/\\;/g,"\0").split(";"),i=/^(-)?[0-9.]+$/,a=/(https|http|wss|ws):\/\//gi,s=0,o=r.length;s<o;s++){var c=r[s].replace(/\0/g,";").replace(/\\:/g,"\0").replace(a,function(t){return t.replace(/:/g,"\0")}),l=c.split(":"),u=l.length;if(2===u){var h=l[0].trim(),f=l[1].trim().replace(/\0/g,":").env();if("true"===f||"false"===f)f="true"===f;else if(i.test(f)){var d=+f;isNaN(d)||(f=d)}n[h]=f,e&&e(h,f)}}return n},o.render=function(t,e){return Tangular.render(this,t,e)},o.isJSONDate=function(){var t=this,e=t.length-1;return e>18&&e<30&&90===t.charCodeAt(e)&&84===t.charCodeAt(10)&&45===t.charCodeAt(4)&&58===t.charCodeAt(13)&&58===t.charCodeAt(16)},o.parseExpire=function(){var t=this.split(" "),e=parseInt(t[0]);if(isNaN(e))return 0;switch(t[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*e;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*e;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*e;case"days":case"day":case"DD":case"dd":case"d":return 864e5*e;case"months":case"month":case"MM":case"M":return 24192e5*e;case"weeks":case"week":case"W":case"w":return 6048e5*e;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*e;default:return 0}},o.removeDiacritics=function(){for(var t="",e=0,n=this.length;e<n;e++){var r=this[e],i=r.charCodeAt(0),s=!1,o=a[i];void 0===o&&(i=r.toLowerCase().charCodeAt(0),o=a[i],s=!0),void 0!==o?(r=o,t+=s?r.toUpperCase():r):t+=r}return t},o.toSearch=function(){for(var t=this.replace(i,"").trim().toLowerCase().removeDiacritics(),e=[],n="",r=0,a=t.length;r<a;r++){var s=t.substring(r,r+1);"y"===s&&(s="i"),s!==n&&(n=s,e.push(s))}return e.join("")},o.slug=function(t){t=t||60;for(var e=this.trim().toLowerCase().removeDiacritics(),n="",r=e.length,i=0;i<r;i++){var a=e.substring(i,i+1),s=e.charCodeAt(i);if(n.length>=t)break;s>31&&s<48?"-"!==n.substring(n.length-1,n.length)&&(n+="-"):s>47&&s<58?n+=a:s>94&&s<123&&(n+=a)}var o=n.length-1;return"-"===n[o]?n.substring(0,o):n},o.isEmail=function(){return!(this.length<=4)&&s.email.test(this)},o.isPhone=function(){return!(this.length<6)&&s.phone.test(this)},o.isURL=function(){return!(this.length<=7)&&s.url.test(this)},o.parseInt=function(e){var n=this.trim(),r=n.match(t.int);return r?(r=+r[0],isNaN(r)?e||0:r):e||0},o.parseFloat=function(e){var n=this.trim(),r=n.match(t.float);return r?(-1!==(r=r[0]).indexOf(",")&&(r=r.replace(",",".")),r=+r,isNaN(r)?e||0:r):e||0},o.padLeft=function(t,e){var n=this.toString();return Array(Math.max(0,t-n.length+1)).join(e||" ")+n},o.padRight=function(t,e){var n=this.toString();return n+Array(Math.max(0,t-n.length+1)).join(e||" ")},o.format=function(){var e=arguments;return this.replace(t.format,function(t){var n=e[+t.substring(1,t.length-1)];return null==n?"":n instanceof Array?n.join(""):n})},o.parseDate=function(){var t=this.trim();if(!t)return null;var n=t.charCodeAt(t.length-1);if(41===n)return new Date(t);if(90===n)return new Date(Date.parse(t));var r=-1===t.indexOf(" ")?t.split("T"):t.split(" "),i=r[0].indexOf(":"),a=r[0].length;if(-1!==i){var s=r[1];r[1]=r[0],r[0]=s}void 0===r[0]&&(r[0]="");for(var o=void 0===r[1]||0===r[1].length,c=0;c<a;c++){var l=r[0].charCodeAt(c);if(!(l>47&&l<58||45===l||46===l)&&o)return new Date(t)}void 0===r[1]&&(r[1]="00:00:00");var u=-1===r[0].indexOf("-"),h=(r[0]||"").split(u?".":"-"),f=(r[1]||"").split(":"),d=[];if(h.length<4&&f.length<2)return new Date(t);-1!==(i=(f[2]||"").indexOf("."))?(f[3]=f[2].substring(i+1),f[2]=f[2].substring(0,i)):f[3]="0",d.push(+h[u?2:0]),d.push(+h[1]),d.push(+h[u?0:2]),d.push(+f[0]),d.push(+f[1]),d.push(+f[2]),d.push(+f[3]);for(var p=e(!0),c=0,a=d.length;c<a;c++){isNaN(d[c])&&(d[c]=0);var m=d[c];if(0===m)switch(c){case 0:m<=0&&(d[c]=p.getFullYear());break;case 1:m<=0&&(d[c]=p.getMonth()+1);break;case 2:m<=0&&(d[c]=p.getDate())}}return new Date(d[0],d[1]-1,d[2],d[3],d[4],d[5])}}),t("skylark-totaljs-jcomponent/langx",["skylark-langx/langx","./jc","./langx/regexp","./langx/now","./langx/ArrayEx","./langx/DateEx","./langx/NumberEx","./langx/StringEx"],function(t,e,n,r){var i={},a={};function s(t,e){var n=typeof t;switch(n){case TYPE_N:case"boolean":return t;case TYPE_S:return e?t:s(get(t),!0)}return null==t?t:t instanceof Date?new Date(t.getTime()):PARSE(JSON.stringify(t))}window.Intl&&window.Intl.Collator().compare;var o={array:[],object:{},fn:function(){}},c={};return Object.freeze&&(Object.freeze(o.array),Object.freeze(o.object)),e.langx={Evented:t.Evented,hoster:hoster,isFunction:t.isFunction,isNumber:t.isNumber,isObject:t.isObject,isString:t.isString,klass:t.klass,mixin:t.mixin,topic:t.topic,async:function t(e,n,r){var i=e.shift();if(null==i)return r&&r();n(i,function(){t(e,n,r)})},clearTimeout2:function(t){var e=":"+t;if(i[e])return clearTimeout(i[e]),i[e]=void 0,i[e+":limit"]&&(i[e+":limit"]=void 0),!0;return!1},clone:s,copy:function(t,e){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],a=t[i],o=typeof a;e[i]=o===TYPE_O&&a?s(a):a}return e},empties:o,Evented:t.Evented,guid:function(t){t||(t=10);for(var e=1+(t/10>>0),n=[],r=0;r<e;r++)n.push(Math.random().toString(36).substring(2));return n.join("").substring(0,t)},hashCode:function(t){if(!t)return 0;var e=typeof t;if(e===TYPE_N)return t;if("boolean"===e)return t?1:0;if(t instanceof Date)return t.getTime();e===TYPE_O&&(t=STRINGIFY(t));var n,r,i=0;if(!t.length)return i;var a=t.length;for(n=0;n<a;n++)r=t.charCodeAt(n),i=(i<<5)-i+r,i|=0;return i},now:r,parse:function t(e,n){var r=e.substring(0,1);if("#"===r||"."===r)return t($(e).html(),n);void 0===n&&(n=MD.jsondate);try{return JSON.parse(e,function(t,e){return typeof e===TYPE_S&&n&&e.isJSONDate()?new Date(e):e})}catch(t){return null}},regexp:n,setTimeout2:function(t,e,n,r,a){var s=":"+t;if(r>0){var o=s+":limit";if(i[o]>=r)return;return i[o]=(i[o]||0)+1,i[s]&&clearTimeout(i[s]),i[s]=setTimeout(function(t){i[o]=void 0,e&&e(t)},n,a)}return i[s]&&clearTimeout(i[s]),i[s]=setTimeout(e,n,a)},singleton:function(t,e){return c[t]||(c[t]=new Function("return "+(e||"{}"))())},state:function(t,e,n){t&&t.length&&setTimeout(function(){for(var r=0,i=t.length;r<i;r++)t[r].stateX(e,n)},2,t)},stringify:function(t,e,n){void 0===e&&(e=MD.jsoncompress);var r=typeof n;return JSON.stringify(t,function(t,i){if(!t)return i;if(n)if(n instanceof Array){if(-1===n.indexOf(t))return}else if(r===TYPE_FN){if(!n(t,i))return}else if(!1===n[t])return;if(!0===e){var a=typeof i;if(a===TYPE_S)return(i=i.trim())||void 0;if(!1===i||null==i)return}return i})},wait:function(t,e,n,r){var i=(1e4*Math.random()>>0).toString(16),s=r>0?i+"_timeout":0;if(typeof e===TYPE_N){var o=n;n=e,e=o}var c=typeof t===TYPE_S,l=!1;if(c){var u=get(t);u&&(l=!0)}else t()&&(l=!0);if(l)return void e(null,function(i){setTimeout(function(){WAIT(t,e,n,r)},i||1)});s&&(a[s]=setTimeout(function(){clearInterval(a[i]),delete a[s],delete a[i],e(new Error("Timeout."))},r));a[i]=setInterval(function(){if(c){var r=get(t);if(null==r)return}else if(!t())return;clearInterval(a[i]),delete a[i],s&&(clearTimeout(a[s]),delete a[s]),e&&e(null,function(r){setTimeout(function(){WAIT(t,e,n)},r||1)})},n||500)}}}),t("skylark-totaljs-jcomponent/plugins/_registry",[],function(){return{}}),t("skylark-totaljs-jcomponent/utils/localStorage",["../langx"],function(t){var e="jc.";return{clear:function(){for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);0==r.indexOf(e)&&t.push(r)}for(var n=0;n<t.length;n++)localStorage.removeItem(t[n])},get:function(n){var r=localStorage.getItem(e+n);r&&t.isString(r)&&(r=t.parse(r));return r},remove:function(t){localStorage.removeItem(e+t)},set:function(t,n){return localStorage.setItem(e+t,JSON.stringify(n)),this}}}),t("skylark-totaljs-jcomponent/utils/cache",["../langx","./localStorage"],function(t,e){var n={},r={},i={};function a(){e.setItem("cache",i)}function s(t,e,n){return void 0!==e?s.set(t,e,n):s.get(t)}function a(){e.set("cache",i)}return s.get=function(t,e){var n,a=!e||"session"==e,s=!e||"session"!=e;if(a&&(n=r[t]),void 0===n&&s){var o=i[t];o&&o.expire>now&&(n=o.value)}return n},s.set=function(e,n,s){if(!s||"session"===s)return r[e]=n,this;t.isString(s)&&(s=s.parseExpire());var o=Date.now();return i[e]={expire:o+s,value:n},a(),this},s.remove=function(t,e){if(e)for(var n in i)-1!==n.indexOf(t)&&delete i[t];else delete i[t];return a(),this},s.clear=function(){if(!M.isPRIVATEMODE){var t=e.removeItem,n=$localstorage;t(n),t(n+".cache"),t(n+".blocked")}return this},s.getPageData=function(t){return n[t]},s.setPageData=function(t,e){return n[t]=e,this},s.clearPageData=function(){if(arguments.length)for(var e=t.keys(n),r=0,i=e.length;r<i;r++){for(var a=e[r],s=!1,o=arguments,c=0;c<o.length;c++)if(a.substring(0,o[c].length)===o[c]){s=!0;break}s&&delete n[a]}else n={}},s.getSessionData=function(t){return r[t]},s.setSessionData=function(t,e){return r[t]=e,this},s.clearSessionData=function(){if(arguments.length)for(var e=t.keys(n),i=0,a=e.length;i<a;i++){for(var s=e[i],o=!1,c=arguments,l=0;l<c.length;l++)if(s.substring(0,c[l].length)===c[l]){o=!0;break}o&&delete r[s]}else r={}},s.getStorageData=function(t){return r[t]},s.setStorageData=function(t,e){return r[t]=e,this},s.clearStorageData=function(){if(arguments.length)for(var e=t.keys(n),i=0,s=e.length;i<s;i++){for(var o=e[i],c=!1,l=arguments,u=0;u<l.length;u++)if(o.substring(0,l[u].length)===l[u]){c=!0;break}c&&delete r[o]}else r={};a()},s.load=function(){var n;if(clearTimeout($ready),MD.localstorage)try{(n=e.getItem(M.$localstorage+".cache"))&&t.isString(n)&&(i=t.parse(n))}catch(t){}if(i){var r=i.$jcpath;r&&Object.keys(r.value).forEach(function(t){immSetx(t,r.value[t],!0)})}M.loaded=!0},s}),t("skylark-totaljs-jcomponent/plugins/schedulers",["../jc","../langx"],function(t,e){var n=[],r=0;return r=0,setInterval(function(){if(n.length){r++;for(var t=e.now(!0),i=0,a=n.length;i<a;i++){var s=n[i];if("m"===s.type){if(r%30!=0)continue}else if("h"===s.type&&r%900!=0)continue;for(var o=t.add(s.expire),c=FIND(s.selector,!0),l=0;l<c.length;l++){var u=c[l];u&&u.usage.compare(s.name,o)&&s.callback(u)}}}},3500),t.schedulers={clear:function(t){return n=n.remove("id",t),this},clearAll:function(t){return n.remove("owner",t),this},schedule:function(t,e,r,i){"-"!==r.substring(0,1)&&(r="-"+r);var a=r.split(" ")[1].toLowerCase().substring(0,1),s=GUID(10);return n.push({id:s,name:e,expire:r,selector:t,callback:i,type:"y"===a||"d"===a?"h":a,owner:current_owner}),s}}}),t("skylark-totaljs-jcomponent/plugins/Plugin",["skylark-utils-dom/query","../jc","../utils/cache","./_registry","./schedulers"],function(t,e,n,r,i){function a(t,e){/\W/.test(t)&&warn("Plugin name must contain A-Z chars only."),r[t]&&r[t].$remove(!0);var n=this;n.id="plug"+t,n.name=t,r[t]=n,e.call(n,n)}return a.prototype.$remove=function(){return!this.element||(i.clearAll(this.id),this.element=null,delete r[this.name],!0)},a}),t("skylark-totaljs-jcomponent/plugins",["skylark-utils-dom/query","./jc","./plugins/_registry","./plugins/Plugin"],function(t,e,n,r){return e.plugins={Plugin:r,plugin:function(t,e){return e?new r(t,e):n[t]},find:function(t){return n[t]}}}),t("skylark-totaljs-jcomponent/utils/query",["skylark-utils-dom/query"],function(t){return t}),t("skylark-totaljs-jcomponent/binding/Binder",["../utils/query","../jc","../langx"],function(t,e,n){var r={value:null};function i(){}var a=i.prototype;return a.exec=function(t,e,i,a,s){var o=this,c=o.el;if(null!=i){if(null==o.child)return;if(null==(o=o.child[i]))return}if((!o.notnull||null!=t)&&(o.selector&&(o.cache?c=o.cache:(c=c.find(o.selector)).length&&(o.cache=c)),c.length)){if(!a&&o.delay)return o.$delay&&clearTimeout(o.$delay),void(o.$delay=setTimeout(function(t,e,n,r,i){t.$delay=null,t.exec(e,n,r,!0,i)},o.delay,o,t,e,i,s));if(o.init){if(o.strict&&o.path!==e)return;if(o.track&&o.path!==e){for(var s=!1,l=0;l<o.track.length;l++)if(o.track[l]===e){s=!0;break}if(!s)return}}else o.init=1;o.def&&null==t&&(t=o.def),o.format&&(t=o.format(t,e));var u=null;if(s=!1!==s,!o.show||null==t&&o.show.$nn||(u=o.show.call(o.el,t,e,o.el),c.tclass("hidden",!u),u||(s=!1)),!o.hide||null==t&&o.hide.$nn||(u=o.hide.call(c,t,e,c),c.tclass("hidden",u),u&&(s=!1)),!o.invisible||null==t&&o.invisible.$nn||(u=o.invisible.call(o.el,t,e,o.el),c.tclass("invisible",u),u||(s=!1)),!o.visible||null==t&&o.visible.$nn||(u=o.visible.call(o.el,t,e,o.el),c.tclass("invisible",!u),u||(s=!1)),o.classes)for(var l=0;l<o.classes.length;l++){var h=o.classes[l];h.fn.$nn&&null==t||c.tclass(h.name,!!h.fn.call(c,t,e,c))}if(s&&o.import&&(n.isFunction(o.import)?t&&(!o.$ic&&(o.$ic={}),!o.$ic[t]&&IMPORT("ONCE "+t,c),o.$ic[t]=1):(IMPORT(o.import,c),delete o.import)),o.config&&(s||o.config.$nv)&&(null!=t||!o.config.$nn)&&(u=o.config.call(c,t,e,c)))for(var l=0;l<c.length;l++){var f=c[l].$com;f&&f.$ready&&f.reconfigure(u)}if(o.html&&(s||o.html.$nv)&&(null==t&&o.html.$nn?c.html(o.htmlbk||""):(u=o.html.call(c,t,e,c),c.html(null==u?o.htmlbk||"":u))),o.text&&(s||o.text.$nv)&&(null==t&&o.text.$nn?c.html(o.htmlbk||""):(u=o.text.call(c,t,e,c),c.text(null==u?o.htmlbk||"":u))),o.val&&(s||o.val.$nv)&&(null==t&&o.val.$nn?c.val(o.valbk||""):(u=o.val.call(c,t,e,c),c.val(null==u?o.valbk||"":u))),!o.template||!s&&!o.template.$nv||null==t&&o.template.$nn||(r.value=t,r.path=e,c.html(o.template(r))),o.disabled&&(s||o.disabled.$nv)&&(null==t&&o.disabled.$nn?c.prop("disabled",1==o.disabledbk):(u=o.disabled.call(c,t,e,c),c.prop("disabled",1==u))),o.enabled&&(s||o.enabled.$nv)&&(null==t&&o.enabled.$nn?c.prop("disabled",0==o.enabledbk):(u=o.enabled.call(c,t,e,c),c.prop("disabled",!u))),o.checked&&(s||o.checked.$nv)&&(null==t&&o.checked.$nn?c.prop("checked",1==o.checkedbk):(u=o.checked.call(c,t,e,c),c.prop("checked",1==u))),o.title&&(s||o.title.$nv)&&(null==t&&o.title.$nn?c.attr("title",o.titlebk||""):(u=o.title.call(c,t,e,c),c.attr("title",null==u?o.titlebk||"":u))),o.href&&(s||o.href.$nv)&&(null==t&&o.href.$nn?c.attr(o.hrefbk||""):(u=o.href.call(c,t,e,c),c.attr("href",null==u?o.hrefbk||"":u))),o.src&&(s||o.src.$nv)&&(null==t&&o.src.$nn?c.attr("src",o.srcbk||""):(u=o.src.call(c,t,e,c),c.attr("src",null==u?o.srcbk||"":u))),!o.setter||!s&&!o.setter.$nv||null==t&&o.setter.$nn||o.setter.call(c,t,e,c),!o.change||null==t&&o.change.$nn||o.change.call(c,t,e,c),s&&null==i&&o.child)for(var l=0;l<o.child.length;l++)o.exec(t,e,l,void 0,s);o.tclass&&(c.tclass(o.tclass),delete o.tclass)}},i}),t("skylark-totaljs-jcomponent/stores/Store",["../langx"],function(t){t.Evented.inherit({_construct:function(t){this.data=t.data}})}),t("skylark-totaljs-jcomponent/stores",["skylark-langx/langx","./jc","./stores/Store"],function(t,e,n){var r=/\{{1,2}[a-z0-9_.-\s]+\}{1,2}/gi;return Array.prototype.findValue=function(e,n,r,i,a){t.isFunction(e)&&(i=r,r=n,n=void 0,a=!1);var s,o=i;if(a&&(s="fv_"+e+"="+n,caches.temp[s]))return caches.temp[s];var c=this.findIndex(e,n);if(-1!==c){var l=this[c];l=-1===r.indexOf(".")?l[r]:get(r,l),a&&(caches.temp[s]=o),o=null==l?i:l}return o},String.prototype.params=String.prototype.arg=function(t){return this.replace(r,function(e){var n=123===e.charCodeAt(1)?2:1,r=get(e.substring(n,e.length-n).trim(),t);return null==r?e:r})},e.stores={Store:n}}),t("skylark-totaljs-jcomponent/binding/pathmaker",["../plugins"],function(t){return function(e,n){if(!e)return e;var r="";if(n){var i=e.indexOf(" ");-1!==i&&(r=e.substring(i),e=e.substring(0,i))}if(37===e.charCodeAt(0))return"jctmp."+e.substring(1)+r;if(64===e.charCodeAt(0))return e;if(-1===(i=e.indexOf("/")))return e+r;var a=e.substring(0,i);return(t.find(a)?"PLUGINS."+a:a+"_plugin_not_found")+"."+e.substring(i+1)+r}}),t("skylark-totaljs-jcomponent/binding/bind",["../stores","./pathmaker"],function(t,e){return function n(r){if(r instanceof Array){for(var i=0;i<r.length;i++)n(r[i]);return this}r=e(r);if(!r)return this;var a=33===r.charCodeAt(0);a&&(r=r.substring(1));r=r.replaceWildcard();r&&t.set(r,t.get(r),!0)}}),t("skylark-totaljs-jcomponent/binding/func",["./pathmaker"],function(t){var e=/[a-z0-9_-]+\/[a-z0-9_]+\(|(^|(?=[^a-z0-9]))@[a-z0-9-_]+\./i,n=function(e){var n=e.length;return t(e.substring(0,n-1))+e.substring(n-1)};function r(t){return t.replace(/&#39;/g,"'")}function i(t){var e=t.indexOf("value");return-1!==e&&(/\W/.test(t)||"value"===t)}function a(t,s){var o=(t=t.replace(e,n)).indexOf("=>");if(-1===o)return i(t)?a("value=>"+r(t),!0):new Function("return "+(-1===t.indexOf("(")?"typeof({0})=='function'?{0}.apply(this,arguments):{0}".format(t):t));var c=t.substring(0,o).trim(),l=t.substring(o+2).trim(),u=!1;(c=c.replace(/\(|\)|\s/g,"").trim())&&(c=c.split(",")),123!==l.charCodeAt(0)||s||(u=!0,l=l.substring(1,l.length-1).trim());var h=(u?"":"return ")+l;switch(c.length){case 1:return new Function(c[0],h);case 2:return new Function(c[0],c[1],h);case 3:return new Function(c[0],c[1],c[2],h);case 4:return new Function(c[0],c[1],c[2],c[3],h);case 0:default:return new Function(h)}}return a.rebinddecode=r,a.isValue=i,a}),t("skylark-totaljs-jcomponent/binding/findFormat",["./func","./pathmaker"],function(t,e){return function(e){var n=e.indexOf("--\x3e"),r=3;-1===n&&(n=e.indexOf("->"),r=2);-1!==n&&-1!==e.indexOf("/")&&-1===e.indexOf("(")&&(e+="(value)");return-1===n?null:{path:e.substring(0,n).trim(),fn:t(e.substring(n+r).trim())}}}),t("skylark-totaljs-jcomponent/binding/parsebinder",["../langx","../utils/query","./func","./pathmaker","./findFormat","./Binder"],function(t,e,n,r,i,a){var s=/_{2,}/,o=[];function c(t){for(var e=arguments,n=1;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!1;return!0}return function l(u,h,f,d){var p=h.split(s);if(-1!==p.indexOf("|")){if(!d){for(var m=[],g=[],v=0;v<p.length;v++){var b=p[v];"|"!==b?b&&m.push(b):(m.length&&g.push(l(u,m.join("__"),f)),m=[])}m.length&&g.push(l(u,m.join("__"),f,!0))}return g}var y=null;var $=null;var k=new a;var w=[];var x={};var j=k.el=e(u);for(var v=0;v<p.length;v++){var E=p[v].trim();if(E)if(v){var T;if("template"!==E&&"!template"!==E&&"strict"!==E?(-1===($=E.indexOf(":"))&&($=E.length,E+=":value"),V=E.substring(0,$).trim(),T=E.substring($+1).trim()):V=E,"selector"===V){k[V]=T;continue}var O=V.indexOf(" "),A=-1===O?V:V.substring(0,O);if(!(H=c(A,"setter","strict","track","delay","import","class","template")&&"def"!==V.substring(0,3)?-1!==T.indexOf("=>")?n(n.rebinddecode(T)):n.isValue(T)?n("(value,path,el)=>"+n.rebinddecode(T),!0):"@"===T.substring(0,1)?k.com[T.substring(1)]:GET(T):1))return null;for(var C=V.split("+"),S=0;S<C.length;S++){V=C[S].trim();var M="",D=!1,N=!1,I=!1;-1!==($=V.indexOf(" "))&&(M=V.substring($+1),V=V.substring(0,$));var P=(V=V.replace(/^(~!|!~|!|~)/,function(t){return-1!==t.indexOf("!")&&(N=!0),-1!==t.indexOf("~")&&(D=!0),""})).substring(0,1);switch("class"===V&&(V="tclass"),"."===P&&(N&&(H.$nn=1),w.push({name:V.substring(1),fn:H}),V="class"),t.isFunction(H)&&(N&&(H.$nn=1),D&&(H.$nv=1)),V){case"track":k[V]=T.split(",").trim();continue;case"strict":k[V]=!0;continue;case"hidden":V="hide";break;case"exec":V="change";break;case"disable":V="disabled",I=!0;break;case"value":V="val",I=!0;break;case"default":V="def";break;case"delay":H=+T;break;case"href":case"src":case"val":case"title":case"html":case"text":case"disabled":case"enabled":case"checked":I=!0;break;case"setter":H=t.fn("(value,path,el)=>el.SETTER("+T+")"),N&&(H.$nn=1),D&&(H.$nv=1);break;case"import":var P=T.substring(0,1);H=/^(https|http):\/\//.test(T)||"/"===P||"."===P?"."===P?T.substring(1):T:n(n.rebinddecode(T));break;case"tclass":H=T;break;case"template":var R=j.find("script");R.length||(R=j),H=Tangular.compile(R.html()),N&&(H.$nn=1),D&&(H.$nv=1)}if("def"===V&&(H=new Function("return "+T)()),I&&N&&(k[V+"bk"]="src"==V||"href"==V||"title"==V?j.attr(V):"html"==V||"text"==V?j.html():"val"==V?j.val():"disabled"==V||"checked"==V?j.prop(V):""),M)if(x[M]||(x[M]={}),"class"!==V)x[M][V]=H;else{var F=w.pop();x[M].cls?x[M].cls.push(F):x[M].cls=[F]}else"class"!==V&&(k[V]=H)}}else{var P=(y=E).substring(0,1);if("!"===P&&(y=y.substring(1),k.notnull=!0),1===p.length){var H=GET(y);return H&&H.call(k.el,k.el),H||null}var m=i(y);if(m&&(y=m.path,k.format=m.fn),"."===P){k.virtual=!0,y=y.substring(1);continue}if("."===y.substring(y.length-1)&&(y=y.substring(0,y.length-1)),"@"===y.substring(0,1)){var _=!1;"@"===(y=y.substring(1)).substring(0,1)&&(_=!0,y=y.substring(1)),y||(y="@");for(var L=u.parentNode;L;){if(_){if(L.$ctrl){k.com=L.$ctrl,"@"!==y||k.com.$dataw||(k.com.$dataw=1,k.com.watch(function(t,e){k.com.data("@",e)}));break}}else if(L.$com){k.com=L.$com;break}L=L.parentNode}if(!k.com)return null}}}var C=Object.keys(x);for(var v=0;v<C.length;v++){var W=C[v];k.child||(k.child=[]);var Y=x[W];Y.selector=W,k.child.push(Y)}w.length&&(k.classes=w);if(k.virtual)y=r(y);else{var G=k.com&&"@"===y.substring(0,1);if(-1!==(y=G?y:r(y)).indexOf("?")){var U=initscopes(f);if(!U)return;y=y.replace(/\?/g,U.path)}var q=y.split("."),F="";if(k.com)!k.com.$data[y]&&(k.com.$data[y]={value:null,items:[]}),k.com.$data[y].items.push(k);else for(var v=0,X=q.length;v<X;v++){F+=(F?".":"")+q[v];var V=v===X-1?F:"!"+F;binders[V]?binders[V].push(k):binders[V]=[k]}}k.path=y;if(k.track)for(var v=0;v<k.track.length;v++)k.track[v]=y+"."+k.track[v];k.init=0;k.virtual||o.push(k);return k}}),t("skylark-totaljs-jcomponent/binding/VirtualBinder",["../langx","../utils/query","./parsebinder"],function(t,e,n){var r="[data-bind],[bind],[data-vbind]";function i(i){var a=this,s=a.element=e(i);a.binders=[];var o=function(){var r=e(this),i=r.attrd("bind")||r.attr("bind")||r.attrd("vbind");this.$jcbind=n(this,i,t.empties.array),this.$jcbind&&a.binders.push(this.$jcbind)};s.filter(r).each(o),s.find(r).each(o)}var a=i.prototype;return a.on=function(){var t=this;return t.element.on.apply(t.element,arguments),t},a.remove=function(){var t=this,e=t.element;return e.find("*").off(),e.off().remove(),t.element=null,t.binders=null,t=null},a.set=function(t,e){var n=this;null==e&&(e=t,t="");for(var r=0;r<n.binders.length;r++){var i=n.binders[r];if(!t||t===i.path){var a=t||!i.path?e:$get(i.path,e);n.binders[r].exec(a,i.path)}}return n},i}),t("skylark-totaljs-jcomponent/utils/domx",["../langx","skylark-utils-dom/query","../jc"],function(t,e,n){var r,i={xs:{max:768},sm:{min:768,max:992},md:{min:992,max:1200},lg:{min:1200}},a=/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,s=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>|<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,o=0,c=[],l={INPUT:!0,TEXTAREA:!0,SELECT:!0};function u(){var t=window;if(c&&c.length)for(var n=t.orientation?90===Math.abs(t.orientation)?"landscape":"portrait":"",r=e(t),a=r.width(),s=r.height(),o=i,l=0,u=c.length;l<u;l++){var h=c[l],f=a,d=s;if(h.element&&(f=h.element.width(),d=h.element.height()),h.orientation){if(!n&&"portrait"!==h.orientation)continue;if(n!==h.orientation)continue}if(!(h.minW&&h.minW>=f)&&(!(h.maxW&&h.maxW<=f)&&!(h.minH&&h.minH>=d)&&!(h.maxH&&h.maxH<=d)&&(h.oldW!==f||h.oldH===d||h.maxH||h.minH)&&(h.oldH!==d||h.oldW===f||h.maxW||h.minW)&&(h.oldW!==f||h.oldH!==d))){var p=null;f>=o.md.min&&f<=o.md.max?p="md":f>=o.sm.min&&f<=o.sm.max?p="sm":f>o.lg.min?p="lg":f<=o.xs.max&&(p="xs"),h.oldW=f,h.oldH=d,h.fn(f,d,p,h.id)}}}function h(){u()}return e.fn.aclass=function(t){return this.addClass(t)},e.fn.rclass=function(t){return null==t?this.removeClass():this.removeClass(t)},e.fn.rattr=function(t){return this.removeAttr(t)},e.fn.rattrd=function(t){return this.removeAttr("data-"+t)},e.fn.rclass2=function(t){for(var e=(this.attr("class")||"").split(" "),n=typeof t===TYPE_O,r=0,i=e.length;r<i;r++){var a=e[r];a&&(n?t.test(a)&&this.rclass(a):-1!==a.indexOf(t)&&this.rclass(a))}return this},e.fn.hclass=function(t){return this.hasClass(t)},e.fn.tclass=function(t,e){return this.toggleClass(t,e)},e.fn.attrd=function(t,e){return t="data-"+t,null==e?this.attr(t):this.attr(t,e)},e.fn.asvg=function(t){if(-1===t.indexOf("<")){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return this.append(n),e(n)}var r=document.createElementNS("http://www.w3.org/1999/xhtml","div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var i=document.createDocumentFragment();r.firstChild.firstChild;)i.appendChild(r.firstChild.firstChild);return i=e(i),this.append(i),i},e.fn.psvg=function(t){if(-1===t.indexOf("<")){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return this.prepend(n),e(n)}var r=document.createElementNS("http://www.w3.org/1999/xhtml","div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var i=document.createDocumentFragment();r.firstChild.firstChild;)i.appendChild(r.firstChild.firstChild);return i=e(i),this.prepend(i),i},e.fn.rescroll=function(t,e){return this.each(function(){var n=this;if(n.scrollIntoView(!0),t)for(var r=0;n&&0==n.scrollTop&&r++<25;)if((n=n.parentNode)&&n.scrollTop){var i=n.scrollTop+t;return 0!=e&&n.scrollTop+n.getBoundingClientRect().height>=n.scrollHeight?void(n.scrollTop=n.scrollHeight):void(n.scrollTop=i)}}),this},h(),e(window).on("resize",h),e(window).on("orientationchange",u),n.domx={devices:i,findInstance:function(t,e){if(!t.length)return null;for(var n=0;n<t.length;n++)if(t[n][e])return t[n][e];var r=t[0].parentElement;for(;null!==r;){if(r[e])return r[e];r=r.parentElement}return null},inDOM:function(t){if(!t)return;if("BODY"===t.nodeName)return!0;var e=t.parentNode;for(;e;){if("BODY"===e.nodeName)return!0;e=e.parentNode}},importscripts:function(n){var r,i=-1,a=n,s=[];for(;-1!==(i=n.indexOf("<script",i));){var o=n.indexOf("<\/script>",i+8),c=n.substring(i,o+9);if(i=o+9,o=c.indexOf(">"),-1===(r=c.substring(0,o)).indexOf("type=")||-1!==r.lastIndexOf("javascript")){var l=c.substring(o+1,c.length-9).trim();if(!l){a=a.replace(c,"").trim();var u="external"+t.hashCode(c);statics[u]||(s.push(c),statics[u]=!0)}}}s.length&&e("head").append(s.join("\n"));return a},importstyles:function(t,n){var r=[];t=t.replace(a,function(t){return t=t.replace("<style>",'<style type="text/css">'),r.push(t.substring(23,t.length-8).trim()),""});var i="css"+(n||"");n&&(statics[i]?e("#"+i).remove():statics[i]=!0);return r.length&&e("<style"+(n?' id="'+i+'"':"")+">{0}</style>".format(r.join("\n"))).appendTo("head"),t},inputable:function(t){var e=t.tagName||t;return l[e]},keyPress:function(e,n,r){n||(n=300);var i=e.toString(),a=i.length-20;a<0&&(a=0);var s=r||t.hashCode(i.substring(0,20)+"X"+i.substring(a))+"_keypress";t.setTimeout2(s,e,n)},mediaquery:u,mediaWidth:function(t){t||(t=e(Window));var n=t.width(),r=i;return n>=r.md.min&&n<=r.md.max?"md":n>=r.sm.min&&n<=r.sm.max?"sm":n>r.lg.min?"lg":n<=r.xs.max?"xs":""},removescripts:function(t){return t.replace(s,function(t){var e=t.indexOf(">"),n=t.substring(0,e+1);return"<style"===n.substring(0,6)||"<script"===n.substring(0,7)&&-1===n.indexOf('type="')||-1!==n.indexOf('/javascript"')?"":t})},scrollbarWidth:function(){var t="jcscrollbarwidth";if(void 0!==r)return r;var n=document.body;e(n).append('<div id="{0}" style="width{1}height{1}overflow:scroll;position:absolute;top{2}left{2}"></div>'.format(t,":100px;",":9999px;"));var i=document.getElementById(t);return r=i.offsetWidth-i.clientWidth,n.removeChild(i),r},style:function(t,n){n&&e("#css"+n).remove();e('<style type="text/css"'+(n?' id="css'+n+'"':"")+">"+(t instanceof Array?t.join(""):t)+"</style>").appendTo("head")},watchMedia:function e(n,r,a){if(t.isNumber(n))return c.remove("id",n),!0;t.isFunction(r)&&(a=r,r=null);n=n.toLowerCase();if(-1!==n.indexOf(",")){var s=[];return n.split(",").forEach(function(t){(t=t.trim())&&s.push(e(t,r,a))}),s}var l=i;"md"===n?n="min-width:{0}px and max-width:{1}px".format(l.md.min,l.md.max):"lg"===n?n="min-width:{0}px".format(l.lg.min):"xs"===n?n="max-width:{0}px".format(l.xs.max):"sm"===n&&(n="min-width:{0}px and max-width:{1}px".format(l.sm.min,l.sm.max));var u=n.match(/(max-width|min-width|max-device-width|min-device-width|max-height|min-height|max-device-height|height|width):(\s)\d+(px|em|in)?/gi);var h={};var f=function(t){var e=parseInt(t.match(/\d+/),10);return t.match(/\d+(em)/)?16*e:t.match(/\d+(in)/)?.010416667*e>>0:e};if(u)for(var d=0,p=u.length;d<p;d++){var m=u[d],g=m.indexOf(":");switch(m.substring(0,g).toLowerCase().trim()){case"min-width":case"min-device-width":case"width":h.minW=f(m);break;case"max-width":case"max-device-width":h.maxW=f(m);break;case"min-height":case"min-device-height":case"height":h.minH=f(m);break;case"max-height":case"max-device-height":h.maxH=f(m)}}u=n.match(/orientation:(\s)(landscape|portrait)/gi);if(u)for(var d=0,p=u.length;d<p;d++){var m=u[d];-1!==m.toLowerCase().indexOf("portrait")?h.orientation="portrait":h.orientation="landscape"}h.id=o++;h.fn=a;r&&(h.element=r);c.push(h);return h.id}}}),t("skylark-totaljs-jcomponent/binding/vbind",["../utils/domx","../utils/query","./VirtualBinder"],function(t,e,n){return e.fn.vbind=function(){return t.findinstance(this,"$vbind")},function(t){return new n(t)}}),t("skylark-totaljs-jcomponent/components/Usage",["../langx"],function(t){function e(){var t=this;t.init=0,t.manually=0,t.input=0,t.default=0,t.custom=0,t.dirty=0,t.valid=0}return e.prototype.compare=function(e,n){t.isString(n)&&"-"!==n.substring(0,1)&&(n=t.now().add("-"+n));var r=this[e];return 0===r||r<n.getTime()},e.prototype.convert=function(t){var e=Date.now(),n={},r=1,i=this;switch(t.toLowerCase().substring(0,3)){case"min":case"mm":case"m":r=6e4;break;case"hou":case"hh":case"h":r=36e4;break;case"sec":case"ss":case"s":r=1e3}return n.init=0===i.init?0:(e-i.init)/r>>0,n.manually=0===i.manually?0:(e-i.manually)/r>>0,n.input=0===i.input?0:(e-i.input)/r>>0,n.default=0===i.default?0:(e-i.default)/r>>0,n.custom=0===i.custom?0:(e-i.custom)/r>>0,n.dirty=0===i.dirty?0:(e-i.dirty)/r>>0,n.valid=0===i.valid?0:(e-i.valid)/r>>0,n},e}),t("skylark-totaljs-jcomponent/components/Component",["../langx","../binding/findFormat","./Usage"],function(t,e,n){var r={},i=0;function a(e){var n=!0;if(e.disabled)return n;if(e.$valid_disabled)return n;var r=[];return e.state&&r.push(e),e.$validate=!0,e.validate&&(e.$valid=e.validate(get(e.path)),e.$interaction(102),e.$valid||(n=!1)),clear("valid"),t.state(r,1,1),n}var s=t.klass({_construct(t,e){var r=this;r._id=r.ID="jc"+i++,r.usage=new n,r.$dirty=!0,r.$valid=!0,r.$validate=!1,r.$parser=[],r.$formatter=[],r.$skip=!1,r.$ready=!1,r.$path,r.trim=!0,r.$released=!1,r.$bindreleased=!0,r.$data={};var s=t.lastIndexOf("@");r.view=e,r.storing=e.storing,r.name=t,r.$name=-1===s?t:t.substring(0,s),r.version=-1===s?"":t.substring(s+1),r.path,r.type,r.id,r.disabled=!1,r.removed=!1,r.make,r.done,r.prerender,r.destroy,r.state,r.validate,r.released,r.getter=function(t,e,n){t=this.parser(t),this.getter2&&this.getter2(t,e),e&&(this.$skip=!0),n?a(this):t!==this.get()?this.set(t,2):3===e&&a(this)},r.stateX=function(t,e){var n=t+"x"+e;r.$bindchanges&&r.$state===n||(r.$state=n,r.config.$state&&EXEC.call(r,r.config.$state,t,e),r.state(t,e))},r.setterX=function(t,e,n){if(!(!r.setter||r.$bindexact&&r.path!==e&&-1===r.path.indexOf(e+".")&&n)){var i=r.$bindcache;if(arguments.length){if(skips[r.path]){var a=--skips[r.path];if(a<=0)return void delete skips[r.path]}if(r.$format&&(t=r.$format(t,e,n)),r.$bindreleased){if(r.$bindchanges){var s=HASH(t);if(s===r.$valuehash)return;r.$valuehash=s}r.config.$setter&&EXEC.call(r,r.config.$setter,t,e,n),r.data("",t),r.setter(t,e,n),r.setter2&&r.setter2(t,e,n)}else r.$released?(i.is=!0,i.value=t,i.path=e,i.type=n):(i.value=t,i.path=e,i.type=n,i.bt||(i.is=!0,r.setterX()))}else!r.$released&&i&&i.is&&(i.is=!1,i.bt&&clearTimeout(i.bt),i.bt=setTimeout(function(e){var n=e.$bindcache;if(n.bt=0,e.$bindchanges){var r=HASH(t);if(r===e.$valuehash)return;e.$valuehash=r}e.config.$setter&&EXEC.call(e,e.config.$setter,n.value,n.path,n.type),e.data("",n.value),e.setter(n.value,n.path,n.type),e.setter2&&e.setter2(n.value,n.path,n.type)},r.$bindtimeout,r))}},r.setter=function(t,e,n){var r=this;if(2===n&&r.$skip)r.$skip=!1;else{var i="select-one";t=r.formatter(t),findcontrol(r.element[0],function(e){e.$com!==r&&(e.$com=r);var a=e.$com.path;if(!a||!a.length||a===r.path)if("checkbox"!==e.type)if(null==t&&(t=""),n||e.type===i||"range"===e.type||r.$default||t||autofill.push(e.$com),e.type===i||"select"===e.type){var s=$(e);s.val()!==t&&s.val(t)}else e.value!==t&&(e.value=t);else{var o=null!=t?t.toString().toLowerCase():"";(o="true"===o||"1"===o||"on"===o)!==e.checked&&(e.checked=o)}})}}}}),o=s.prototype;o.data=function(t,e){t||(t="@");var n=this.$data[t];if(1===arguments.length)return n?n.value:null;if(n){n.value=e;for(var r=0;r<n.items.length;r++){var i=n.items[r];i.el[0].parentNode&&i.exec(e,t)}}else this.$data[t]={value:e,items:[]};if(this.$ppc)for(var a=this.view.components.all,r=0;r<a.length;r++){var s=a[r];s.owner===this&&s.$pp&&t===s.path&&s.setterX(e,e,2)}return e},o.$except=function(t){for(var e=self.$path,n=0;n<t.length;n++)for(var r=0;r<e.length;r++)if(t[n]===e[r])return!0;return!1},o.$compare=function(t,e){if(e)return this.path===t;if(t.length>this.path.length){var n=t.lastIndexOf(".",this.path.length);return-1!==n&&this.path===t.substring(0,n)}for(var r=0,i=this.$path.length;r<i;r++)if(this.$path[r]===t)return!0},o.notmodified=function(e){return t.isString(e)&&(e=[e]),NOTMODIFIED(this._id,this.get(),e)},o.$waiter=function(t,e){var n=this;if(!0!==t){if(!1!==t){if(!n.$W&&(n.$W={}),n.$W[t]){for(var r=0;r<n.$W[t].length;r++)if(n.$W[t][r]===e)return n;return n.$W[t].callback.push(e),n}return n.$W[t]={callback:[e]},n.$released||(n.$W[t].id=setInterval(function(t,e){var n=t.$W[e],r=t[e]();if(r){clearInterval(n.id);for(var i=0;i<n.callback.length;i++)n.callback[i].call(t,r);delete t.$W[e]}},MD.delaywatcher,n,t)),n}if(n.$W)for(var i=Object.keys(n.$W),r=0;r<i.length;r++){var a=n.$W[i[r]];a&&clearInterval(a.id)}}else if(n.$W)for(var i=Object.keys(n.$W),r=0;r<i.length;r++){var s=i[r],o=n.$W[s];o.id=setInterval(function(t,e){var n=t.$W[e],r=t[e]();if(r){clearInterval(n.id);for(var i=0;i<n.callback.length;i++)n.callback[i].call(t,r);delete t.$W[e]}},MD.delaywatcher,n,s)}},o.hidden=function(t){var e=this,n=e.element?e.element[0].offsetParent:null;return n=null===n,t&&(n?t.call(e):e.$waiter("hidden",t)),n},o.visible=function(t){var e=this,n=e.element?e.element[0].offsetParent:null;return n=null!==n,t&&(n?t.call(e):e.$waiter("visible",t)),n},o.width=function(t){var e=this,n=e.element?e.element[0].offsetWidth:0;return t&&(n?t.call(e,n):e.$waiter("width",t)),n},o.height=function(t){var e=this,n=e.element?e.element[0].offsetHeight:0;return t&&(n?t.call(e,n):e.$waiter("height",t)),n},o.import=function(t,e,n,r){return this.view.import(t,this.element,e,n,r),this},o.release=function(t,e){var n=this;return void 0===t||n.$removed?n.$released:(n.attrd("jc-released",t),helper.nested(e||n.element).forEach(function(){var e=$(this);e.attrd("jc-released",t?"true":"false");var r=e[0].$com;if(r instanceof Object)if(r instanceof Array)for(var i=0,a=r.length;i<a;i++){var s=r[i];s.$removed||s.$released===t||(s.$released=t,s.released&&s.released(t,n),s.$waiter(!t),!t&&s.setterX())}else r.$removed||r.$released===t||(r.$released=t,r.released&&r.released(t,n),r.$waiter(!t),!t&&r.setterX())}),e||n.$released===t||(n.$released=t,n.released&&n.released(t,n),n.$waiter(!t),!t&&n.setterX()),t)},o.validate2=function(){return a(this)},o.exec=function(t,e,n,r,i,a){return this},o.replace=function(t,e){C.is&&(C.recompile=!0);var n="jc-scope",r=this.element,i=r.attrd(n);return this.element.rattrd("jc"),this.element[0].$com=null,i&&this.element.rattrd(n),e?r.off().remove():this.attrd("jc-replaced","true"),this.element=$(t),this.dom=this.element[0],this.dom.$com=this,this.attrd("jc",this.name),i&&this.attrd(n,i),this.siblings=!1,this},o.nested=function(){return helper.nested(this.element)},o.$interaction=function(t){var e=Date.now(),n=this;switch(t){case 0:n.usage.init=e,n.$binded=!0;break;case 1:n.usage.manually=e,n.$binded=!0;break;case 2:n.usage.input=e,n.$binded=!0;break;case 3:n.usage.default=e,n.$binded=!0;break;case 100:n.usage.custom=e;break;case 101:n.usage.dirty=e;break;case 102:n.usage.valid=e}return n},o.notify=function(){return NOTIFY(this.path),this},o.update=o.refresh=function(e,n){return this.$binded&&(t.isString(e)&&(n=e,e=!0),e?this.set(this.get(),n):(this.setter&&this.setterX(this.get(),this.path,1),this.$interaction(1))),this},o.tclass=function(t,e){return this.element.tclass(t,e),this},o.aclass=function(t,e){var n=this;return e?setTimeout(function(){n.element.aclass(t)},e):n.element.aclass(t),n},o.hclass=function(t){return this.element.hclass(t)},o.rclass=function(t,e){var n=this.element;return e?setTimeout(function(){n.rclass(t)},e):t?n.rclass(t):n.rclass(),this},o.rclass2=function(t){return this.element.rclass2(t),this},o.classes=function(t){var e="cls."+t,n=r[e],i=this,a=i.element;if(n)return n.add&&a.aclass(n.add),n.rem&&a.rclass(n.rem),i;for(var s=t instanceof Array?t:t.split(" "),o="",c="",l=0,u=s.length;l<u;l++){var h=s[l].substring(0,1);"-"===h?c+=(c?" ":"")+s[l].substring(1):o+=(o?" ":"")+("+"===h?s[l].substring(1):s[l])}return o&&a.aclass(o),c&&a.rclass(c),t instanceof Array?i:(r[e]={add:o,rem:c},i)},o.toggle=function(e,n,r){var i=!1;t.isString(e)||(r=n,n=e,e="hidden",i=!0),t.isNumber(n)?(r=n,n=void 0):i&&void 0!==n&&(n=!n);var a=this.element;return r?(setTimeout(function(){a.tclass(e,n)},r),this):(a.tclass(e,n),this)},o.noscope=o.noScope=function(t){return this.$noscope=void 0===t||!0===t,this},o.nocompile=function(){return this.element.attrd("jc-compile","0"),this},o.singleton=function(){return statics["$ST_"+this.name]=!0,this},o.blind=function(){return this.path=null,this.$path=null,this.$$path=null,this},o.bindchanges=o.bindChanges=function(t){return this.$bindchanges=null==t||!0===t,this},o.bindexact=o.bindExact=function(t){return this.$bindexact=null==t||!0===t,this},o.bindvisible=o.bindVisible=function(t){return this.$bindreleased=!1,this.$bindtimeout=t||MD.delaybinder,this.$bindcache={},this},o.readonly=function(){return this.noDirty(),this.noValid(),this.getter=null,this.setter=null,this.$parser=null,this.$formatter=null,this},o.novalidate=o.noValid=o.noValidate=function(t){void 0===t&&(t=!0);return this.$valid_disabled=t,this.$valid=t,this},o.nodirty=o.noDirty=function(t){void 0===t&&(t=!0);return this.$dirty_disabled=t,this.$dirty=!t,this},o.datasource=function(t,e,n){var r=this.$datasource;return r&&this.unwatch(r.path,r.fn),t?(this.$datasource={path:t,fn:e},this.watch(t,e,!1!==n)):this.$datasource=null,this},o.setPath=function(t,n){var r=e(t);r?(t=r.path,this.$format=r.fn):n||(this.$format=null);var i=[];if("@"===t.substring(0,1)?(t=t.substring(1),this.$pp=!0,this.owner.$ppc=!0):this.$pp=!1,37===t.charCodeAt(0)&&(t="jctmp."+t.substring(1)),33===(t=t.env()).charCodeAt(0))t=t.substring(1),i.push(t);else for(var a=t.split("."),s=[],o=0;o<a.length;o++){var c=a[o].lastIndexOf("[");if(-1!==c){var l=s.join(".");i.push(l+(l?".":"")+a[o].substring(0,c))}s.push(a[o]),i.push(s.join("."))}return this.path=t,this.$path=i,1!==n&&C.ready&&refresh(),this},o.attr=function(t,e){var n=this.element;return void 0===e?n.attr(t):(n.attr(t,e),this)},o.attrd=function(t,e){t="data-"+t;var n=this.element;return void 0===e?n.attr(t):(n.attr(t,e),this)},o.css=function(t,e){var n=this.element;return void 0===e?n.css(t):(n.css(t,e),this)},o.main=function(){if(void 0===this.$main){var t=this.parent().closest("[data-jc]")[0];this.$main=t?t.$com:null}return this.$main},o.rcwatch=function(t,e){return e?this.reconfigure(e):this},o.reconfigure=function(e,n,r){var i=this;t.isPlainObject(e)?Object.keys(e).forEach(function(t){var a=i.config[t];r||i.config[t]===e[t]||(i.config[t]=e[t]),n?n(t,e[t],r,r?void 0:a):i.configure&&i.configure(t,e[t],r,r?void 0:a),i.data("config."+t,e[t])}):"="===e.substring(0,1)?(e=e.substring(1),i.watch&&(i.$rcwatch&&i.unwatch(i.$rcwatch,i.rcwatch),i.watch(e,i.rcwatch),i.$rcwatch=e),i.reconfigure(get(e),n,r)):e.$config(function(t,e){var a=i.config[t];r||i.config[t]===e||(i.config[t]=e),i.data("config."+t,e),n?n(t,e,r,r?void 0:a):i.configure&&i.configure(t,e,r,r?void 0:a)});var a=i.config;return i.data("config",a),a.$type&&(i.type=a.$type),a.$id&&(i.id=a.$id),0==a.$compile&&i.nocompile(),a.$init&&(i.$init=a.$init),a.$class&&i.tclass(a.$class),a.$released&&i.release(1==a.$released),a.$reconfigure&&EXEC.call(a.$reconfigure,a),i},o.closest=function(t){return this.element.closest(t)},o.parent=function(t){return this.element.parent(t)};var c={number:1,boolean:1};return o.html=function(t){var e=this.element;if(void 0===t)return e.html();t instanceof Array&&(t=t.join(""));var n=typeof t,r=t||c[n]?e.empty().append(t):e.empty();return r},o.text=function(t){var e=this.element;if(void 0===t)return e.text();t instanceof Array&&(t=t.join(""));var n=typeof t;return t||c[n]?e.empty().text(t):e.empty()},o.empty=function(){if(this.$children){for(var t=0,e=all.length;t<e;t++){var n=all[t];!n.$removed&&n.owner===this&&n.remove()}this.$children=0}var r=this.element;return r.empty(),r},o.append=function(t){var e=this.element;t instanceof Array&&(t=t.join(""));var n=t?e.append(t):e;return n},o.event=function(){var t=this;return t.element?t.element.on.apply(t.element,arguments):setTimeout(function(e){t.event(t,e)},500,arguments),t},o.find=function(t){return this.element.find(t)},o.isInvalid=function(){var t=!this.$valid;return t&&!this.$validate&&(t=!this.$dirty),t},o.unwatch=function(t,e){return this.pathing.off("com"+this._id+"#watch",t,e),this},o.watch=function(e,n,r){return t.isFunction(e)?(r=n,n=e,e=this.path):e=pathmaker(e),this.on("watch",e,n,r),this},o.invalid=function(){return this.storing.invalid(this.path,this)},o.valid=function(t,e){return void 0===t?this.$valid:this.$valid_disabled?this:(this.$valid=t,this.$validate=!1,this.$interaction(102),this.storing.clear("valid"),!e&&this.state&&this.stateX(1,1),this)},o.style=function(t){return domx.style(t,this._id),this},o.change=function(t){return this.$dirty_disabled=!1,this.$dirty=!0,this.storing.change(this.path,void 0===t||t,this),this},o.used=function(){return this.$interaction(100)},o.dirty=function(t,e){return void 0===t?this.$dirty:this.$dirty_disabled?this:(this.$dirty=t,this.$interaction(101),this.storing.clear("dirty"),!e&&this.state&&this.stateX(2,2),this)},o.reset=function(){return this.storing.reset(this.path,0,this),this},o.setDefault=function(t){return this.$default=function(){return t},this},o.default=function(t){return this.storing.default(this.path,0,this,t),this},o.remove=o.kill=function(e){var n=this.element;return function(t){if(t.$W)for(var e=Object.keys(t.$W),n=0,r=e.length;n<r;n++){var i=t.$W[e[n]];i.id&&clearInterval(i.id)}}(this),helper.kill(n),this.$removed=1,this.removed=!0,this.pathing.off("com"+this._id+"#"),e||t.setTimeout2("$cleaner",cleaner2,100),!0},o.on=function(e,n,r,i){t.isFunction(n)?(i=r,r=n,n=""):n=n.replace(".*","");var a="";return"^"===e.substring(0,1)&&(a="^",e=e.substring(1)),this.pathing.on(a+"com"+this._id+"#"+e,n,r,i,this),this},o.formatter=function(e,n){if(t.isFunction(e))return!this.$formatter&&(this.$formatter=[]),!0===n?this.$formatter.unshift(e):this.$formatter.push(e),this;var r=this.$formatter;if(r&&r.length)for(var i=0,a=r.length;i<a;i++)e=r[i].call(this,this.path,e,this.type);return e=this.storing.format(this.path,e,this.type)},o.parser=function(t,e){var n=typeof t;if("function"===n)return!this.$parser&&(this.$parser=[]),!0===e?this.$parser.unshift(t):this.$parser.push(t),this;this.trim&&"string"===n&&(t=t.trim());var r=this.$parser;if(r&&r.length)for(var i=0,a=r.length;i<a;i++)t=r[i].call(this,this.path,t,this.type);return t=this.storing.parser(this.path,t,this.type)},o.emit=function(){return self.pathing.emit.apply(self.pathing,arguments),this},o.evaluate=function(t,e,n){return e||(e=t,t=this.path),self.storing.evaluate(t,e,n)},o.get=function(t){return t||(t=this.path),this.$pp?this.owner.data(this.path):t?this.storing.get(t):void 0},o.skip=function(t){return this.storing.skip(t||this.path),this},o.set=function(t,e){var n=arguments;return this.$pp?(this.owner.set(this.path,t),this):(3===n.length?this.storing.setx(n[0],n[1],n[2]):this.storing.setx(this.path,t,e),this)},o.inc=function(t,e){return this.storing.inc(this.path,t,e),this},o.extend=function(t,e){return this.storing.extend(this.path,t,e),this},o.rewrite=function(t){return this.storing.rewrite(this.path,t),this},o.push=function(t,e){return this.storing.push(this.path,t,e),this},s}),t("skylark-totaljs-jcomponent/binding/vbindArray",["../utils/domx","../utils/query","../components/Component","./vbind"],function(t,e,n,r){return e.fn.vbindarray=function(){return t.findinstance(this,"$vbindarray")},function(t,i){var a={};a.html=t,a.items=[],a.element=i instanceof n?i.element:e(i),a.element[0].$vbindarray=a,a.remove=function(){for(var t=0;t<a.items.length;t++)a.items[t].remove();a.checksum=null,a.items=null,a.html=null,a.element=null};var s=function(t){switch(typeof t){case"number":return t+"";case"boolean":return t?"1":"0";case"string":return t;default:return null==t?"":t instanceof Date?t.getTime():JSON.stringify(t)}},o=function(t){var e=0,n=a.items[0];if(n)for(var r=0;r<n.binders.length;r++){var i=n.binders[r],o=i.path;if(i.track)for(var c=0;c<i.track.length;c++)e+=s($get((o?o+".":"")+i.track[c].substring(1),t));else e+=s(o?$get(o,t):t)}return HASH(e)};return a.set=function(t,e){var n=null;if(!(t instanceof Array))return(c=a.items[t])&&(n=o(e),(u=c.element[0]).$bchecksum!==n&&(u.$bchecksum=n,c.set(e))),a;if(e=t,a.items.length>e.length)for(var i=a.items.splice(e.length),s=0;s<i.length;s++)i[s].remove();for(s=0;s<e.length;s++){var c,l=e[s];(c=a.items[s])||(c=r(a.html),a.items.push(c),c.element.attrd("index",s),c.element[0].$vbind=c,c.index=s,a.element.append(c.element));var u=c.element[0];n=o(l),u.$bchecksum!==n&&(u.$bchecksum=n,c.set(l))}},a}}),t("skylark-totaljs-jcomponent/binding",["skylark-utils-dom/query","./jc","./langx","./plugins","./binding/Binder","./binding/bind","./binding/VirtualBinder","./binding/vbind","./binding/vbindArray"],function(t,e,n,r,i,a,s,o,c){var l=/,/g;return paths.parser(function(t,e,r){switch(r){case"number":case"currency":case"float":var i=+(n.isString(e)?e.trimAll().replace(l,"."):e);return isNaN(i)?null:i;case"date":case"datetime":return e?e instanceof Date?e:(e=e.parseDate())&&e.getTime()?e:null:null}return e}),e.binding={parser:parser,Binder:i,bind:a,VirtualBinder:s,vbind:o,vbindArray:c}}),t("skylark-totaljs-jcomponent/components/configs",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/configure",["../langx","./configs"],function(t,e){return function(n,r){if(t.isString(n)){var i=[];n.split(" ").forEach(function(t){var e="";switch(t.trim().substring(0,1)){case"*":return void i.push("com.path.indexOf('{0}')!==-1".format(t.substring(1)));case".":e="path";break;case"#":e="id";break;default:e="$name"}i.push("com.{0}=='{1}'".format(e,"$name"===e?t:t.substring(1)))}),n=FN("com=>"+i.join("&&"))}e.push({fn:n,config:r})}}),t("skylark-totaljs-jcomponent/components/extensions",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/extend",["../langx","./extensions"],function(t,e){var n=t.topic;return function(t,r,i){if(typeof r===TYPE_FN){var a=i;i=r,r=a}e[t]?e[t].push({config:r,fn:i}):e[t]=[{config:r,fn:i}];n.publish("skylark.vvm.component.extend",t)}}),t("skylark-totaljs-jcomponent/components/registry",[],function(){return{}}),t("skylark-totaljs-jcomponent/components/register",["../langx","./registry"],function(t,e){return function(n,r,i,a){t.isFunction(r)&&(a=i,i=r,r=null);if(-1!==n.indexOf(","))return void n.split(",").forEach(function(t,e){(t=t.trim())&&add(t,r,i,e?null:a)});e[n]&&warn("Components: Overwriting component:",n);e[n]={name:n,config:r,declaration:i,shared:{},dependencies:a instanceof Array?a:null}}}),t("skylark-totaljs-jcomponent/components",["./jc","./langx","./utils/domx","./utils/query","./utils/cache","./components/Component","./components/configs","./components/configure","./components/extensions","./components/extend","./components/registry","./components/register","./components/Usage"],function(t,e,n,r,i,a,s,o,c,l,u,h,f){a.components=[];return r.fn.component=function(){return n.findInstance(this,"$com")},r.fn.components=function(t){var e=helper.nested(this),n=null;return e.forEach(function(e){var r=e instanceof Array;if(r)e.forEach(function(e){if(e&&e.$ready&&!e.$removed){if(t)return t.call(e,index);n||(n=[]),n.push(e)}});else if(e&&e.$ready&&!e.$removed){if(t)return t.call(e,index);n||(n=[]),n.push(e)}}),t?e:n},t.components={cleaner:cleaner,cleaner2:cleaner2,each:each,find:find,refresh:refresh,reset:reset,setter:setter,usage:usage,version:version}}),t("skylark-totaljs-jcomponent/utils/blocks",["./localStorage"],function(t){var e={},n={blocked:function(n,r,i){var a=n,s=e[a],o=Date.now();if(s>o)return!0;langx.isString(r)&&(r=r.env().parseExpire());MD.localstorage;return e[a]=o+r,t.set("blocked",e),i&&i(),!1},load:function(){e=t.get("blocked")}};return n}),t("skylark-totaljs-jcomponent/utils/cookies",["../langx"],function(t){function e(e,n,r){var i=typeof r;if("number"===i){var a=t.now();a.setTime(a.getTime()+24*r*60*60*1e3),r=a}else"string"===i&&(r=new Date(Date.now()+r.parseExpire()));document.cookie=e.env()+"="+n+"; expires="+r.toGMTString()+"; path=/"}return{get:function(t){t=t.env();for(var e=document.cookie.split(";"),n=0;n<e.length;n++){var r=e[n];" "===r.charAt(0)&&(r=r.substring(1));var i=r.split("=");if(i.length>1&&i[0]===t)return i[1]}return""},set:e,rem:function(t){e(t.env(),"",-1)}}}),t("skylark-totaljs-jcomponent/utils/env",["../langx","../jc"],function(t,e){var n=t.topic,r="skylark.vmm.env",i={};return e.env=function(e,a){if(t.isObject(e))return e&&Object.keys(e).forEach(function(t){i[t]=e[t],n.publish(r,t,e[t])}),e;if(void 0!==a)return n.publish(r,e,a),a;return i[e]}}),t("skylark-totaljs-jcomponent/utils/http",["../jc","../langx","./cache"],function(t,e,n,r){var i={},a={};function s(t){var e={};return t.split("\n").forEach(function(t){var n=t.indexOf(":");-1!==n&&(e[t.substring(0,n).toLowerCase()]=t.substring(n+1).trim())}),e}function o(t,n,i,a,s){i&&!i.version&&M.$version&&(i.version=M.$version),i&&!i.language&&M.$language&&(i.language=M.$language),i=e.stringify(i);var o=e.hashCode(t+"#"+n.replace(/\//g,"")+i).toString();return r.set(o,a,s)}function c(t,e){if(a.makeurl&&(t=a.makeurl(t)),e)return t;var n=[],r=encodeURIComponent;if(M.$version&&n.push("version="+r(M.$version)),M.$language&&n.push("language="+r(M.$language)),!n.length)return t;var i=t.indexOf("?");return(t+=-1==i?"?":"&")+n.join("&")}function l(t,r,i,a,s,o){var l,f=(t=t.$env().replace(/<.*?>/,function(t){return l=t.substring(1,t.length-1).trim(),""}).trim()).substring(0,1),d="once "===t.substring(0,5).toLowerCase();if(e.isFunction(i)?(e.isFunction(a)?(o=a,s=!0):typeof s===TYPE_FN&&(o=s,s=!0),a=i,i="body"):e.isFunction(s)&&(o=s,s=!0),l){var p="()"===l.substring(l.length-2);p&&(l=l.substring(0,l.length-2));var m=GET(l);if(p&&e.isFunction(m)){if(m())return void(a&&a(0))}else if(m)return void(a&&a(0))}"//"===t.substring(0,2)&&(t=location.protocol+t);var g=t.lastIndexOf(" ."),v="";if(-1!==g&&(v=t.substring(g).trim().toLowerCase(),t=t.substring(0,g).trim()),"!"===f||d){if(t=d?t.substring(5):t.substring(1),statics[t])return a&&(2===statics[t]?a(0):e.wait(function(){return 2===statics[t]},function(){a(0)})),W;statics[t]=1}if(i&&i.setPath&&(i=i.element),i||(i="body"),!v)if(-1!==(g=t.lastIndexOf("?"))){var b=t.lastIndexOf(".",g);-1!==b&&(v=t.substring(b,g).toLowerCase())}else-1!==(g=t.lastIndexOf("."))&&(v=t.substring(g).toLowerCase());var y=document;if(".js"===v){var k=y.createElement("script");return k.type="text/javascript",k.async=!1,k.onload=function(){statics[t]=2,a&&a(1),setTimeout(compile,300)},k.src=c(t,!0),y.getElementsByTagName("head")[0].appendChild(k),n.emit("import",t,$(k)),this}if(".css"===v){var w=y.createElement("link");return w.type="text/css",w.rel="stylesheet",w.href=c(t,!0),y.getElementsByTagName("head")[0].appendChild(w),statics[t]=2,a&&setTimeout(a,200,1),n.emit("import",t,$(w)),this}return e.wait(function(){return!!W.jQuery},function(){statics[t]=2;var c="import"+HASH(t),l=function(r,l,u){if(r){t="$import"+t,o&&(r=o(r,u));var h=REGCOM.test(r);r=importscripts(importstyles(r,c)).trim(),i=$(i),r&&(!1===s?i.html(r):i.append(r)),setTimeout(function(){h&&compile(),a&&e.wait(function(){return 0==C.is},function(){a(1)}),n.emit("import",t,i)},10)}else a&&a(0)};r?h("GET "+t,null,l,r):u("GET "+t,l)}),W}function u(t,n,r,o){typeof t===TYPE_FN&&(o=r,r=n,n=t,t=location.pathname);var l,u=typeof n,h=EMPTYARRAY;r||u!==TYPE_FN&&u!==TYPE_S||(o=r,r=n,n=void 0);var f=t.indexOf(" ");if(-1===f)return W;var d=!1;t=t.replace(/\srepeat/i,function(){return d=!0,""}),d&&(h=[t,n,r,o]);var p=t.substring(0,f).toUpperCase(),m="!"===p.substring(0,1);m&&(p=p.substring(1));var g={};return(l=t.match(/\{.*?\}/g))&&(t=t.replace(l,"").replace(/\s{2,}/g," "),typeof(l=new Function("return "+l)())===TYPE_O&&(g=l)),t=t.substring(f).trim().$env(),setTimeout(function(){if("GET"===p&&n){var o=typeof n===TYPE_S?n:jQuery.param(n,!0);o&&(t+="?"+o)}var l={};l.method=p,l.converters=a.jsonconverter,"GET"!==p&&(typeof n===TYPE_S?l.data=n:(l.contentType="application/json; charset=utf-8",l.data=STRINGIFY(n))),l.headers=$.extend(g,a.headers),t.match(/http:\/\/|https:\/\//i)?(l.crossDomain=!0,delete l.headers["X-Requested-With"],m&&(l.xhrFields={withCredentials:!0})):t=t.ROOT();var u=t.match(/\([a-z0-9\-.,]+\)/i);if(u){t=t.replace(u,"").replace(/\s+/g,""),l.url=t,u=u.toString().replace(/\(|\)/g,"").split(",");for(var f=0;f<u.length;f++){var v=i[u[f].trim()];v&&v(l)}}if(l.url||(l.url=t),!l.cancel){l.type=l.method,delete l.method;var b={};b.url=l.url,b.process=!0,b.error=!1,b.upload=!1,b.method=p,b.data=n,delete l.url,l.success=function(t,e,n){b.response=t,b.status=n.status||999,b.text=e,b.headers=s(n.getAllResponseHeaders()),b.process&&!b.cancel&&r&&r.call(b,b.response,void 0,b)},l.error=function(t,n){var i=t.status;if(!d||i&&408!==i&&502!==i&&503!==i&&504!==i&&509!==i){b.response=t.responseText,b.status=i||999,b.text=n,b.error=!0,b.headers=s(t.getAllResponseHeaders());var o=b.headers["content-type"];if(o&&-1!==o.indexOf("/json"))try{b.response=PARSE(b.response,a.jsondate)}catch(t){}!b.cancel&&b.process&&(a.ajaxerrors?r&&r.call(b,b.response,b.status,b):e.isFunction(r)&&r.call(b,b.response,b.status,b))}else setTimeout(function(){h[0]+=" REPEAT",W.AJAX.apply(M,h)},a.delayrepeat)},$.ajax(c(b.url),l)}},o||0),this}function h(t,n,r,i,a,s,c){(e.isFunction(n)||e.isString(n)&&e.isString(r)&&!e.isString(i))&&(s=a,a=i,i=r,r=n,n=null),e.isBoolean(a)&&(s=!0===a,a=0);var l=t.indexOf(" ");if(-1===l)return W;var h=t.substring(0,l).toUpperCase(),f=t.substring(l).trim().$env();return setTimeout(function(){var e=s?void 0:o(h,f,n,void 0,i);if(void 0===e)u(t,n,function(t,e){e&&(t=e),o(h,f,n,t,i),r(t,!1)});else{var a=c?STRINGIFY(e):null;if(r(e,!0),!c)return;u(t,n,function(t,e){e&&(t=e),a!==STRINGIFY(t)&&(o(h,f,n,t,i),r(t,!1,!0))})}},a||1),this}return a.ajaxerrors=!1,a.pingdata={},a.baseurl="",a.makeurl=null,a.delayrepeat=2e3,a.jsondate=!0,a.jsonconverter={"text json":function(t){return PARSE(t)}},a.headers={"X-Requested-With":"XMLHttpRequest"},t.http={defaults:a,ajax:u,ajaxCache:h,ajaxCacheReview:function(t,e,n,r,i,a){return h(t,e,n,r,i,a,!0)},configure:function(t,e){return i[t]=e,this},import2:function(t,n,r,i,a){t instanceof Array?(e.isFunction(n)&&(a=i,i=r,r=n,n=null),t.wait(function(t,e){l(t,null,n,e,i,a)},function(){r&&r()})):l(t,null,n,r,i,a);return this},importCache:l,makeParams:function(t,e,n){var r,i=location;typeof t===TYPE_O&&(n=e,e=t,t=i.pathname+i.search);var a=t.indexOf("?");-1!==a?(r=M.parseQuery(t.substring(a+1)),t=t.substring(0,a)):r={};for(var s=Object.keys(e),o=0,c=s.length;o<c;o++){var l=s[o];r[l]=e[l]}var u=$.param(r,null==n||!0===n);return t+(u?"?"+u:"")},ping:function(t,e,n){if(null!=navigator.onLine&&!navigator.onLine)return;"boolean"==typeof e&&(n=e,e=0);var r=(t=t.$env()).indexOf(" "),i="GET";-1!==r&&(i=t.substring(0,r).toUpperCase(),t=t.substring(r).trim());var s={},o=$.param(a.pingdata);o&&(r=t.lastIndexOf("?"),t+=-1===r?"?"+o:"&"+o);return s.type=i,s.headers={"x-ping":location.pathname,"x-cookies":navigator.cookieEnabled?"1":"0","x-referrer":document.referrer},s.success=function(t){if(t)try{new Function(t)()}catch(t){}},n&&$.ajax(c(t),s),setInterval(function(){$.ajax(c(t),s)},e||3e4)},parseQuery:function(t){t||(t=location.search);if(!t)return{};var e=t.indexOf("?");-1!==e&&(t=t.substring(e+1));for(var n=t.split("&"),r={},i=0,a=n.length;i<a;i++){var s=n[i].split("="),o=s[0],c=decodeURIComponent((s[1]||"").replace(/\+/g,"%20"));r[o]?(r[o]instanceof Array||(r[o]=[r[o]]),r[o].push(c)):r[o]=c}return r},upload:function(t,r,i,o,l){e.isNumber(o)||null!=l||(l=o,o=null);t||(t=location.pathname);var u="POST",h=t.indexOf(" "),f=null;-1!==h&&(u=t.substring(0,h).toUpperCase());var d="!"===u.substring(0,1);d&&(u=u.substring(1));var p={};(f=t.match(/\{.*?\}/g))&&(t=t.replace(f,"").replace(/\s{2,}/g," "),typeof(f=new Function("return "+f)())===TYPE_O&&(p=f));t=t.substring(h).trim().$env(),typeof i===TYPE_N&&(o=i,i=void 0);var m={};if(m.url=t,m.process=!0,m.error=!1,m.upload=!0,m.method=u,m.data=r,n.emit("request",m),m.cancel)return;return setTimeout(function(){var t=new XMLHttpRequest;d&&(t.withCredentials=!0),t.addEventListener("load",function(){var t=this.responseText;try{t=PARSE(t,a.jsondate)}catch(t){}l&&l(100),m.response=t,m.status=this.status,m.text=this.statusText,m.error=this.status>399,m.headers=s(this.getAllResponseHeaders()),n.emit("response",m),m.process&&!m.cancel&&(!t&&m.error&&(t=m.response=this.status+": "+this.statusText),!m.error||a.ajaxerrors?typeof i===TYPE_S?remap(i.env(),t):i&&i(t,null,m):(n.emit("error",m),m.process&&typeof i===TYPE_FN&&i({},t,m)))},!1),t.upload.onprogress=function(t){if(l){var e=0;t.lengthComputable&&(e=Math.round(100*t.loaded/t.total)),l(e,t.transferSpeed,t.timeRemaining)}},t.open(u,c(m.url));for(var e=Object.keys(a.headers),o=0;o<e.length;o++)t.setRequestHeader(e[o].env(),a.headers[e[o]].env());if(p)for(e=Object.keys(p),o=0;o<e.length;o++)t.setRequestHeader(e[o],p[e[o]]);t.send(r)},o||0),W},uptodate:uptodate}}),t("skylark-totaljs-jcomponent/utils/logs",["../langx"],function(t){var e=t.hoster.global;return{warn:function(){e.console&&e.console.warn.apply(e.console,arguments)}}}),t("skylark-totaljs-jcomponent/utils",["./jc","./utils/blocks","./utils/cache","./utils/cookies","./utils/domx","./utils/env","./utils/http","./utils/localStorage","./utils/logs","./utils/query"],function(t,e,n,r,i,a,s,o,c,l){return t.utils={blocks:e,cache:n,cookies:r,domx:i,env:a,http:s,localStorage:o,logs:c,query:l}}),t("skylark-totaljs-jcomponent/views/compose",["../langx"],function(t){var e="https://cdn.componentator.com/j-{0}.html",n={},e={$:0};function r(e,n,r,i){e.importing?t.wait(function(){return!0!==e.importing},function(){n(r,i)}):e.dependencies&&e.dependencies.length?(e.importing=!0,e.dependencies.wait(function(e,n){t.isFunction(e)?e(n):IMPORT((-1===e.indexOf("<")?"once ":"")+e,n)},function(){e.importing=!1,n(r,i)},3)):setTimeout(function(t,e,n){t(e,n)},5,n,r,i)}return function(i,a,s,o,c){var l=$(s),u=a.split(REGMETA);u.length?(u=u.trim(!0),a=u[0]):u=null;if(has=!0,statics["$ST_"+a])return void remove(l);for(var h=[],f=a.split(","),d=0;d<f.length;d++){var a=f[d].trim(),p=!1;if(-1!==a.indexOf("|")){for(var m=a.split("|"),g=0;g<m.length;g++){var v=m[g].trim();if(v&&M.$components[v]){a=v,p=!0;break}}p||(a=m[0].trim())}var b=!1;"lazy "===a.substring(0,5).toLowerCase()&&(a=a.substring(5),b=!0),p||-1!==a.lastIndexOf("@")||(versions[a]?a+="@"+versions[a]:MD.version&&(a+="@"+MD.version));var y=M.$components[a],k=null;if(b&&a){var w=a.substring(0,a.indexOf("@"));if(!(k=n[a])){n[a]=w&&a!==w?n[w]={state:1}:{state:1};continue}if(1===k.state)continue}if(y){1===e[a]&&(e.$--,delete e[a]);for(var x=new Component(y.name,i),j=s.parentNode;;){if(j.$com){var E=j.$com;x.owner=E,E.$children?E.$children++:E.$children=1;break}if("BODY"===j.nodeName)break;if(null==(j=j.parentNode))break}x.global=y.shared,x.element=l,x.dom=s;var T=i.attrcom(l,"path")||(u?"null"===u[1]?"":u[1]:"")||x._id;"%"===T.substring(0,1)&&(x.$noscope=!0),x.setPath(pathmaker(T,!0),1),x.config={},y.config&&x.reconfigure(y.config,NOOP);var O=attrcom(l,"config")||(u?"null"===u[2]?"":u[2]:"");O&&x.reconfigure(O,NOOP),x.$init||(x.$init=attrcom(l,"init")||null),x.type||(x.type=attrcom(l,"type")||""),x.id||(x.id=attrcom(l,"id")||x._id),x.siblings=f.length>1,x.$lazy=k;for(var g=0;g<configs.length;g++){var A=configs[g];A.fn(x)&&x.reconfigure(A.config,NOOP)}caches.current.com=x,y.declaration.call(x,x,x.config),caches.current.com=null,u[3]&&l.attrd("jc-value",u[3]),x.init&&!statics[a]&&(statics[a]=!0,x.init()),s.$com=x,x.$noscope||(x.$noscope="true"===i.attrcom(l,"noscope"));var C=x.path?x.path.charCodeAt(0):0;if(!x.$noscope&&c.length&&!x.$pp){var S=initscopes(c);x.path&&33!==C&&35!==C?x.setPath("?"===x.path?S.path:-1===x.path.indexOf("?")?S.path+"."+x.path:x.path.replace(/\?/g,S.path),2):(x.$$path=EMPTYARRAY,x.path=""),x.scope=S,x.pathscope=S.path}h.push(x);var D=i.attrcom(l,"template")||x.template;if(D&&(x.template=D),"true"===i.attrcom(l,"released")&&(x.$released=!0),i.attrcom(l,"url"))warn('Components: You have to use "data-jc-template" attribute instead of "data-jc-url" for the component: {0}[{1}].'.format(x.name,x.path));else if(t.isString(D)){var N=function(e){x.prerender&&(e=x.prerender(e)),r(y,function(n,r){if(t.isFunction(n.make)){var i=caches.current.com;caches.current.com=n,n.make(e),caches.current.com=i}init(r,n)},x,l)},I=D.substring(0,1);if("."===I||"#"===I||"["===I){N($(D).html());continue}var P="TE"+HASH(D),R=statics[P];if(R){N(R);continue}$.get(makeurl(D),function(t){statics[P]=t,N(t)})}else if(t.isString(x.make)){if(-1!==x.make.indexOf("<")){r(y,function(t,e){t.prerender&&(t.make=t.prerender(t.make)),e.html(t.make),init(e,t)},x,l);continue}$.get(makeurl(x.make),function(t){r(y,function(e,n){e.prerender&&(t=e.prerender(t)),n.html(t),init(n,e)},x,l)})}else y.dependencies?r(y,function(t,e){if(t.make){var n=caches.current.com;caches.current.com=t,t.make(),caches.current.com=n}init(e,t)},x,l):setTimeout(function(t,e,n){if(n.make){var r=caches.current.com;caches.current.com=n,n.make(),caches.current.com=r}t(e,n)},5,init,l,x)}else{e[a]||(e[a]=1,e.$++);var F=i.attrcom(l,"import");if(!F){!statics["$NE_"+a]&&(statics["$NE_"+a]=!0);continue}if(1===i.imports[F])continue;if(2===i.imports[F]){!statics["$NE_"+a]&&(statics["$NE_"+a]=!0);continue}i.imports[F]=1,i.importing++,i.import(F,function(){i.importing--,i.imports[F]=2})}}h.length>0&&(l.$com=h.length>1?h:h[0])}}),t("skylark-totaljs-jcomponent/components/helper",["skylark-utils-dom/query"],function(t){var e="data-jc-scope";t.fn.scope=function(){if(!this.length)return null;var t=this[0].$scopedata;if(t)return t;var n=this.closest("["+e+"]");return n.length&&(t=n[0].$scopedata)?t:null}}),t("skylark-totaljs-jcomponent/views/crawler",["../utils/query","../components/helper","../binding/parsebinder"],function(t,e,n){var r=e.attrcom;return function e(i,a,s,o){i=i?t(i)[0]:document.body;if(!i)return;var c=r(i,"compile");if("0"===c||"false"===c)return;if((null==s||0===s)&&(o=[],i!==document.body)){var l=t(i).closest("["+ATTRSCOPE+"]");l&&l.length&&o.push(l[0])}var u=null;var h=!!i&&"true"===r(i,"released");var f=r(i,"scope");var d=null;f&&o.push(i);i.$jcbind||(u=i.getAttribute("data-bind")||i.getAttribute("bind"))&&(d||(d=[]),d.push({el:i,b:u}));var p=r(i);i.$com||null==p||a(p,i,0,o);var m=i.childNodes;var g=[];void 0===s?s=0:s++;for(var v=0,b=m.length;v<b;v++){var y=m[v];if(y){if(!y.tagName)continue;if("0"===(c=y.getAttribute("data-jc-compile"))||"false"===c)continue;void 0===y.$com&&null!=(p=r(y))&&(h&&y.setAttribute(ATTRREL,"true"),a(p||"",y,s,o)),y.$jcbind||(u=y.getAttribute("data-bind")||y.getAttribute("bind"))&&(y.$jcbind=1,!d&&(d=[]),d.push({el:y,b:u})),"0"!==(c=y.getAttribute("data-jc-compile"))&&"false"!==c&&y.childNodes.length&&"SCRIPT"!==y.tagName&&REGCOM.test(y.innerHTML)&&-1===g.indexOf(y)&&g.push(y)}}for(var v=0,b=g.length;v<b;v++)(y=g[v])&&e(y,a,s,o&&o.length?o:[]);if(d)for(var v=0;v<d.length;v++){var $=d[v];$.el.$jcbind=n($.el,$.b,o)}}}),t("skylark-totaljs-jcomponent/views/download",["../langx","../utils/query","../utils/http"],function(t,e,n){}),t("skylark-totaljs-jcomponent/views/pend",[],function(){var t=[];function e(){C.importing?setTimeout(e,1e3):langx.setTimeout2("$fallback",function(){t.splice(0).wait(function(t,e){Component.registry[t]?e():(warn("Downloading: "+t),http.importCache(MD.fallback.format(t),MD.fallbackcache,e))},3)},100)}return function(){var n=C.pending.shift();if(n)n();else if($domready&&(C.ready&&(C.is=!1),MD.fallback&&fallback.$&&!C.importing)){for(var r=Object.keys(fallback),i=0;i<r.length;i++)if("$"!==r[i]){var a=fallback[r[i]];1===a&&(t.push(r[i].toLowerCase()),fallback[r[i]]=2)}fallback.$=0,t.length&&e()}}}),t("skylark-totaljs-jcomponent/views/View",["../langx","./compose","./crawler","./download","./pend"],function(t,e,n,r,i){var a;function s(t){var e=t.$com;t.$jctimeout=0,e.dirty(!1,!0),e.getter(t.value,!0)}var o=t.Evented.inherit({options:{elmComAttrNames:{base:"data-jc",url:"data-jc-url",removed:"data-jc-removed",released:"data-jc-released",scope:"data-jc-scope"}},_construct:function(t,e){this.is=!1,this.recompile=!1,this.importing=0,this.pending=[],this.init=[],this.imports={},this.ready=[],this.storing=storing(this)},attrcom:function(t){return attrcom(t)},compile:function(s,o){var c=this;if(c.is)c.recompile=!0;else{var l=[];if(W.READY instanceof Array&&l.push.apply(l,W.READY),W.jComponent instanceof Array&&l.push.apply(l,W.jComponent),W.components instanceof Array&&l.push.apply(l,W.components),l.length)for(;;){var u=l.shift();if(!u)break;u()}if(c.is=!0,r(c),c.pending.length)!function(t){c.pending.push(function(){compile(c,t)})}(s);else{if(n(c,s,e),a&&clearTimeout(a),a=setTimeout(function(){for(var t=bindersnew.splice(0),e=0;e<t.length;e++){var n=t[e];n.init||(n.com?n.exec(n.com.data(n.path),n.path):n.exec(getx(n.path),n.path))}},50),c.is=!1,void 0!==s||!toggles.length)return i();t.async(toggles,function(t,e){for(var n=0,r=t.toggle.length;n<r;n++)t.element.tclass(t.toggle[n]);e()},i)}}},refresh:function(){setTimeout2("$refresh",function(){all.sort(function(t,e){if(t.$removed||!t.path)return 1;if(e.$removed||!e.path)return-1;var n=t.path.length,r=e.path.length;return n>r?-1:n===r?LCOMPARER(t.path,e.path):1})},200)},start:function(){var t=$(this.elm);$(document).ready(function(){$ready&&(clearTimeout($ready),load()),t.on("input","input[data-jc-bind],textarea[data-jc-bind]",function(){var t=this.$com;if(t&&!t.$removed&&t.getter&&!1!==this.$jckeypress){if(this.$jcevent=2,void 0===this.$jckeypress){var e=attrcom(this,"keypress");if(e?this.$jckeypress="true"===e:null!=t.config.$realtime?this.$jckeypress=!0===t.config.$realtime:t.config.$binding?this.$jckeypress=1===t.config.$binding:this.$jckeypress=MD.keypress,!1===this.$jckeypress)return}void 0===this.$jcdelay&&(this.$jcdelay=+(attrcom(this,"keypress-delay")||t.config.$delay||MD.delay)),void 0===this.$jconly&&(this.$jconly="true"===attrcom(this,"keypress-only")||!0===t.config.$keypress||2===t.config.$binding),this.$jctimeout&&clearTimeout(this.$jctimeout),this.$jctimeout=setTimeout(s,this.$jcdelay,this)}}),t.on("focus blur","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(t){var e=this.$com;if(e&&!e.$removed&&e.getter)if("focusin"===t.type)this.$jcevent=1;else if(1===this.$jcevent)e.dirty(!1,!0),e.getter(this.value,3);else if(this.$jcskip)this.$jcskip=!1;else{var n=e.$skip;n&&(e.$skip=!1),e.setter(e.get(),e.path,2),n&&(e.$skip=n)}}),t.on("change","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(){var t=this.$com;if(!this.$jconly&&t&&!t.$removed&&t.getter){if(!1===this.$jckeypress)return this.$jcskip=!0,void t.getter(this.value,!1);switch(this.tagName){case"SELECT":var e=this[this.selectedIndex];return this.$jcevent=2,t.dirty(!1,!0),void t.getter(e.value,!1);case"INPUT":if("checkbox"===this.type||"radio"===this.type)return this.$jcevent=2,t.dirty(!1,!0),void t.getter(this.checked,!1)}this.$jctimeout?(t.dirty(!1,!0),t.getter(this.value,!0),clearTimeout(this.$jctimeout),this.$jctimeout=0):(this.$jcskip=!0,t.setter&&t.setterX(t.get(),this.path,2))}}),setTimeout(compile,2),$domready=!0})},end:function(){}});return o}),t("skylark-totaljs-jcomponent/views",["./jc","./views/View"],function(t,e){return t.views={View:e}}),t("skylark-totaljs-jcomponent/defaults",["./jc"],function(t){return t.defaults={delay:555,delaywatcher:555,delaybinder:200,localstorage:!0,version:"",importcache:"session",root:"",keypress:!0,jsoncompress:!1,dateformat:null}}),t("skylark-totaljs-jcomponent/globals",["./jc","./defaults","./langx","./utils","./plugins","./components","./binding","./stores","./views"],function(t,e,n,r,i,a,s,o,c){var l=Window,u=new c.View(document.body,{store:new o.Store({data:l})}),h=u.storing;n.mixin(l,{isPRIVATEMODE:!1,isMOBILE:/Mobi/.test(navigator.userAgent),isROBOT:!navigator.userAgent||/search|agent|bot|crawler|spider/i.test(navigator.userAgent),isSTANDALONE:navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,isTOUCH:!!("ontouchstart"in window||navigator.maxTouchPoints)}),n.each({MONTHS:"months",DAYS:"days"},function(e,n){Object.defineProperty(l,e,{get:()=>t[n],set(e){t[n]=e}})});r.blocks;var f,d=r.cache,p=r.cookies,m=r.domx;return env=r.env,http=r.http,localStorage=r.localStorage,logs=r.logs,n.mixin(l,{AJAXCONFIG:http.configure,AJAX:http.ajax,AJAXCACHE:http.ajaxCache,AJAXCACHEREVIEW:http.ajaxCacheReview,clearTimeout2:n.clearTimeout2,CACHE:d.put,CLEARCACHE:d.clear,CLEARSCHEDULE:schedulers.clear,CLONE:n.clone,COOKIES:p,COPY:n.copy,CSS:m.style,DEF:{},EMPTYARRAY:n.empties.array,EMPTYOBJECT:n.empties.object,GUID:n.guid,HASH:n.hashCode,IMPORTCACHE:http.importCache,IMPORT:http.import,MAKEPARAMS:http.makeParams,MEDIAQUERY:m.watchMedia,NOOP:n.empties.fn,PING:http.ping,READPARAMS:http.parseQuery,REMOVECACHE:d.remove,PARSE:n.parse,setTimeout2:n.setTimeout2,SCHEDULE:schedulers.schedule,SCROLLBARWIDTH:m.scrollbarWidth,SINGLETON:n.singleton,STRINGIFY:n.stringify,STYLE:m.style,UPLOAD:http.upload,UPTODATE:http.uptodate,WAIT:n.wait,ERRORS:paths.errors,WARN:logs.warn,WIDTH:m.mediaWidth,FN:n.arrowFn}),n.mixin(l,{PLUGIN:i.register,PLUGINS:i.registry}),l.ADD=components.add,l.BLOCKED=blocking.blocked,l.CACHEPATH=function(t,e,n){return h.cache(t,e,n)},l.CHANGE=function(t,e){return h.change(t.value)},l.CHANGED=function(t){return h.change(t)},l.COMPILE=function(t){return clearTimeout(f),compiler.compile(t)},l.COMPONENT=components.register,l.COMPONENT_CONFIG=components.configer,l.COMPONENT_EXTEND=components.extend,l.CREATE=function(t){return h.create(t)},l.DEFAULT=function(t,e,n){var r=t.split(REGMETA);if(r.length>1){var i=r[1],a=(t=r[0]).indexOf(".*");-1!==a&&(t=t.substring(0,a)),SET(t,new Function("return "+i)(),e>10?e:3,e>10?3:null)}return h.default(r[0],e,null,n)},l.EMIT=function(t){return h.emit.apply(h,arguments)},l.EXTEND=function(t,e,n,r){var i=typeof n;return"boolean"===i?h.extend(t,e,n):!n||n<10||"number"!==i?h.extend(t,e,n):(setTimeout(function(){h.extend(t,e,r)},n),l)},l.EXTEND2=function(t,e,n){return l.EXTEND(t,e,n),CHANGE(t),l},l.EVALUATE=function(t,e,n){return h.evaluate(t,e,n)},l.FIND=function(t,e,n,r){return h.find(t,e,n,r)},l.FREE=function(t){return n.setTimeout2("$clean",cleaner,t||10),l},l.GET=function(t,e){return t=pathmaker(t),!0===e&&(e=null,RESET(t,!0)),h.get(t,e)},l.GETR=function(t){return GET(t,!0)},l.INC=function(t,e,n,r){null==e&&(e=1);var i=typeof n;return"boolean"===i?h.inc(t,e,n):!n||n<10||"number"!==i?h.inc(t,e,n):(setTimeout(function(){h.inc(t,e,r)},n),l)},l.INC2=function(t,e,n){return INC(t,e,n),CHANGE(t),l},l.LASTMODIFICATION=l.USAGE=function(t,e,n,r){return h.usage(t,e,n,r)},l.MAKE=function(t,e,n){return h.make(t,e,n)},l.MODIFIED=function(t){return h.modified(t)},l.NOTMODIFIED=function(t,e,n){},l.MODIFY=function(t,e,n){return h.modify(t,e,n),l},l.OFF=function(t,e,n){return h.off(t,e,n)},l.ON=function(t,e,n,r,i){return h.on(t,e,n,r,i)},l.OPT=function(t,e){return n.isFunction(t)&&(e=t,t={}),e.call(t,function(e,n){return h.set2(t,e,n)}),t},l.PUSH=function(t,e,n,r){var i=typeof n;return"boolean"===i?h.push(t,e,n):!n||n<10||"number"!==i?h.push(t,e,n):(setTimeout(function(){h.push(t,e,r)},n),l)},l.PUSH2=function(t,e,n){return PUSH(t,e,n),CHANGE(t),l},l.RECOMPILE=function(){f&&clearTimeout(f),f=setTimeout(function(){COMPILE(),f=null},700)},l.REMOVECACHE=d.remove,l.RESET=function(t,e,n){return h.reset(t,e,n)},l.REWRITE=function(t,e,n){return h.rewrite(t,e,n)},l.SET=function(t,e,n,r){var i=typeof n;return"boolean"===i?h.setx(t,e,n):!n||n<10||"number"!==i?h.setx(t,e,n):(setTimeout(function(){h.setx(t,e,r)},n),l)},l.SET2=function(t,e,n){return SET(t,e,n),CHANGE(t),l},l.SETR=function(t,e,n){return h.setx(t,e,n),RESET(t),l},l.SKIP=function(){return h.skip.apply(u,arguments)},l.TOGGLE=function(t,e,n){var r=GET(t);return SET(t,!r,e,n),l},l.TOGGLE2=function(t,e){return TOGGLE(t,e),CHANGE(t),l},l.UNWATCH=function(t,e){return h.unwatch(t,e)},l.UPDATE=function(t,e,n){var r=typeof e;return"boolean"===r?h.update(t,e):!e||e<10||"number"!==r?h.update(t,n,e):void setTimeout(function(){h.update(t,n)},e)},l.UPDATE2=function(t,e){return UPDATE(t,e),CHANGE(t),l},l.VBIND=s.vbind,l.VBINDARRAY=s.vbindArray,l.VALIDATE=function(t,e){return h.validate(t,e)},l.VERSION=components.version,l.WATCH=function(t,e,n){return h.watch(t,e,n)},l}),t("skylark-totaljs-jcomponent/main",["./jc","./binding","./components","./langx","./plugins","./stores","./utils","./views","./globals"],function(t){return t}),t("skylark-totaljs-jcomponent",["skylark-totaljs-jcomponent/main"],function(t){return t})}(n),!i){var o=r("skylark-langx/skylark");a?module.exports=o:e.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-totaljs-jcomponent.js.map
