/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-totaljs-jcomponent/
 * @license MIT
 */
define(["./regexp","./now"],function(e,t){var r=/\.\*/,a=/\s/g,s=/[^a-zA-Zá-žÁ-Žа-яА-Я\d\s:]/g,n={225:"a",228:"a",269:"c",271:"d",233:"e",283:"e",357:"t",382:"z",250:"u",367:"u",252:"u",369:"u",237:"i",239:"i",244:"o",243:"o",246:"o",353:"s",318:"l",314:"l",253:"y",255:"y",263:"c",345:"r",341:"r",328:"n",337:"o"},i={url:/^(https?:\/\/(?:www\.|(?!www))[^\s.#!:?+=&@!$'~*,;/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?|www\.[^\s#!:.?+=&@!$'~*,;/()[\]]+\.[^\s#!?+=&@!$'~*,;()[\]\\]{2,}\/?)/i,phone:/^[+]?[(]?[0-9]{3}[)]?[-\s.]?[0-9]{3}[-\s.]?[0-9]{4,6}$/im,email:/^[a-zA-Z0-9-_.+]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i},c=String.prototype;c.trimAll=function(){return this.replace(a,"")},c.ROOT=function(e){var t=this,r=MD.root,a=MD.baseurl,s=/(https|http|wss|ws|file):\/\/|\/\/[a-z0-9]|[a-z]:/i;return r?t=typeof r===TYPE_FN?r(t):s.test(t)?t:r+t:!e&&a&&(t=typeof a===TYPE_FN?a(t):s.test(t)?t:a+t),t.replace(/[^:]\/{2,}/,function(e){return e.substring(0,1)+"/"})},c.replaceWildcard=function(){return this.replace(r,"")},c.parseConfig=c.$config=function(e,t){var r;switch(typeof e){case TYPE_FN:t=e,r={};break;case TYPE_S:r=e.parseConfig();break;case TYPE_O:r=null!=e?e:{};break;default:r={}}for(var a=this.env().replace(/\\;/g,"\0").split(";"),s=/^(-)?[0-9.]+$/,n=/(https|http|wss|ws):\/\//gi,i=0,c=a.length;i<c;i++){var u=a[i].replace(/\0/g,";").replace(/\\:/g,"\0").replace(n,function(e){return e.replace(/:/g,"\0")}).split(":");if(2===u.length){var o=u[0].trim(),h=u[1].trim().replace(/\0/g,":").env();if("true"===h||"false"===h)h="true"===h;else if(s.test(h)){var l=+h;isNaN(l)||(h=l)}r[o]=h,t&&t(o,h)}}return r},c.render=function(e,t){return Tangular.render(this,e,t)},c.isJSONDate=function(){var e=this,t=e.length-1;return t>18&&t<30&&90===e.charCodeAt(t)&&84===e.charCodeAt(10)&&45===e.charCodeAt(4)&&58===e.charCodeAt(13)&&58===e.charCodeAt(16)},c.parseExpire=function(){var e=this.split(" "),t=parseInt(e[0]);if(isNaN(t))return 0;switch(e[1].trim().replace(/\./g,"")){case"minutes":case"minute":case"min":case"mm":case"m":return 6e4*t;case"hours":case"hour":case"HH":case"hh":case"h":case"H":return 36e5*t;case"seconds":case"second":case"sec":case"ss":case"s":return 1e3*t;case"days":case"day":case"DD":case"dd":case"d":return 864e5*t;case"months":case"month":case"MM":case"M":return 24192e5*t;case"weeks":case"week":case"W":case"w":return 6048e5*t;case"years":case"year":case"yyyy":case"yy":case"y":return 31536e6*t;default:return 0}},c.removeDiacritics=function(){for(var e="",t=0,r=this.length;t<r;t++){var a=this[t],s=a.charCodeAt(0),i=!1,c=n[s];void 0===c&&(s=a.toLowerCase().charCodeAt(0),c=n[s],i=!0),void 0!==c?(a=c,e+=i?a.toUpperCase():a):e+=a}return e},c.toSearch=function(){for(var e=this.replace(s,"").trim().toLowerCase().removeDiacritics(),t=[],r="",a=0,n=e.length;a<n;a++){var i=e.substring(a,a+1);"y"===i&&(i="i"),i!==r&&(r=i,t.push(i))}return t.join("")},c.slug=function(e){e=e||60;for(var t=this.trim().toLowerCase().removeDiacritics(),r="",a=t.length,s=0;s<a;s++){var n=t.substring(s,s+1),i=t.charCodeAt(s);if(r.length>=e)break;i>31&&i<48?"-"!==r.substring(r.length-1,r.length)&&(r+="-"):i>47&&i<58?r+=n:i>94&&i<123&&(r+=n)}var c=r.length-1;return"-"===r[c]?r.substring(0,c):r},c.isEmail=function(){return!(this.length<=4)&&i.email.test(this)},c.isPhone=function(){return!(this.length<6)&&i.phone.test(this)},c.isURL=function(){return!(this.length<=7)&&i.url.test(this)},c.parseInt=function(t){var r=this.trim().match(e.int);return r?(r=+r[0],isNaN(r)?t||0:r):t||0},c.parseFloat=function(t){var r=this.trim().match(e.float);return r?(-1!==(r=r[0]).indexOf(",")&&(r=r.replace(",",".")),r=+r,isNaN(r)?t||0:r):t||0},c.padLeft=function(e,t){var r=this.toString();return Array(Math.max(0,e-r.length+1)).join(t||" ")+r},c.padRight=function(e,t){var r=this.toString();return r+Array(Math.max(0,e-r.length+1)).join(t||" ")},c.format=function(){var t=arguments;return this.replace(e.format,function(e){var r=t[+e.substring(1,e.length-1)];return null==r?"":r instanceof Array?r.join(""):r})},c.parseDate=function(){var e=this.trim();if(!e)return null;var r=e.charCodeAt(e.length-1);if(41===r)return new Date(e);if(90===r)return new Date(Date.parse(e));var a=-1===e.indexOf(" ")?e.split("T"):e.split(" "),s=a[0].indexOf(":"),n=a[0].length;if(-1!==s){var i=a[1];a[1]=a[0],a[0]=i}void 0===a[0]&&(a[0]="");for(var c=void 0===a[1]||0===a[1].length,u=0;u<n;u++){var o=a[0].charCodeAt(u);if(!(o>47&&o<58||45===o||46===o)&&c)return new Date(e)}void 0===a[1]&&(a[1]="00:00:00");var h=-1===a[0].indexOf("-"),l=(a[0]||"").split(h?".":"-"),f=(a[1]||"").split(":"),p=[];if(l.length<4&&f.length<2)return new Date(e);-1!==(s=(f[2]||"").indexOf("."))?(f[3]=f[2].substring(s+1),f[2]=f[2].substring(0,s)):f[3]="0",p.push(+l[h?2:0]),p.push(+l[1]),p.push(+l[h?0:2]),p.push(+f[0]),p.push(+f[1]),p.push(+f[2]),p.push(+f[3]);var g=t(!0);for(u=0,n=p.length;u<n;u++){isNaN(p[u])&&(p[u]=0);var v=p[u];if(0===v)switch(u){case 0:v<=0&&(p[u]=g.getFullYear());break;case 1:v<=0&&(p[u]=g.getMonth()+1);break;case 2:v<=0&&(p[u]=g.getDate())}}return new Date(p[0],p[1]-1,p[2],p[3],p[4],p[5])}});
//# sourceMappingURL=../sourcemaps/langx/StringEx.js.map
