/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-totaljs-jcomponent/
 * @license MIT
 */
define(["../topic"],function(e){function t(){var t,n=!1;for(e.each(function(e,l){for(t=0;;){var r=l[t++];if(void 0===r)break;null==r.context||r.context.element&&inDOM(r.context.element[0])||(r.context&&r.context.element&&r.context.element.remove(),r.context.$removed=!0,r.context=null,l.splice(t-1,1),l.length||delete events[e],t-=2,n=!0)}}),t=0;;){if(void 0===(g=watches[t++]))break;null==g.context||g.context.element&&inDOM(g.context.element[0])||(g.context&&g.context.element&&g.context.element.remove(),g.context.$removed=!0,g.context=null,watches.splice(t-1,1),t-=2,n=!0)}for(t=0,length=all.length;t<length;){var l=all[t++];if(l){var r=l.element;l.$removed||!r||!inDOM(r[0])||l.attr(ATTRDEL)?(e.emit("destroy",l.name,l),e.emit("component.destroy",l.name,l),delete statics["$ST_"+l.name],l.destroy&&l.destroy(),$("#css"+l.ID).remove(),"BODY"!==r[0].nodeName&&(r.off(),r.find("*").off(),r.remove()),l.$main=void 0,l.$data=null,l.dom=null,l.$removed=2,l.path=null,l.setter=null,l.setter2=null,l.getter=null,l.getter2=null,l.make=null,t--,all.splice(t,1),length=all.length,n=!0):(l.$parser&&!l.$parser.length&&(l.$parser=void 0),l.$formatter&&!l.$formatter.length&&(l.$formatter=void 0))}else t--,all.splice(t,1),length=all.length}keys=Object.keys(binders);for(var o=0;o<keys.length;o++){arr=binders[keys[o]];for(var a=0;;){var i=arr[a++];if(!i)break;if(!inDOM(i.el[0])){var c=i.el;c[0].$br||(c.off(),c.find("*").off(),c[0].$br=1),a--,arr.splice(a,1)}}arr.length||delete binders[keys[o]]}clear("find");var s=plugins.registry;Object.keys(s).forEach(function(e){var t=s[e];inDOM(t.element[0])&&t.element[0].innerHTML||(t.$remove(),delete s[e])}),W.DATETIME=W.NOW=new Date;var m=W.NOW.getTime(),f=!1,d=!1;for(var v in blocked)blocked[v]<=m&&(delete blocked[v],f=!0);for(var v in MD.localstorage&&f&&!M.isPRIVATEMODE&&localStorage.setItem(M.$localstorage+".blocked",JSON.stringify(blocked)),storage){var g;(!(g=storage[v]).expire||g.expire<=m)&&(delete storage[v],d=!0)}d&&save(),n&&(refresh(),setTimeout(compile,2e3))}return setInterval(function(){t()},3e5),t});
//# sourceMappingURL=../sourcemaps/views/cleaner.js.map
