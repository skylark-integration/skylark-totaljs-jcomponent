/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-totaljs-jcomponent/
 * @license MIT
 */
define(["../langx","./compose","./crawler","./download","./pend"],function(t,e,i,s,n){var r;function c(t){var e=t.$com;t.$jctimeout=0,e.dirty(!1,!0),e.getter(t.value,!0)}return t.Evented.inherit({options:{elmComAttrNames:{base:"data-jc",url:"data-jc-url",removed:"data-jc-removed",released:"data-jc-released",scope:"data-jc-scope"}},_construct:function(t,e){this.is=!1,this.recompile=!1,this.importing=0,this.pending=[],this.init=[],this.imports={},this.ready=[],this.storing=storing(this)},attrcom:function(t){return attrcom(t)},compile:function(c,a){var o=this;if(o.is)o.recompile=!0;else{var h=[];if(W.READY instanceof Array&&h.push.apply(h,W.READY),W.jComponent instanceof Array&&h.push.apply(h,W.jComponent),W.components instanceof Array&&h.push.apply(h,W.components),h.length)for(;;){var d=h.shift();if(!d)break;d()}if(o.is=!0,s(o),o.pending.length)!function(t){o.pending.push(function(){compile(o,t)})}(c);else{if(i(o,c,e),r&&clearTimeout(r),r=setTimeout(function(){for(var t=bindersnew.splice(0),e=0;e<t.length;e++){var i=t[e];i.init||(i.com?i.exec(i.com.data(i.path),i.path):i.exec(getx(i.path),i.path))}},50),o.is=!1,void 0!==c||!toggles.length)return n();t.async(toggles,function(t,e){for(var i=0,s=t.toggle.length;i<s;i++)t.element.tclass(t.toggle[i]);e()},n)}}},refresh:function(){setTimeout2("$refresh",function(){all.sort(function(t,e){if(t.$removed||!t.path)return 1;if(e.$removed||!e.path)return-1;var i=t.path.length,s=e.path.length;return i>s?-1:i===s?LCOMPARER(t.path,e.path):1})},200)},start:function(){var t=$(this.elm);$(document).ready(function(){$ready&&(clearTimeout($ready),load()),t.on("input","input[data-jc-bind],textarea[data-jc-bind]",function(){var t=this.$com;if(t&&!t.$removed&&t.getter&&!1!==this.$jckeypress){if(this.$jcevent=2,void 0===this.$jckeypress){var e=attrcom(this,"keypress");if(e?this.$jckeypress="true"===e:null!=t.config.$realtime?this.$jckeypress=!0===t.config.$realtime:t.config.$binding?this.$jckeypress=1===t.config.$binding:this.$jckeypress=MD.keypress,!1===this.$jckeypress)return}void 0===this.$jcdelay&&(this.$jcdelay=+(attrcom(this,"keypress-delay")||t.config.$delay||MD.delay)),void 0===this.$jconly&&(this.$jconly="true"===attrcom(this,"keypress-only")||!0===t.config.$keypress||2===t.config.$binding),this.$jctimeout&&clearTimeout(this.$jctimeout),this.$jctimeout=setTimeout(c,this.$jcdelay,this)}}),t.on("focus blur","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(t){var e=this.$com;if(e&&!e.$removed&&e.getter)if("focusin"===t.type)this.$jcevent=1;else if(1===this.$jcevent)e.dirty(!1,!0),e.getter(this.value,3);else if(this.$jcskip)this.$jcskip=!1;else{var i=e.$skip;i&&(e.$skip=!1),e.setter(e.get(),e.path,2),i&&(e.$skip=i)}}),t.on("change","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(){var t=this.$com;if(!this.$jconly&&t&&!t.$removed&&t.getter){if(!1===this.$jckeypress)return this.$jcskip=!0,void t.getter(this.value,!1);switch(this.tagName){case"SELECT":var e=this[this.selectedIndex];return this.$jcevent=2,t.dirty(!1,!0),void t.getter(e.value,!1);case"INPUT":if("checkbox"===this.type||"radio"===this.type)return this.$jcevent=2,t.dirty(!1,!0),void t.getter(this.checked,!1)}this.$jctimeout?(t.dirty(!1,!0),t.getter(this.value,!0),clearTimeout(this.$jctimeout),this.$jctimeout=0):(this.$jcskip=!0,t.setter&&t.setterX(t.get(),this.path,2))}}),setTimeout(compile,2),$domready=!0})},end:function(){}})});
//# sourceMappingURL=../sourcemaps/views/View.js.map
