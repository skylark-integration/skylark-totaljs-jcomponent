/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-totaljs-jcomponent/
 * @license MIT
 */
define(["../langx","../utils/domx","./binding","./componenter","./eventer","./compiler","./helper","./scoper","./storing"],function(t,e,i,s,n,r,c,o,a){function h(t){var e=t.$com;t.$jctimeout=0,e.dirty(!1,!0),e.getter(t.value,!0)}return e.Plugin.inherit({options:{elmAttrNames:{scope:"data-scope",bind:"data-bind",store:"data-store",com:{base:"data-com",url:"data-comp-url",removed:"data-com-removed",released:"data-com-released"},compile:"data-compile"}},_construct:function(t,e){this.eventer=n(this),this.scoper=o(this),this.storing=a(this),this.helper=c(this),this.componenter=s(this),this.binding=i(this),this.compiler=r(this)},add:function(t,e){if((e instanceof COM||e instanceof Scope||e instanceof Plugin)&&(e=e.element),t instanceof Array)for(var i=0;i<t.length;i++)ADD(t[i],e);else $(e||document.body).append('<div data-jc="{0}"></div>'.format(t)),setTimeout2("ADD",COMPILE,10)},compile:function(t,e){},refresh:function(){setTimeout2("$refresh",function(){s.components.sort(function(t,e){if(t.$removed||!t.path)return 1;if(e.$removed||!e.path)return-1;var i=t.path.length,s=e.path.length;return i>s?-1:i===s?LCOMPARER(t.path,e.path):1})},200)},start:function(){var t=$(this.elm);$(document).ready(function(){$ready&&(clearTimeout($ready),load()),t.on("input","input[data-jc-bind],textarea[data-jc-bind]",function(){var t=this.$com;if(t&&!t.$removed&&t.getter&&!1!==this.$jckeypress){if(this.$jcevent=2,void 0===this.$jckeypress){var e=attrcom(this,"keypress");if(e?this.$jckeypress="true"===e:null!=t.config.$realtime?this.$jckeypress=!0===t.config.$realtime:t.config.$binding?this.$jckeypress=1===t.config.$binding:this.$jckeypress=MD.keypress,!1===this.$jckeypress)return}void 0===this.$jcdelay&&(this.$jcdelay=+(attrcom(this,"keypress-delay")||t.config.$delay||MD.delay)),void 0===this.$jconly&&(this.$jconly="true"===attrcom(this,"keypress-only")||!0===t.config.$keypress||2===t.config.$binding),this.$jctimeout&&clearTimeout(this.$jctimeout),this.$jctimeout=setTimeout(h,this.$jcdelay,this)}}),t.on("focus blur","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(t){var e=this.$com;if(e&&!e.$removed&&e.getter)if("focusin"===t.type)this.$jcevent=1;else if(1===this.$jcevent)e.dirty(!1,!0),e.getter(this.value,3);else if(this.$jcskip)this.$jcskip=!1;else{var i=e.$skip;i&&(e.$skip=!1),e.setter(e.get(),e.path,2),i&&(e.$skip=i)}}),t.on("change","input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]",function(){var t=this.$com;if(!this.$jconly&&t&&!t.$removed&&t.getter){if(!1===this.$jckeypress)return this.$jcskip=!0,void t.getter(this.value,!1);switch(this.tagName){case"SELECT":var e=this[this.selectedIndex];return this.$jcevent=2,t.dirty(!1,!0),void t.getter(e.value,!1);case"INPUT":if("checkbox"===this.type||"radio"===this.type)return this.$jcevent=2,t.dirty(!1,!0),void t.getter(this.checked,!1)}this.$jctimeout?(t.dirty(!1,!0),t.getter(this.value,!0),clearTimeout(this.$jctimeout),this.$jctimeout=0):(this.$jcskip=!0,t.setter&&t.setterX(t.get(),this.path,2))}}),setTimeout(compile,2),$domready=!0})},end:function(){}})});
//# sourceMappingURL=../sourcemaps/views/View.js.map
