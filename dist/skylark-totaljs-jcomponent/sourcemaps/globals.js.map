{"version":3,"sources":["globals.js"],"names":["define","jc","defaults","langx","utils","plugins","Components","binding","stores","views","W","Window","gv","View","document","body","store","Store","data","gs","storing","mixin","isPRIVATEMODE","isMOBILE","test","navigator","userAgent","isROBOT","isSTANDALONE","standalone","window","matchMedia","matches","isTOUCH","maxTouchPoints","each","MONTHS","DAYS","name1","name2","Object","defineProperty","get","[object Object]","value","blocks","$recompile","cache","cookies","domx","env","http","localStorage","logs","AJAXCONFIG","configure","AJAX","ajax","AJAXCACHE","ajaxCache","AJAXCACHEREVIEW","ajaxCacheReview","clearTimeout2","CACHE","put","CLEARCACHE","clear","CLEARSCHEDULE","schedulers","CLONE","clone","COOKIES","COPY","copy","CSS","style","DEF","EMPTYARRAY","empties","array","EMPTYOBJECT","object","GUID","guid","HASH","hashCode","IMPORTCACHE","importCache","IMPORT","import","MAKEPARAMS","makeParams","MEDIAQUERY","watchMedia","NOOP","fn","PING","ping","READPARAMS","parseQuery","REMOVECACHE","remove","PARSE","parse","setTimeout2","SCHEDULE","schedule","SCROLLBARWIDTH","scrollbarWidth","SINGLETON","singleton","STRINGIFY","stringify","STYLE","UPLOAD","upload","UPTODATE","uptodate","WAIT","wait","ERRORS","paths","errors","WARN","warn","WIDTH","mediaWidth","FN","arrowFn","PLUGIN","register","PLUGINS","registry","ADD","components","add","BLOCKED","blocking","blocked","CACHEPATH","path","expire","rebind","CHANGE","change","CHANGED","COMPILE","container","clearTimeout","compiler","compile","COMPONENT","COMPONENT_CONFIG","configer","COMPONENT_EXTEND","extend","CREATE","create","DEFAULT","timeout","reset","arr","split","REGMETA","length","def","index","indexOf","substring","SET","Function","default","EMIT","name","emit","apply","arguments","EXTEND","t","setTimeout","EXTEND2","type","EVALUATE","expression","nopath","evaluate","FIND","many","noCache","callback","find","FREE","cleaner","GET","scope","pathmaker","RESET","GETR","INC","inc","INC2","LASTMODIFICATION","USAGE","usage","MAKE","obj","update","make","MODIFIED","modified","NOTMODIFIED","fields","MODIFY","modify","OFF","off","ON","init","context","on","OPT","isFunction","call","set2","PUSH","push","PUSH2","RECOMPILE","onlyComponent","REWRITE","rewrite","setx","SET2","SETR","SKIP","skip","TOGGLE","v","TOGGLE2","UNWATCH","unwatch","UPDATE","UPDATE2","VBIND","vbind","VBINDARRAY","vbindArray","VALIDATE","except","validate","VERSION","version","WATCH","watch"],"mappings":"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","file":"../globals.js","sourcesContent":["define([\r\n\t\"./jc\",\r\n\t\"./defaults\",\r\n\t\"./langx\",\r\n\t\"./utils\",\r\n\t\"./plugins\",\r\n\t\"./components\",\r\n\t\"./binding\",\r\n\t\"./stores\",\r\n\t\"./views\"\r\n],function(jc, defaults, langx,utils,plugins,Components,binding,stores,views){\r\n\r\n\tvar W = Window;\r\n\r\n\tvar gv = new views.View(document.body,{\r\n\t\tstore : new stores.Store({\r\n\t\t\t\t\tdata : W\r\n\t\t\t\t})\r\n\t\t}),\r\n\t\tgs = gv.storing;\r\n\r\n\tlangx.mixin(W, {\r\n\t\tisPRIVATEMODE : false,\r\n\t\tisMOBILE : /Mobi/.test(navigator.userAgent),\r\n\t\tisROBOT : navigator.userAgent ? (/search|agent|bot|crawler|spider/i).test(navigator.userAgent) : true,\r\n\t\tisSTANDALONE : navigator.standalone || window.matchMedia('(display-mode: standalone)').matches,\r\n\t\tisTOUCH : !!('ontouchstart' in window || navigator.maxTouchPoints)\r\n\t}); // W.MAIN = W.M = W.jC = W.COM = M = {};\r\n\r\n\t//jc\r\n\tlangx.each({\r\n\t\t\"MONTHS\" : \"months\",\r\n\t\t\"DAYS\" : \"days\"\r\n\t},function(name1,name2){\r\n\t\tObject.defineProperty(W, name1, {\r\n\t\t    get() {\r\n\t\t      return jc[name2];\r\n\t\t    },\r\n\t\t    set(value) {\r\n\t\t    \tjc[name2] = value;\r\n\t\t    }\r\n\t\t});\t\r\n\t});\r\n\r\n\tvar blocks = utils.blocks,\r\n\t\tcache = utils.cache,\r\n\t\tcookies = utils.cookies,\r\n\t\tdomx = utils.domx;\r\n\t\tenv = utils.env,\r\n\t\thttp = utils.http,\r\n\t\tlocalStorage = utils.localStorage,\r\n\t\tlogs = utils.logs;\r\n\r\n\t// langx\r\n\tlangx.mixin(W,{\r\n\t\tAJAXCONFIG: http.configure,\r\n\t\tAJAX: http.ajax,\r\n\t\tAJAXCACHE: http.ajaxCache,\r\n\t\tAJAXCACHEREVIEW: http.ajaxCacheReview,\r\n\r\n\t\tclearTimeout2: langx.clearTimeout2,\r\n\t\tCACHE : cache.put,\r\n\t\tCLEARCACHE : cache.clear,\r\n\t\tCLEARSCHEDULE : schedulers.clear,\r\n\t\tCLONE: langx.clone,\r\n\t\tCOOKIES : cookies,\r\n\t\tCOPY : langx.copy,\r\n\t\tCSS : domx.style,\r\n\r\n\t\tDEF : {},\r\n\r\n\t\tEMPTYARRAY : langx.empties.array,\r\n\t\tEMPTYOBJECT : langx.empties.object,\r\n\r\n\t\tGUID: langx.guid,\r\n\t\tHASH: langx.hashCode,\r\n\r\n\t\tIMPORTCACHE: http.importCache,\r\n\t\tIMPORT: http.import,\r\n\r\n\t\tMAKEPARAMS: http.makeParams,\r\n\t\tMEDIAQUERY : domx.watchMedia,\r\n\r\n\t\tNOOP : langx.empties.fn,\r\n\r\n\t\tPING: http.ping,\r\n\r\n\t\tREADPARAMS: http.parseQuery,\r\n\t\tREMOVECACHE : cache.remove,\r\n\r\n\t\tPARSE: langx.parse,\r\n\r\n\t\tsetTimeout2 : langx.setTimeout2,\r\n\t\tSCHEDULE : schedulers.schedule,\t\r\n\t\tSCROLLBARWIDTH : domx.scrollbarWidth,\r\n\t\tSINGLETON: langx.singleton,\r\n\t\tSTRINGIFY: langx.stringify,\r\n\t\tSTYLE: domx.style,\r\n\r\n\t\tUPLOAD: http.upload,\r\n\t\tUPTODATE: http.uptodate,\r\n\r\n\t\tWAIT : langx.wait,\r\n\r\n\t\tERRORS : paths.errors,\r\n\r\n\t\tWARN : logs.warn,\r\n\r\n\t\tWIDTH : domx.mediaWidth,\r\n\t\t\r\n\r\n\t\tFN : langx.arrowFn\r\n\t});\r\n\r\n\r\n\r\n\t//W.SCHEMA = function(name, declaration) {\r\n\t//\treturn M.schema(name, declaration);\r\n\t//};\r\n\r\n\t// plugins\r\n\tlangx.mixin(W,{\r\n\t\tPLUGIN : plugins.register,\r\n\t\tPLUGINS : plugins.registry\r\n\t});\r\n\r\n\tW.ADD = components.add;\r\n\r\n\tW.BLOCKED  = blocking.blocked;\r\n\t\r\n\tW.CACHEPATH = function (path, expire, rebind) { \r\n\t\treturn gs.cache(path, expire, rebind) ;\r\n\t};\r\n\r\n\tW.CHANGE = function (path, value) {\r\n\t\treturn gs.change(path.value);\r\n\t};\r\n\r\n\tW.CHANGED = function(path) {\r\n\t\treturn gs.change(path);\r\n\t};\r\n\r\n\tW.COMPILE = function(container) {\r\n\t\tclearTimeout($recompile);\r\n\t\treturn compiler.compile(container);\r\n\t};\r\n\r\n\tW.COMPONENT = components.register;\r\n\r\n\tW.COMPONENT_CONFIG = components.configer;\r\n\r\n\tW.COMPONENT_EXTEND = components.extend;\r\n\r\n\tW.CREATE = function(path) {\r\n\t\treturn gs.create(path);\r\n\t}\r\n\r\n\r\n   /**\r\n   * Sets default values for all declared components listen on the path.\r\n   * All components need to have declared data-jc-value=\"VALUE\" attribute. \r\n   * @param  {String} path \r\n   * @param  {Number} delay Optional, default: 0 \r\n   * @param  {Boolean} reset Optional, default: true\r\n   */\r\n\tW.DEFAULT = function (path, timeout, reset) { //\r\n\t\tvar arr = path.split(REGMETA);\r\n\t\tif (arr.length > 1) {\r\n\t\t\tvar def = arr[1];\r\n\t\t\tpath = arr[0];\r\n\t\t\tvar index = path.indexOf('.*');\r\n\t\t\tif (index !== -1)　{\r\n\t\t\t\tpath = path.substring(0, index);\r\n\t\t\t}\r\n\t\t\tSET(path, new Function('return ' + def)(), timeout > 10 ? timeout : 3, timeout > 10 ? 3 : null);\r\n\t\t}\r\n\t\treturn gs.default(arr[0], timeout, null, reset);\r\n\t}\r\n\r\n\tW.EMIT = function(name) {\r\n\t\treturn gs.emit.apply(gs,arguments);\r\n\t};\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.EXTEND = function extend(path, value, timeout, reset) {\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.extend(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.extend(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.extend(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W; \r\n\t}\r\n\r\n   /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.EXTEND2 = function (path, value, type) {\r\n\t\tW.EXTEND(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t}\r\n\r\n\tW.EVALUATE = function (path, expression, nopath) { \r\n\t\treturn gs.evaluate(path, expression, nopath);\r\n\t};\r\n\r\n\tW.FIND = function (value, many, noCache, callback) {  \r\n\t\treturn gs.find(value, many, noCache, callback);\r\n\t};\r\n\r\n\tW.FREE = function(timeout) {\r\n\t\tlangx.setTimeout2('$clean', cleaner, timeout || 10);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Reads a value according to the path.\r\n   * @param  {String} path \r\n   */\r\n\tW.GET = function (path, scope) {\r\n\t\tpath = pathmaker(path);\r\n\t\tif (scope === true) {\r\n\t\t\tscope = null;\r\n\t\t\tRESET(path, true);\r\n\t\t}\r\n\t\treturn gs.get(path, scope); \r\n\t}\r\n\r\n   /**\r\n   * Reads value and resets all components according to the path.\r\n   * @param  {String} path \r\n   */\r\n\tW.GETR = function getr(path) { \r\n\t\treturn GET(path, true);\r\n\t}\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.INC = function (path, value, timeout, reset) {\r\n\r\n\t\tif (value == null) {\r\n\t\t\tvalue = 1;\r\n\t\t}\r\n\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.inc(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.inc(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.inc(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t}\r\n\r\n  /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.INC2 = function (path, value, type) {\r\n\t\tINC(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\t\r\n\r\n\tW.LASTMODIFICATION = W.USAGE = function (name, expire, path, callback) {\r\n\t\treturn gs.usage(name,expire,path,callback);\r\n\t};\r\n\r\n\tW.MAKE = function (obj, fn, update) {\r\n\t\treturn gs.make(obj,fn,update);\r\n\t};\r\n\r\n\tW.MODIFIED = function(path) {\r\n\t\treturn gs.modified(path);\r\n\t};\r\n\r\n\tW.NOTMODIFIED = function(path, value, fields) {\r\n\r\n\t};\t\r\n\r\n   /**\r\n   * Performs SET() and CHANGE() together.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.MODIFY =function (path, value, timeout) {\r\n\t\tgs.modify(path,value,timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.OFF = function(name, path, fn) {\r\n\t\treturn gs.off(name,path,fn);\r\n\t};\t\r\n\r\n\tW.ON = function(name, path, fn, init, context) {\r\n\t\treturn gs.on(name,path,fn,init,context);\r\n\t};\r\n   /**\r\n    * creates an object with more readable properties.\r\n    * @param  {String} obj  \r\n    * @param  {Function} fn A maker\r\n    */\r\n\tW.OPT = function(obj, fn) {\r\n\t\tif (langx.isFunction(obj)) {\r\n\t\t\tfn = obj;\r\n\t\t\tobj = {};\r\n\t\t}\r\n\t\tfn.call(obj, function(path, value) {\r\n\t\t\treturn gs.set2(obj, path, value);\r\n\t\t});\r\n\t\treturn obj;\r\n\t};\r\n\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.PUSH =  function (path, value, timeout, reset) {\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.push(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.push(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.push(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.PUSH2 = function (path, value, type) {\r\n\t\tPUSH(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n\r\n\tvar $recompile;\r\n\r\n\tW.RECOMPILE = function () { \r\n\t\t$recompile && clearTimeout($recompile);\r\n\t\t$recompile = setTimeout(function() {\r\n\t\t\tCOMPILE();\r\n\t\t\t$recompile = null;\r\n\t\t}, 700);\r\n\t};\r\n\r\n\tW.REMOVECACHE = cache.remove;\r\n\r\n\tW.RESET = function(path, timeout, onlyComponent) {\r\n\t\treturn gs.reset(path,timeout,onlyComponent);\r\n\t};\r\n\r\n\tW.REWRITE =\tfunction (path, value, type) {\r\n\t\treturn gs.rewrite(path,value,type);\r\n\t};\r\n\r\n   /**\r\n   * Sets a new value according to the path..\r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} timeout  Optional, value > 10 will be used as delay\r\n   * @param {Boolean} reset Optional  default: false\r\n   */\r\n\tW.SET = function (path, value, timeout, reset) { \r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.setx(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.setx(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.setx(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Sets a new value according to the path and performs CHANGE() for all components \r\n   * which are listening on the path.\r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} type  Optional, value > 10 will be used as delay\r\n   */\r\n\tW.SET2 = function (path, value, type) { \r\n\t\tSET(path, value, type); \r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Sets a new value according to the path and resets the state. \r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} type  Optional, value > 10 will be used as delay\r\n   */\r\n\tW.SETR = function (path, value, type) {\r\n\t\tgs.setx(path, value, type);\r\n\t\tRESET(path); \r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.SKIP = function skip() { \r\n\t\treturn gs.skip.apply(gv,arguments);\r\n\t};\r\n\r\n   /**\r\n   * Performs toggle for the path. A value must be Boolean.\r\n   * @param  {String} path \r\n   * @param  {String/Number} timeout  Optional, value > 10 will be used as delay\r\n   * @param {Boolean} reset Optional  default: false\r\n   */\r\n\tW.TOGGLE = function toggle(path, timeout, reset) { \r\n\t\tvar v = GET(path); \r\n\t\tSET(path, !v, timeout, reset); \r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Performs toggle for the path and performs CHANGE() for all components which are listening on the path.\r\n   * A value must be Boolean.\r\n   * @param  {String} path \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.TOGGLE2 = function (path, type) {\r\n\t\tTOGGLE(path, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.UNWATCH  = function (path, fn) { \r\n\t\treturn gs.unwatch(path, fn) ;\r\n\t};\r\n\r\n\tW.UPDATE = function (path, timeout, reset) {\r\n\t\tvar t = typeof(timeout); \r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.update(path, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.update(path, reset, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.update(path, reset);\r\n\t\t}, timeout);\r\n\t};\r\n\r\n\tW.UPDATE2 = function (path, type) {\r\n\t\tUPDATE(path, type);\r\n\t\tCHANGE(path); \r\n\t\treturn W; \r\n\t};\t\r\n\r\n\tW.VBIND = binding.vbind,\r\n\r\n\tW.VBINDARRAY = binding.vbindArray;\r\n\r\n\tW.VALIDATE = function(path, except) {\r\n\t\treturn gs.validate(path,except);\r\n\t};\r\n\r\n\tW.VERSION = components.version;\r\n\r\n\tW.WATCH\t= function (path, fn, init) { // \r\n\t\treturn gs.watch(path, fn, init);\r\n\t};\r\n\r\n\treturn W;\r\n})"]}