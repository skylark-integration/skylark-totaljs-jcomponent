{"version":3,"sources":["globals.js"],"names":["define","jc","langx","utils","plugins","components","binding","stores","views","schedulers","transforms","$","query","blocks","cache","cookies","domx","envs","http","localStorage","logs","W","window","inited","globals","fn","scope","this","length","data","$scopedata","el","closest","ATTRSCOPE","vbindarray","findinstance","vbind","$recompile","gv","View","document","body","store","Store","gs","storing","gm","helper","componenter","gl","compiler","ge","eventer","start","mixin","isPRIVATEMODE","isMOBILE","test","navigator","userAgent","isROBOT","isSTANDALONE","standalone","matchMedia","matches","isTOUCH","maxTouchPoints","AJAXCONFIG","configure","AJAX","ajax","AJAXCACHE","ajaxCache","AJAXCACHEREVIEW","ajaxCacheReview","clearTimeout2","CACHE","CLEARCACHE","clear","CLEARSCHEDULE","CLONE","clone","ENV","variant","COOKIES","COPY","copy","CSS","style","DEF","EMPTYARRAY","empties","array","EMPTYOBJECT","object","GUID","guid","HASH","hashCode","LCOMPARER","localCompare","IMPORTCACHE","importCache","IMPORT","import","MAKEPARAMS","makeParams","MEDIAQUERY","watchMedia","NOOP","PING","ping","READPARAMS","parseQuery","REMOVECACHE","remove","PARSE","parse","setTimeout2","SCHEDULE","schedule","SCROLLBARWIDTH","scrollbarWidth","SINGLETON","singleton","STRINGIFY","stringify","STYLE","UPLOAD","upload","UPTODATE","uptodate","WAIT","wait","WARN","warn","WIDTH","mediaWidth","FN","arrowFn","PLUGIN","register","PLUGINS","registry","ADD","add","BIND","path","bind","BLOCKED","blocked","CACHEPATH","expire","rebind","CHANGE","value","change","CHANGED","COMPILE","container","clearTimeout","compile","COMPONENT","COMPONENT_CONFIG","configer","COMPONENT_EXTEND","extend","CREATE","create","DEFAULT","timeout","reset","arr","split","def","index","indexOf","substring","SET","Function","default","EMIT","name","emit","apply","arguments","ERRORS","except","highlight","errors","EXTEND","t","setTimeout","EXTEND2","type","EVALUATE","expression","nopath","evaluate","FIND","many","noCache","callback","find","FREE","cleaner","GET","pathmaker","RESET","get","GETR","INC","inc","INC2","LASTMODIFICATION","USAGE","usage","MAKE","obj","update","make","MODIFIED","modified","NOTMODIFIED","fields","MODIFY","modify","NOTIFY","notify","OFF","off","ON","init","context","on","OPT","isFunction","call","set2","PUSH","push","PUSH2","RECOMPILE","onlyComponent","REWRITE","rewrite","setx","SET2","SETR","SETTER","setter","SKIP","skipInc","TOGGLE","v","TOGGLE2","UNWATCH","unwatch","UPDATE","UPDATE2","period","url","condition","dt","Date","topic","now","id","l","location","href","$env","reload","VBIND","VBINDARRAY","vbindArray","VALIDATE","validate","VERSION","versions","set","WATCH","watch"],"mappings":"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","file":"../globals.js","sourcesContent":["define([\r\n\t\"./jc\",\r\n\t\"./langx\",\r\n\t\"./utils\",\r\n\t\"./plugins\",\r\n\t\"./components\",\r\n\t\"./binding\",\r\n\t\"./stores\",\r\n\t\"./views\",\r\n\t\"./others/schedulers\",\r\n\t\"./others/transforms\"\r\n],function(jc, langx,utils,plugins,components,binding,stores,views, schedulers, transforms){\r\n\tvar $ = utils.query,\r\n\t    blocks = utils.blocks,\r\n\t\tcache = utils.cache,\r\n\t\tcookies = utils.cookies,\r\n\t\tdomx = utils.domx;\r\n\t\tenvs = utils.envs,\r\n\t\thttp = utils.http,\r\n\t\tlocalStorage = utils.localStorage,\r\n\t\tlogs = utils.logs;\r\n\t\tW = window,\r\n\t\tinited = false; \r\n\r\n\tfunction init() {\r\n\t\tif (inited) {\r\n\t\t\treturn W;\r\n\t\t}\r\n\r\n\t\t$.fn.scope = function() {\r\n\r\n\t\t\tif (!this.length) {\r\n\t\t\t\treturn null; \r\n\t\t\t}\r\n\r\n\t\t\tvar data = this[0].$scopedata;\r\n\t\t\tif (data) {\r\n\t\t\t\treturn data;\r\n\t\t\t}\r\n\t\t\tvar el = this.closest('[' + ATTRSCOPE + ']');\r\n\t\t\tif (el.length) {\r\n\t\t\t\tdata = el[0].$scopedata;\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\t\r\n\r\n\t\t$.fn.vbindarray = function() {\r\n\t\t\treturn domx.findinstance(this, '$vbindarray');\r\n\t\t};\r\n\r\n\t\t$.fn.vbind = function() {\r\n\t\t\treturn domx.findinstance(this, '$vbind');\r\n\t\t};\r\n\t\t\r\n\r\n\t\tvar gv = new views.View(document.body,{\r\n\t\t\t\tstore : new stores.Store({\r\n\t\t\t\t\t\t\t\tdata : W\r\n\t\t\t\t\t\t\t})\r\n\t\t\t}),\r\n\t\t\tgs = gv.storing,\r\n\t\t\tgh = gv.helper,\r\n\t\t\tgm = gv.componenter,\r\n\t\t\tgl = gv.compiler,\r\n\t\t\tge = gv.eventer;\r\n\r\n\t\tgv.start();\r\n\t\t$.components = gv.components;\r\n\r\n\t\tlangx.mixin(W, {\r\n\t\t\tisPRIVATEMODE : false,\r\n\t\t\tisMOBILE : /Mobi/.test(navigator.userAgent),\r\n\t\t\tisROBOT : navigator.userAgent ? (/search|agent|bot|crawler|spider/i).test(navigator.userAgent) : true,\r\n\t\t\tisSTANDALONE : navigator.standalone || window.matchMedia('(display-mode: standalone)').matches,\r\n\t\t\tisTOUCH : !!('ontouchstart' in window || navigator.maxTouchPoints)\r\n\t\t}); // W.MAIN = W.M = W.jC = W.COM = M = {};\r\n\r\n\t\t//jc\r\n\t\t/*\r\n\t\tlangx.each({\r\n\t\t\t\"MONTHS\" : \"months\",\r\n\t\t\t\"DAYS\" : \"days\"\r\n\t\t},function(name1,name2){\r\n\t\t\tObject.defineProperty(W, name1, {\r\n\t\t\t    get() {\r\n\t\t\t      return jc[name2];\r\n\t\t\t    },\r\n\t\t\t    set(value) {\r\n\t\t\t    \tjc[name2] = value;\r\n\t\t\t    }\r\n\t\t\t});\t\r\n\t\t});\r\n\t\t*/\r\n\r\n\t\t// langx\r\n\t\tlangx.mixin(W,{\r\n\t\t\tAJAXCONFIG: http.configure,\r\n\t\t\tAJAX: http.ajax,\r\n\t\t\tAJAXCACHE: http.ajaxCache,\r\n\t\t\tAJAXCACHEREVIEW: http.ajaxCacheReview,\r\n\r\n\t\t\tclearTimeout2: langx.clearTimeout2,\r\n\t\t\tCACHE : cache,\r\n\t\t\tCLEARCACHE : cache.clear,\r\n\t\t\tCLEARSCHEDULE : schedulers.clear,\r\n\t\t\tCLONE: langx.clone,\r\n\t\t\tENV: envs.variant,\r\n\t\t\tCOOKIES : cookies,\r\n\t\t\tCOPY : langx.copy,\r\n\t\t\tCSS : domx.style,\r\n\r\n\t\t\tDEF : {},\r\n\r\n\t\t\tEMPTYARRAY : langx.empties.array,\r\n\t\t\tEMPTYOBJECT : langx.empties.object,\r\n\r\n\t\t\tGUID: langx.guid,\r\n\t\t\tHASH: langx.hashCode,\r\n\r\n\t\t\tLCOMPARER : langx.localCompare,\r\n\t\t\tIMPORTCACHE: http.importCache,\r\n\t\t\tIMPORT: http.import,\r\n\r\n\t\t\tMAKEPARAMS: http.makeParams,\r\n\t\t\tMEDIAQUERY : domx.watchMedia,\r\n\r\n\t\t\tNOOP : langx.empties.fn,\r\n\r\n\t\t\tPING: http.ping,\r\n\r\n\t\t\tREADPARAMS: http.parseQuery,\r\n\t\t\tREMOVECACHE : cache.remove,\r\n\r\n\t\t\tPARSE: langx.parse,\r\n\r\n\t\t\tsetTimeout2 : langx.setTimeout2,\r\n\t\t\tSCHEDULE : schedulers.schedule,\t\r\n\t\t\tSCROLLBARWIDTH : domx.scrollbarWidth,\r\n\t\t\tSINGLETON: langx.singleton,\r\n\t\t\tSTRINGIFY: langx.stringify,\r\n\t\t\tSTYLE: domx.style,\r\n\r\n\t\t\tUPLOAD: http.upload,\r\n\t\t\tUPTODATE: http.uptodate,\r\n\r\n\t\t\tWAIT : langx.wait,\r\n\r\n\t\t\tWARN : logs.warn,\r\n\r\n\t\t\tWIDTH : domx.mediaWidth,\r\n\t\t\t\r\n\r\n\t\t\tFN : langx.arrowFn\r\n\t\t});\r\n\r\n\r\n\r\n\t\t//W.SCHEMA = function(name, declaration) {\r\n\t\t//\treturn M.schema(name, declaration);\r\n\t\t//};\r\n\r\n\t\t// plugins\r\n\t\tlangx.mixin(W,{\r\n\t\t\tPLUGIN : plugins.register,\r\n\t\t\tPLUGINS : plugins.registry\r\n\t\t});\r\n\r\n\t\tW.ADD = gv.add;\r\n\r\n\t\tW.BIND = function(path) {\r\n\t\t\treturn gs.bind(path);\r\n\t\t};\r\n\r\n\t\tW.BLOCKED  = blocks.blocked;\r\n\t\t\r\n\t\tW.CACHEPATH = function (path, expire, rebind) { \r\n\t\t\treturn gs.cache(path, expire, rebind) ;\r\n\t\t};\r\n\r\n\t\tW.CHANGE = function (path, value) {\r\n\t\t\treturn gs.change(path.value);\r\n\t\t};\r\n\r\n\t\tW.CHANGED = function(path) {\r\n\t\t\treturn gs.change(path);\r\n\t\t};\r\n\r\n\t\tW.COMPILE = function(container) {\r\n\t\t\tclearTimeout($recompile);\r\n\t\t\treturn gl.compile(container);\r\n\t\t};\r\n\r\n\t\tW.COMPONENT = components.register;\r\n\r\n\t\tW.COMPONENT_CONFIG = components.configer;\r\n\r\n\t\tW.COMPONENT_EXTEND = components.extend;\r\n\r\n\t\tW.CREATE = function(path) {\r\n\t\t\treturn gs.create(path);\r\n\t\t}\r\n\r\n\r\n\t   /**\r\n\t   * Sets default values for all declared components listen on the path.\r\n\t   * All components need to have declared data-jc-value=\"VALUE\" attribute. \r\n\t   * @param  {String} path \r\n\t   * @param  {Number} delay Optional, default: 0 \r\n\t   * @param  {Boolean} reset Optional, default: true\r\n\t   */\r\n\t\tW.DEFAULT = function (path, timeout, reset) { //\r\n\t\t\tvar arr = path.split(/_{2,}/);\r\n\t\t\tif (arr.length > 1) {\r\n\t\t\t\tvar def = arr[1];\r\n\t\t\t\tpath = arr[0];\r\n\t\t\t\tvar index = path.indexOf('.*');\r\n\t\t\t\tif (index !== -1)　{\r\n\t\t\t\t\tpath = path.substring(0, index);\r\n\t\t\t\t}\r\n\t\t\t\tSET(path, new Function('return ' + def)(), timeout > 10 ? timeout : 3, timeout > 10 ? 3 : null);\r\n\t\t\t}\r\n\t\t\treturn gs.default(arr[0], timeout, null, reset);\r\n\t\t}\r\n\r\n\t\tW.EMIT = function(name) {\r\n\t\t\treturn ge.emit.apply(gs,arguments);\r\n\t\t};\r\n\r\n\t\tW.ERRORS =\tfunction errors(path, except, highlight) { // \r\n\t\t\treturn gs.errors(path,except,highlight);\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Pushs a new item into the Array according to the path.\r\n\t   * @param  {String} path \r\n\t   * @param  {Object|Array} value.\r\n\t   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n\t   * @param {Boolean} reset Optional\r\n\t   */\r\n\t\tW.EXTEND = function extend(path, value, timeout, reset) {\r\n\t\t\tvar t = typeof(timeout);\r\n\t\t\tif (t === 'boolean') {\r\n\t\t\t\treturn gs.extend(path, value, timeout);\r\n\t\t\t}\r\n\t\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\t\treturn gs.extend(path, value, timeout);\r\n\t\t\t}\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tgs.extend(path, value, reset);\r\n\t\t\t}, timeout);\r\n\t\t\treturn W; \r\n\t\t}\r\n\r\n\t   /**\r\n\t   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n\t   * @param  {String} path \r\n\t   * @param  {Object} value \r\n\t   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n\t   */\r\n\t\tW.EXTEND2 = function (path, value, type) {\r\n\t\t\tW.EXTEND(path, value, type);\r\n\t\t\tCHANGE(path);\r\n\t\t\treturn W;\r\n\t\t}\r\n\r\n\t\tW.EVALUATE = function (path, expression, nopath) { \r\n\t\t\treturn gs.evaluate(path, expression, nopath);\r\n\t\t};\r\n\r\n\r\n\t\tW.FIND = function (value, many, noCache, callback) {  \r\n\t\t\treturn gm.find(value, many, noCache, callback);\r\n\t\t};\r\n\r\n\t\tW.FREE = function(timeout) {\r\n\t\t\tlangx.setTimeout2('$clean', cleaner, timeout || 10);\r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Reads a value according to the path.\r\n\t   * @param  {String} path \r\n\t   */\r\n\t\tW.GET = function (path, scope) {\r\n\t\t\tpath = pathmaker(path);\r\n\t\t\tif (scope === true) {\r\n\t\t\t\tscope = null;\r\n\t\t\t\tRESET(path, true);\r\n\t\t\t}\r\n\t\t\treturn gs.get(path, scope); \r\n\t\t}\r\n\r\n\t   /**\r\n\t   * Reads value and resets all components according to the path.\r\n\t   * @param  {String} path \r\n\t   */\r\n\t\tW.GETR = function getr(path) { \r\n\t\t\treturn GET(path, true);\r\n\t\t}\r\n\r\n\t   /**\r\n\t   * Pushs a new item into the Array according to the path.\r\n\t   * @param  {String} path \r\n\t   * @param  {Object|Array} value.\r\n\t   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n\t   * @param {Boolean} reset Optional\r\n\t   */\r\n\t\tW.INC = function (path, value, timeout, reset) {\r\n\r\n\t\t\tif (value == null) {\r\n\t\t\t\tvalue = 1;\r\n\t\t\t}\r\n\r\n\t\t\tvar t = typeof(timeout);\r\n\t\t\tif (t === 'boolean') {\r\n\t\t\t\treturn gs.inc(path, value, timeout);\r\n\t\t\t}\r\n\t\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\t\treturn gs.inc(path, value, timeout);\r\n\t\t\t}\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tgs.inc(path, value, reset);\r\n\t\t\t}, timeout);\r\n\t\t\treturn W;\r\n\t\t}\r\n\r\n\t  /**\r\n\t   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n\t   * @param  {String} path \r\n\t   * @param  {Object} value \r\n\t   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n\t   */\r\n\t\tW.INC2 = function (path, value, type) {\r\n\t\t\tINC(path, value, type);\r\n\t\t\tCHANGE(path);\r\n\t\t\treturn W;\r\n\t\t};\t\r\n\r\n\t\tW.LASTMODIFICATION = W.USAGE = function (name, expire, path, callback) {\r\n\t\t\treturn gm.usage(name,expire,path,callback);\r\n\t\t};\r\n\r\n\t\tW.MAKE = function (obj, fn, update) {\r\n\t\t\treturn gs.make(obj,fn,update);\r\n\t\t};\r\n\r\n\t\tW.MODIFIED = function(path) {\r\n\t\t\treturn gs.modified(path);\r\n\t\t};\r\n\r\n\t\tW.NOTMODIFIED = function(path, value, fields) {\r\n\r\n\t\t};\t\r\n\r\n\t   /**\r\n\t   * Performs SET() and CHANGE() together.\r\n\t   * @param  {String} path \r\n\t   * @param  {Object|Array} value.\r\n\t   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n\t   * @param {Boolean} reset Optional\r\n\t   */\r\n\t\tW.MODIFY =function (path, value, timeout) {\r\n\t\t\tgs.modify(path,value,timeout);\r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\t\tW.NOTIFY = function() {\r\n\t\t\tgm.notify.apply(gm,arguments);\r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\t\tW.OFF = function(name, path, fn) {\r\n\t\t\treturn ge.off(name,path,fn);\r\n\t\t};\t\r\n\r\n\t\tW.ON = function(name, path, fn, init, context) {\r\n\t\t\treturn ge.on(name,path,fn,init,context);\r\n\t\t};\r\n\t   /**\r\n\t    * creates an object with more readable properties.\r\n\t    * @param  {String} obj  \r\n\t    * @param  {Function} fn A maker\r\n\t    */\r\n\t\tW.OPT = function(obj, fn) {\r\n\t\t\tif (langx.isFunction(obj)) {\r\n\t\t\t\tfn = obj;\r\n\t\t\t\tobj = {};\r\n\t\t\t}\r\n\t\t\tfn.call(obj, function(path, value) {\r\n\t\t\t\treturn gs.set2(obj, path, value);\r\n\t\t\t});\r\n\t\t\treturn obj;\r\n\t\t};\r\n\r\n\r\n\t   /**\r\n\t   * Pushs a new item into the Array according to the path.\r\n\t   * @param  {String} path \r\n\t   * @param  {Object|Array} value.\r\n\t   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n\t   * @param {Boolean} reset Optional\r\n\t   */\r\n\t\tW.PUSH =  function (path, value, timeout, reset) {\r\n\t\t\tvar t = typeof(timeout);\r\n\t\t\tif (t === 'boolean') {\r\n\t\t\t\treturn gs.push(path, value, timeout);\r\n\t\t\t}\r\n\t\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\t\treturn gs.push(path, value, timeout);\r\n\t\t\t}\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tgs.push(path, value, reset);\r\n\t\t\t}, timeout);\r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n\t   * @param  {String} path \r\n\t   * @param  {Object} value \r\n\t   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n\t   */\r\n\t\tW.PUSH2 = function (path, value, type) {\r\n\t\t\tPUSH(path, value, type);\r\n\t\t\tCHANGE(path);\r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\r\n\t\tvar $recompile;\r\n\r\n\t\tW.RECOMPILE = function () { \r\n\t\t\t$recompile && clearTimeout($recompile);\r\n\t\t\t$recompile = setTimeout(function() {\r\n\t\t\t\tCOMPILE();\r\n\t\t\t\t$recompile = null;\r\n\t\t\t}, 700);\r\n\t\t};\r\n\r\n\t\tW.REMOVECACHE = cache.remove;\r\n\r\n\t\tW.RESET = function(path, timeout, onlyComponent) {\r\n\t\t\treturn gs.reset(path,timeout,onlyComponent);\r\n\t\t};\r\n\r\n\t\tW.REWRITE =\tfunction (path, value, type) {\r\n\t\t\treturn gs.rewrite(path,value,type);\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Sets a new value according to the path..\r\n\t   * @param  {String} path \r\n\t   * @param  {Object} value.\r\n\t   * @param  {String/Number} timeout  Optional, value > 10 will be used as delay\r\n\t   * @param {Boolean} reset Optional  default: false\r\n\t   */\r\n\t\tW.SET = function (path, value, timeout, reset) { \r\n\t\t\tvar t = typeof(timeout);\r\n\t\t\tif (t === 'boolean') {\r\n\t\t\t\treturn gs.setx(path, value, timeout);\r\n\t\t\t}\r\n\t\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\t\treturn gs.setx(path, value, timeout);\r\n\t\t\t}\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tgs.setx(path, value, reset);\r\n\t\t\t}, timeout);\r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Sets a new value according to the path and performs CHANGE() for all components \r\n\t   * which are listening on the path.\r\n\t   * @param  {String} path \r\n\t   * @param  {Object} value.\r\n\t   * @param  {String/Number} type  Optional, value > 10 will be used as delay\r\n\t   */\r\n\t\tW.SET2 = function (path, value, type) { \r\n\t\t\tSET(path, value, type); \r\n\t\t\tCHANGE(path);\r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Sets a new value according to the path and resets the state. \r\n\t   * @param  {String} path \r\n\t   * @param  {Object} value.\r\n\t   * @param  {String/Number} type  Optional, value > 10 will be used as delay\r\n\t   */\r\n\t\tW.SETR = function (path, value, type) {\r\n\t\t\tgs.setx(path, value, type);\r\n\t\t\tRESET(path); \r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\r\n\t\tW.SETTER = function () {  \r\n\t\t\treturn gm.setter.apply(gm,arguments);\r\n\t\t};\r\n\r\n\t\tW.SKIP = function () { \r\n\t\t\treturn gs.skipInc.apply(gs,arguments);\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Performs toggle for the path. A value must be Boolean.\r\n\t   * @param  {String} path \r\n\t   * @param  {String/Number} timeout  Optional, value > 10 will be used as delay\r\n\t   * @param {Boolean} reset Optional  default: false\r\n\t   */\r\n\t\tW.TOGGLE = function toggle(path, timeout, reset) { \r\n\t\t\tvar v = GET(path); \r\n\t\t\tSET(path, !v, timeout, reset); \r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Performs toggle for the path and performs CHANGE() for all components which are listening on the path.\r\n\t   * A value must be Boolean.\r\n\t   * @param  {String} path \r\n\t   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n\t   */\r\n\t\tW.TOGGLE2 = function (path, type) {\r\n\t\t\tTOGGLE(path, type);\r\n\t\t\tCHANGE(path);\r\n\t\t\treturn W;\r\n\t\t};\r\n\r\n\t\tW.UNWATCH  = function (path, fn) { \r\n\t\t\treturn gs.unwatch(path, fn) ;\r\n\t\t};\r\n\r\n\t\tW.UPDATE = function (path, timeout, reset) {\r\n\t\t\tvar t = typeof(timeout); \r\n\t\t\tif (t === 'boolean') {\r\n\t\t\t\treturn gs.update(path, timeout);\r\n\t\t\t}\r\n\t\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\t\treturn gs.update(path, reset, timeout);\r\n\t\t\t}\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tgs.update(path, reset);\r\n\t\t\t}, timeout);\r\n\t\t};\r\n\r\n\t\tW.UPDATE2 = function (path, type) {\r\n\t\t\tUPDATE(path, type);\r\n\t\t\tCHANGE(path); \r\n\t\t\treturn W; \r\n\t\t};\t\r\n\r\n\t\tW.UPTODATE =function uptodate(period, url, callback, condition) {   \r\n\r\n\t\t\tif (langx.isFunction(url)) {\r\n\t\t\t\tcondition = callback;\r\n\t\t\t\tcallback = url;\r\n\t\t\t\turl = '';\r\n\t\t\t}\r\n\r\n\t\t\tvar dt = new Date().add(period);\r\n\t\t\ttopic.on('knockknock', function() {\r\n\t\t\t\tif (dt > langx.now()) //W.NOW)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tif (!condition || !condition())\r\n\t\t\t\t\treturn;\r\n\t\t\t\tvar id = setTimeout(function() {\r\n\t\t\t\t\tvar l = window.location;\r\n\t\t\t\t\tif (url)\r\n\t\t\t\t\t\tl.href = url.$env();\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tl.reload(true);\r\n\t\t\t\t}, 5000);\r\n\t\t\t\tcallback && callback(id);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\n\t\tW.VBIND = binding.vbind;\r\n\r\n\t\tW.VBINDARRAY = binding.vbindArray;\r\n\r\n\t\tW.VALIDATE = function(path, except) {\r\n\t\t\treturn gm.validate(path,except);\r\n\t\t};\r\n\r\n\t\tW.VERSION = components.versions.set;\r\n\r\n\t\tW.WATCH\t= function (path, fn, init) { // \r\n\t\t\treturn ge.watch(path, fn, init);\r\n\t\t};\r\n\r\n\t\tinited = true;\r\n\t\treturn W;\r\n\t}\r\n\r\n\treturn jc.globals = init;\r\n})"]}