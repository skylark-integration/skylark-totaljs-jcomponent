{"version":3,"sources":["globals.js"],"names":["define","jc","defaults","env","langx","logs","cookies","caches","plugins","Components","binding","stores","views","$recompile","W","Window","gs","Store","data","gv","View","document","body","store","M","totaljs","isPRIVATEMODE","isMOBILE","test","navigator","userAgent","isROBOT","isSTANDALONE","standalone","window","matchMedia","matches","isTOUCH","maxTouchPoints","each","MONTHS","DAYS","name1","name2","Object","defineProperty","get","[object Object]","value","DEF","ENV","mixin","clearTimeout2","setTimeout2","WAIT","wait","COPY","copy","CLONE","clone","EMPTYARRAY","empties","array","EMPTYOBJECT","object","NOOP","fn","STRINGIFY","stringify","PARSE","parse","HASH","hashCode","GUID","guid","SINGLETON","singleton","WARN","longs","warn","ADD","components","add","FN","arrowFn","MEDIAQUERY","domx","watchMedia","SCROLLBARWIDTH","scrollbarWidth","WIDTH","mediaWidth","CSS","style","STYLE","MAKEPARAMS","http","makeParams","UPLOAD","upload","IMPORTCACHE","importCache","IMPORT","import","UPTODATE","uptodate","PING","ping","READPARAMS","parseQuery","AJAXCONFIG","configure","AJAX","ajax","AJAXCACHE","ajaxCache","AJAXCACHEREVIEW","ajaxCacheReview","CLEARSCHEDULE","schedulers","clear","SCHEDULE","schedule","COOKIES","CACHE","storages","put","CLEARCACHE","clearCache","REMOVECACHE","remove","PLUGIN","register","PLUGINS","registry","COMPONENT","Component","COMPONENT_EXTEND","extend","COMPONENT_CONFIG","SKIP","skip","FIND","find","RESET","reset","LASTMODIFICATION","usage","USAGE","VERSION","version","UNWATCH","paths","unwatch","WATCH","watch","MODIFY","modify","MODIFIED","modified","CACHEPATH","cache","ERRORS","errors","EVALUATE","parsers","evaluate","MAKE","make","REWRITE","rewrite","VALIDATE","validate","BLOCKED","compiler","block","VBIND","binders","vbind","blocking","blocked","rem","localStorage","removeItem","k","$localstorage","this","CHANGE","path","change","CHANGED","COMPILE","container","clearTimeout","compile","configer","CREATE","create","DEFAULT","timeout","arr","split","REGMETA","length","def","index","indexOf","substring","SET","Function","default","EMIT","name","pathing","emit","apply","arguments","EXTEND","t","setTimeout","EXTEND2","type","FREE","cleaner","GET","scope","pathmaker","GETR","INC","inc","INC2","NOTMODIFIED","fields","OFF","off","ON","init","context","on","OPT","obj","isFunction","call","set2","PUSH","push","PUSH2","RECOMPILE","setx","SET2","SETR","TOGGLE","v","TOGGLE2","UPDATE","update","UPDATE2","VBINDARRAY","vbindArray"],"mappings":"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","file":"../globals.js","sourcesContent":["define([\r\n\t\"./jc\",\r\n\t\"./defaults\",\r\n\t\"./utils/env\",\r\n\t\"./langx\",\r\n\t\"./utils/logs\",\r\n\t\"./utils/cookies\",\r\n\t\"./utils/cache\",\r\n\t\"./plugins\",\r\n\t\"./components\",\r\n\t\"./binding\",\r\n\t\"./stores\",\r\n\t\"./views\"\r\n],function(jc, defaults, env,langx,logs,cookies,caches,plugins,Components,binding,stores,views){\r\n\r\n\tvar M = jc,\r\n\t\tW = Window;\r\n\r\n\tvar gs = new stores.Store({\r\n\t\tdata : W\r\n\t});\r\n\r\n\tvar gv = new views.View(document.body,{\r\n\t\tstore : gs\r\n\t});\r\n\r\n\tvar M = totaljs.jc = {\r\n\t\tisPRIVATEMODE : false,\r\n\t\tisMOBILE : /Mobi/.test(navigator.userAgent),\r\n\t\tisROBOT : navigator.userAgent ? (/search|agent|bot|crawler|spider/i).test(navigator.userAgent) : true,\r\n\t\tisSTANDALONE : navigator.standalone || window.matchMedia('(display-mode: standalone)').matches,\r\n\t\tisTOUCH : !!('ontouchstart' in window || navigator.maxTouchPoints)\r\n\t}; // W.MAIN = W.M = W.jC = W.COM = M = {};\r\n\r\n\t//jc\r\n\tlangx.each({\r\n\t\t\"isPRIVATEMODE\" : \"isPRIVATEMODE\",\r\n\t\t\"isMOBILE\" : \"isMOBILE\",\r\n\t\t\"isROBOT\" : \"isROBOT\",\r\n\t\t\"isSTANDALONE\" : \"isSTANDALONE\",\r\n\t\t\"isTOUCH\" : \"isTOUCH\",\r\n\t\t\"MONTHS\" : \"months\",\r\n\t\t\"DAYS\" : \"days\"\r\n\t},function(name1,name2){\r\n\t\tObject.defineProperty(W, name1, {\r\n\t\t    get() {\r\n\t\t      return jc[name2];\r\n\t\t    },\r\n\t\t    set(value) {\r\n\t\t    \tjc[name2] = value;\r\n\t\t    }\r\n\t\t});\t\r\n\t});\r\n\r\n\r\n    // defaults\r\n\tW.DEF = defaults;\r\n\r\n\t// env \r\n\tW.ENV = env;\r\n\r\n\t// langx\r\n\tlangx.mixin(W,{\r\n\t\tclearTimeout2: langx.clearTimeout2,\r\n\t\tsetTimeout2 : langx.setTimeout2,\r\n\t\tWAIT : langx.wait,\r\n\r\n\t\tCOPY : langx.copy,\r\n\t\tCLONE: langx.clone,\r\n\t\tEMPTYARRAY : langx.empties.array,\r\n\t\tEMPTYOBJECT : langx.empties.object,\r\n\t\tNOOP : langx.empties.fn,\r\n\r\n\t\tSTRINGIFY: langx.stringify,\r\n\t\tPARSE: langx.parse,\r\n\t\tHASH: langx.hashCode,\r\n\t\tGUID: langx.guid,\r\n\t\tSINGLETON: langx.singleton,\r\n\r\n\t\tWARN : longs.warn,\r\n\r\n\t\tADD : components.add,\r\n\t\t\r\n\r\n\t\tFN : langx.arrowFn\r\n\t});\r\n\r\n\t//domx\r\n\tlangx.mixin(W,{\r\n\t\tMEDIAQUERY : domx.watchMedia,\r\n\t\tSCROLLBARWIDTH : domx.scrollbarWidth,\r\n\t\tWIDTH : domx.mediaWidth,\r\n\t\tCSS : domx.style,\r\n\t\tSTYLE: domx.style\r\n\t});\r\n\r\n\r\n\t// http\r\n\tlangx.mixin(W,{\r\n\t\tMAKEPARAMS: http.makeParams,\r\n\t\tUPLOAD: http.upload,\r\n\t\tIMPORTCACHE: http.importCache,\r\n\t\tIMPORT: http.import,\r\n\t\tUPTODATE: http.uptodate,\r\n\t\tPING: http.ping,\r\n\t\tREADPARAMS: http.parseQuery,\r\n\t\tAJAXCONFIG: http.configure,\r\n\t\tAJAX: http.ajax,\r\n\t\tAJAXCACHE: http.ajaxCache,\r\n\t\tAJAXCACHEREVIEW: http.ajaxCacheReview\r\n\t});\r\n\r\n\t// schedulers\r\n\tlangx.mixin(W,{\r\n\t\tCLEARSCHEDULE : schedulers.clear,\r\n\t\tSCHEDULE : schedulers.schedule\t\t\r\n\r\n\t});\r\n\r\n\t// cookies\r\n\tW.COOKIES = cookies;\r\n\r\n\t// storages\r\n\tlangx.mixin(W,{\r\n\t\tCACHE : storages.put,\r\n\t\tCLEARCACHE : storages.clearCache,\r\n\t\tREMOVECACHE : storages.remove\r\n\t});\r\n\r\n\r\n\t//W.SCHEMA = function(name, declaration) {\r\n\t//\treturn M.schema(name, declaration);\r\n\t//};\r\n\r\n\t// plugins\r\n\tlangx.mixin(W,{\r\n\t\tPLUGIN : plugins.register,\r\n\t\tPLUGINS : plugins.registry\r\n\t});\r\n\r\n\t// Component\r\n\tlangx.mixin(W,{\r\n\t\tCOMPONENT: Component.register,\r\n\t\tCOMPONENT_EXTEND : Component.extend,\r\n\t\tCOMPONENT_CONFIG : Component.configure,\r\n\t\tSKIP : Component.skip\r\n\t});\r\n\r\n\t// views\r\n\tlangx.mixin(W,{\r\n\t\tFIND: views.find,\r\n\t\tRESET: views.reset,\r\n\t\tLASTMODIFICATION: views.usage,\r\n\t\tUSAGE : views.usage,\r\n\t\tVERSION: Component.version,\r\n\t});\r\n\r\n\t//paths\r\n\tlangx.mixin(W,{\r\n\t\tUNWATCH : paths.unwatch,\r\n\t\tWATCH : paths.watch,\r\n\r\n\r\n\t\tMODIFY: paths.modify,\r\n\t\tMODIFIED : paths.modified,\r\n\r\n\t\tCACHEPATH : paths.cache,\r\n\t\tERRORS : paths.errors,\r\n\t\tEVALUATE : parsers.evaluate,\r\n\t\tMAKE: paths.make,\r\n\t\tREWRITE : paths.rewrite,\r\n\t\tVALIDATE : paths.validate\r\n\t});\r\n\r\n\r\n\r\n\t// views\r\n\tlangx.mixin(W,{\r\n\t\tFIND: views.find,\r\n\t\tRESET: views.reset,\r\n\t\tLASTMODIFICATION: views.usage,\r\n\t\tUSAGE : views.usage,\r\n\t});\r\n\r\n\t// compiler\r\n\tlangx.mixin(W,{\r\n\t\tBLOCKED : compiler.block\r\n\t});\r\n\r\n\r\n//-----------------\r\n\t//plugins\r\n\r\n\tlangx.mixin(W,{\r\n\t\tPLUGINS : plugins.registry\r\n\t});\r\n\r\n\tW.VBIND = binders.vbind,\r\n\r\n\tW.BLOCKED  = blocking.blocked;\r\n\t\r\n\tW.CLEARCACHE = function clearCache() { // \r\n\t\tif (!M.isPRIVATEMODE) { // !W.isPRIVATEMODE\r\n\t\t\tvar rem = localStorage.removeItem;\r\n\t\t\tvar k = $localstorage; //M.$localstorage;\r\n\t\t\trem(k); \r\n\t\t\trem(k + '.cache');\r\n\t\t\trem(k + '.blocked');\r\n\t\t}\r\n\t\treturn this;\r\n\t};\r\n\r\n\tW.CHANGE = function (path, value) {\r\n\t\treturn gv.change(path.value);\r\n\t};\r\n\r\n\tW.CHANGED = function(path) {\r\n\t\treturn gv.change(path);\r\n\t};\r\n\r\n\tW.COMPILE = function(container) {\r\n\t\tclearTimeout($recompile);\r\n\t\treturn compiler.compile(container);\r\n\t};\r\n\r\n\tW.COMPONENT = components.register;\r\n\r\n\tW.COMPONENT_CONFIG = components.configer;\r\n\r\n\tW.COMPONENT_EXTEND = components.extend;\r\n\r\n\tW.CREATE = function(path) {\r\n\t\treturn gv.create(path);\r\n\t}\r\n\r\n\r\n   /**\r\n   * Sets default values for all declared components listen on the path.\r\n   * All components need to have declared data-jc-value=\"VALUE\" attribute. \r\n   * @param  {String} path \r\n   * @param  {Number} delay Optional, default: 0 \r\n   * @param  {Boolean} reset Optional, default: true\r\n   */\r\n\tW.DEFAULT = function (path, timeout, reset) { //\r\n\t\tvar arr = path.split(REGMETA);\r\n\t\tif (arr.length > 1) {\r\n\t\t\tvar def = arr[1];\r\n\t\t\tpath = arr[0];\r\n\t\t\tvar index = path.indexOf('.*');\r\n\t\t\tif (index !== -1)　{\r\n\t\t\t\tpath = path.substring(0, index);\r\n\t\t\t}\r\n\t\t\tSET(path, new Function('return ' + def)(), timeout > 10 ? timeout : 3, timeout > 10 ? 3 : null);\r\n\t\t}\r\n\t\treturn gv.default(arr[0], timeout, null, reset);\r\n\t}\r\n\r\n\tW.EMIT = function(name) {\r\n\t\treturn gv.pathing.emit.apply(gv.pathing,arguments);\r\n\t};\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.EXTEND = function extend(path, value, timeout, reset) {\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gv.extend(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gv.extend(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgv.extend(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W; \r\n\t}\r\n\r\n   /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.EXTEND2 = function (path, value, type) {\r\n\t\tW.EXTEND(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t}\r\n\r\n\r\n\tW.FREE = function(timeout) {\r\n\t\tlangx.setTimeout2('$clean', cleaner, timeout || 10);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Reads a value according to the path.\r\n   * @param  {String} path \r\n   */\r\n\tW.GET = function (path, scope) {\r\n\t\tpath = pathmaker(path);\r\n\t\tif (scope === true) {\r\n\t\t\tscope = null;\r\n\t\t\tRESET(path, true);\r\n\t\t}\r\n\t\treturn gv.get(path, scope); \r\n\t}\r\n\r\n   /**\r\n   * Reads value and resets all components according to the path.\r\n   * @param  {String} path \r\n   */\r\n\tW.GETR = function getr(path) { \r\n\t\treturn GET(path, true);\r\n\t}\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.INC = function (path, value, timeout, reset) {\r\n\r\n\t\tif (value == null) {\r\n\t\t\tvalue = 1;\r\n\t\t}\r\n\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gv.inc(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gv.inc(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgv.inc(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t}\r\n\r\n  /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.INC2 = function (path, value, type) {\r\n\t\tINC(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t}\t\r\n\r\n\tW.MODIFIED = function(path) {\r\n\t\treturn gv.modified(path);\r\n\t};\r\n\r\n\tW.NOTMODIFIED = function(path, value, fields) {\r\n\r\n\t};\t\r\n\r\n   /**\r\n   * Performs SET() and CHANGE() together.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.MODIFY =function (path, value, timeout) {\r\n\t\tgv.modify(path,value,timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.OFF = function(name, path, fn) {\r\n\t\treturn gv.pathing.off(name,path,fn);\r\n\t};\t\r\n\r\n\tW.ON = function(name, path, fn, init, context) {\r\n\t\treturn gv.pathing.on(name,path,fn,init,context);\r\n\t};\r\n   /**\r\n    * creates an object with more readable properties.\r\n    * @param  {String} obj  \r\n    * @param  {Function} fn A maker\r\n    */\r\n\tW.OPT = function(obj, fn) {\r\n\t\tif (langx.isFunction(obj)) {\r\n\t\t\tfn = obj;\r\n\t\t\tobj = {};\r\n\t\t}\r\n\t\tfn.call(obj, function(path, value) {\r\n\t\t\treturn gv.set2(obj, path, value);\r\n\t\t});\r\n\t\treturn obj;\r\n\t};\r\n\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.PUSH =  function (path, value, timeout, reset) {\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gv.push(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gv.push(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgv.push(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.PUSH2 = function (path, value, type) {\r\n\t\tPUSH(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n\r\n\tvar $recompile;\r\n\r\n\tW.RECOMPILE = function () { \r\n\t\t$recompile && clearTimeout($recompile);\r\n\t\t$recompile = setTimeout(function() {\r\n\t\t\tCOMPILE();\r\n\t\t\t$recompile = null;\r\n\t\t}, 700);\r\n\t};\r\n\r\n\tW.REMOVECACHE = cache.remove;\r\n\r\n   /**\r\n   * Sets a new value according to the path..\r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} timeout  Optional, value > 10 will be used as delay\r\n   * @param {Boolean} reset Optional  default: false\r\n   */\r\n\tW.SET = function (path, value, timeout, reset) { \r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gv.setx(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gv.setx(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgv.setx(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Sets a new value according to the path and performs CHANGE() for all components \r\n   * which are listening on the path.\r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} type  Optional, value > 10 will be used as delay\r\n   */\r\n\tW.SET2 = function (path, value, type) { \r\n\t\tSET(path, value, type); \r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Sets a new value according to the path and resets the state. \r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} type  Optional, value > 10 will be used as delay\r\n   */\r\n\tW.SETR = function (path, value, type) {\r\n\t\tgv.setx(path, value, type);\r\n\t\tRESET(path); \r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Performs toggle for the path. A value must be Boolean.\r\n   * @param  {String} path \r\n   * @param  {String/Number} timeout  Optional, value > 10 will be used as delay\r\n   * @param {Boolean} reset Optional  default: false\r\n   */\r\n\tW.TOGGLE = function toggle(path, timeout, reset) { \r\n\t\tvar v = GET(path); \r\n\t\tSET(path, !v, timeout, reset); \r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Performs toggle for the path and performs CHANGE() for all components which are listening on the path.\r\n   * A value must be Boolean.\r\n   * @param  {String} path \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.TOGGLE2 = function (path, type) {\r\n\t\tTOGGLE(path, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.UPDATE = function (path, timeout, reset) {\r\n\t\tvar t = typeof(timeout); \r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gv.update(path, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gv.update(path, reset, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgv.update(path, reset);\r\n\t\t}, timeout);\r\n\t};\r\n\r\n\tW.UPDATE2 = function (path, type) {\r\n\t\tUPDATE(path, type);\r\n\t\tCHANGE(path); \r\n\t\treturn W; \r\n\t};\t\r\n\r\n\tW.VBINDARRAY = binding.vbindArray;\r\n\r\n\treturn W;\r\n})"]}