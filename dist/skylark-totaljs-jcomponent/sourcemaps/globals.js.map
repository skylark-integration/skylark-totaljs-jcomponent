{"version":3,"sources":["globals.js"],"names":["define","jc","defaults","langx","utils","plugins","Components","binding","stores","views","$","fn","scope","this","length","data","$scopedata","el","closest","ATTRSCOPE","W","Window","gv","View","document","body","store","Store","gs","storing","gm","helper","composer","ge","compiler","eventer","components","mixin","isPRIVATEMODE","isMOBILE","test","navigator","userAgent","isROBOT","isSTANDALONE","standalone","window","matchMedia","matches","isTOUCH","maxTouchPoints","each","MONTHS","DAYS","name1","name2","Object","defineProperty","get","[object Object]","value","blocks","$recompile","cache","cookies","domx","env","http","localStorage","logs","AJAXCONFIG","configure","AJAX","ajax","AJAXCACHE","ajaxCache","AJAXCACHEREVIEW","ajaxCacheReview","clearTimeout2","CACHE","put","CLEARCACHE","clear","CLEARSCHEDULE","schedulers","CLONE","clone","COOKIES","COPY","copy","CSS","style","DEF","EMPTYARRAY","empties","array","EMPTYOBJECT","object","GUID","guid","HASH","hashCode","IMPORTCACHE","importCache","IMPORT","import","MAKEPARAMS","makeParams","MEDIAQUERY","watchMedia","NOOP","PING","ping","READPARAMS","parseQuery","REMOVECACHE","remove","PARSE","parse","setTimeout2","SCHEDULE","schedule","SCROLLBARWIDTH","scrollbarWidth","SINGLETON","singleton","STRINGIFY","stringify","STYLE","UPLOAD","upload","UPTODATE","uptodate","WAIT","wait","ERRORS","paths","errors","WARN","warn","WIDTH","mediaWidth","FN","arrowFn","PLUGIN","register","PLUGINS","registry","ADD","add","BLOCKED","blocking","blocked","CACHEPATH","path","expire","rebind","CHANGE","change","CHANGED","COMPILE","container","clearTimeout","compile","COMPONENT","COMPONENT_CONFIG","configer","COMPONENT_EXTEND","extend","CREATE","create","DEFAULT","timeout","reset","arr","split","def","index","indexOf","substring","SET","Function","default","EMIT","name","emit","apply","arguments","EXTEND","t","setTimeout","EXTEND2","type","EVALUATE","expression","nopath","evaluate","FIND","many","noCache","callback","find","FREE","cleaner","GET","pathmaker","RESET","GETR","INC","inc","INC2","LASTMODIFICATION","USAGE","usage","MAKE","obj","update","make","MODIFIED","modified","NOTMODIFIED","fields","MODIFY","modify","NOTIFY","notify","OFF","off","ON","init","context","on","OPT","isFunction","call","set2","PUSH","push","PUSH2","RECOMPILE","onlyComponent","REWRITE","rewrite","setx","SET2","SETR","SKIP","skip","TOGGLE","v","TOGGLE2","UNWATCH","unwatch","UPDATE","UPDATE2","VBIND","vbind","VBINDARRAY","vbindArray","VALIDATE","except","validate","VERSION","version","WATCH","watch"],"mappings":"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","file":"../globals.js","sourcesContent":["define([\r\n\t\"./jc\",\r\n\t\"./defaults\",\r\n\t\"./langx\",\r\n\t\"./utils\",\r\n\t\"./plugins\",\r\n\t\"./components\",\r\n\t\"./binding\",\r\n\t\"./stores\",\r\n\t\"./views\"\r\n],function(jc, defaults, langx,utils,plugins,Components,binding,stores,views){\r\n\r\n\t$.fn.scope = function() {\r\n\r\n\t\tif (!this.length) {\r\n\t\t\treturn null; \r\n\t\t}\r\n\r\n\t\tvar data = this[0].$scopedata;\r\n\t\tif (data) {\r\n\t\t\treturn data;\r\n\t\t}\r\n\t\tvar el = this.closest('[' + ATTRSCOPE + ']');\r\n\t\tif (el.length) {\r\n\t\t\tdata = el[0].$scopedata;\r\n\t\t\tif (data) {\r\n\t\t\t\treturn data;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t};\t\r\n\r\n\r\n\tvar W = Window;\r\n\r\n\tvar gv = new views.View(document.body,{\r\n\t\t\tstore : new stores.Store({\r\n\t\t\t\t\t\t\tdata : W\r\n\t\t\t\t\t\t})\r\n\t\t}),\r\n\t\tgs = gv.storing,\r\n\t\tgh = gv.helper,\r\n\t\tgm = gv.composer,\r\n\t\tgl = gv.compiler,\r\n\t\tge = gv.eventer;\r\n\r\n\t$.components = gv.components;\r\n\r\n\tlangx.mixin(W, {\r\n\t\tisPRIVATEMODE : false,\r\n\t\tisMOBILE : /Mobi/.test(navigator.userAgent),\r\n\t\tisROBOT : navigator.userAgent ? (/search|agent|bot|crawler|spider/i).test(navigator.userAgent) : true,\r\n\t\tisSTANDALONE : navigator.standalone || window.matchMedia('(display-mode: standalone)').matches,\r\n\t\tisTOUCH : !!('ontouchstart' in window || navigator.maxTouchPoints)\r\n\t}); // W.MAIN = W.M = W.jC = W.COM = M = {};\r\n\r\n\t//jc\r\n\tlangx.each({\r\n\t\t\"MONTHS\" : \"months\",\r\n\t\t\"DAYS\" : \"days\"\r\n\t},function(name1,name2){\r\n\t\tObject.defineProperty(W, name1, {\r\n\t\t    get() {\r\n\t\t      return jc[name2];\r\n\t\t    },\r\n\t\t    set(value) {\r\n\t\t    \tjc[name2] = value;\r\n\t\t    }\r\n\t\t});\t\r\n\t});\r\n\r\n\tvar blocks = utils.blocks,\r\n\t\tcache = utils.cache,\r\n\t\tcookies = utils.cookies,\r\n\t\tdomx = utils.domx;\r\n\t\tenv = utils.env,\r\n\t\thttp = utils.http,\r\n\t\tlocalStorage = utils.localStorage,\r\n\t\tlogs = utils.logs;\r\n\r\n\t// langx\r\n\tlangx.mixin(W,{\r\n\t\tAJAXCONFIG: http.configure,\r\n\t\tAJAX: http.ajax,\r\n\t\tAJAXCACHE: http.ajaxCache,\r\n\t\tAJAXCACHEREVIEW: http.ajaxCacheReview,\r\n\r\n\t\tclearTimeout2: langx.clearTimeout2,\r\n\t\tCACHE : cache.put,\r\n\t\tCLEARCACHE : cache.clear,\r\n\t\tCLEARSCHEDULE : schedulers.clear,\r\n\t\tCLONE: langx.clone,\r\n\t\tCOOKIES : cookies,\r\n\t\tCOPY : langx.copy,\r\n\t\tCSS : domx.style,\r\n\r\n\t\tDEF : {},\r\n\r\n\t\tEMPTYARRAY : langx.empties.array,\r\n\t\tEMPTYOBJECT : langx.empties.object,\r\n\r\n\t\tGUID: langx.guid,\r\n\t\tHASH: langx.hashCode,\r\n\r\n\t\tIMPORTCACHE: http.importCache,\r\n\t\tIMPORT: http.import,\r\n\r\n\t\tMAKEPARAMS: http.makeParams,\r\n\t\tMEDIAQUERY : domx.watchMedia,\r\n\r\n\t\tNOOP : langx.empties.fn,\r\n\r\n\t\tPING: http.ping,\r\n\r\n\t\tREADPARAMS: http.parseQuery,\r\n\t\tREMOVECACHE : cache.remove,\r\n\r\n\t\tPARSE: langx.parse,\r\n\r\n\t\tsetTimeout2 : langx.setTimeout2,\r\n\t\tSCHEDULE : schedulers.schedule,\t\r\n\t\tSCROLLBARWIDTH : domx.scrollbarWidth,\r\n\t\tSINGLETON: langx.singleton,\r\n\t\tSTRINGIFY: langx.stringify,\r\n\t\tSTYLE: domx.style,\r\n\r\n\t\tUPLOAD: http.upload,\r\n\t\tUPTODATE: http.uptodate,\r\n\r\n\t\tWAIT : langx.wait,\r\n\r\n\t\tERRORS : paths.errors,\r\n\r\n\t\tWARN : logs.warn,\r\n\r\n\t\tWIDTH : domx.mediaWidth,\r\n\t\t\r\n\r\n\t\tFN : langx.arrowFn\r\n\t});\r\n\r\n\r\n\r\n\t//W.SCHEMA = function(name, declaration) {\r\n\t//\treturn M.schema(name, declaration);\r\n\t//};\r\n\r\n\t// plugins\r\n\tlangx.mixin(W,{\r\n\t\tPLUGIN : plugins.register,\r\n\t\tPLUGINS : plugins.registry\r\n\t});\r\n\r\n\tW.ADD = gv.add;\r\n\r\n\tW.BLOCKED  = blocking.blocked;\r\n\t\r\n\tW.CACHEPATH = function (path, expire, rebind) { \r\n\t\treturn gs.cache(path, expire, rebind) ;\r\n\t};\r\n\r\n\tW.CHANGE = function (path, value) {\r\n\t\treturn gs.change(path.value);\r\n\t};\r\n\r\n\tW.CHANGED = function(path) {\r\n\t\treturn gs.change(path);\r\n\t};\r\n\r\n\tW.COMPILE = function(container) {\r\n\t\tclearTimeout($recompile);\r\n\t\treturn compiler.compile(container);\r\n\t};\r\n\r\n\tW.COMPONENT = components.register;\r\n\r\n\tW.COMPONENT_CONFIG = components.configer;\r\n\r\n\tW.COMPONENT_EXTEND = components.extend;\r\n\r\n\tW.CREATE = function(path) {\r\n\t\treturn gs.create(path);\r\n\t}\r\n\r\n\r\n   /**\r\n   * Sets default values for all declared components listen on the path.\r\n   * All components need to have declared data-jc-value=\"VALUE\" attribute. \r\n   * @param  {String} path \r\n   * @param  {Number} delay Optional, default: 0 \r\n   * @param  {Boolean} reset Optional, default: true\r\n   */\r\n\tW.DEFAULT = function (path, timeout, reset) { //\r\n\t\tvar arr = path.split(/_{2,}/);\r\n\t\tif (arr.length > 1) {\r\n\t\t\tvar def = arr[1];\r\n\t\t\tpath = arr[0];\r\n\t\t\tvar index = path.indexOf('.*');\r\n\t\t\tif (index !== -1)　{\r\n\t\t\t\tpath = path.substring(0, index);\r\n\t\t\t}\r\n\t\t\tSET(path, new Function('return ' + def)(), timeout > 10 ? timeout : 3, timeout > 10 ? 3 : null);\r\n\t\t}\r\n\t\treturn gs.default(arr[0], timeout, null, reset);\r\n\t}\r\n\r\n\tW.EMIT = function(name) {\r\n\t\treturn ge.emit.apply(gs,arguments);\r\n\t};\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.EXTEND = function extend(path, value, timeout, reset) {\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.extend(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.extend(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.extend(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W; \r\n\t}\r\n\r\n   /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.EXTEND2 = function (path, value, type) {\r\n\t\tW.EXTEND(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t}\r\n\r\n\tW.EVALUATE = function (path, expression, nopath) { \r\n\t\treturn gs.evaluate(path, expression, nopath);\r\n\t};\r\n\r\n\r\n\tW.FIND = function (value, many, noCache, callback) {  \r\n\t\treturn gm.find(value, many, noCache, callback);\r\n\t};\r\n\r\n\tW.FREE = function(timeout) {\r\n\t\tlangx.setTimeout2('$clean', cleaner, timeout || 10);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Reads a value according to the path.\r\n   * @param  {String} path \r\n   */\r\n\tW.GET = function (path, scope) {\r\n\t\tpath = pathmaker(path);\r\n\t\tif (scope === true) {\r\n\t\t\tscope = null;\r\n\t\t\tRESET(path, true);\r\n\t\t}\r\n\t\treturn gs.get(path, scope); \r\n\t}\r\n\r\n   /**\r\n   * Reads value and resets all components according to the path.\r\n   * @param  {String} path \r\n   */\r\n\tW.GETR = function getr(path) { \r\n\t\treturn GET(path, true);\r\n\t}\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.INC = function (path, value, timeout, reset) {\r\n\r\n\t\tif (value == null) {\r\n\t\t\tvalue = 1;\r\n\t\t}\r\n\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.inc(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.inc(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.inc(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t}\r\n\r\n  /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.INC2 = function (path, value, type) {\r\n\t\tINC(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\t\r\n\r\n\tW.LASTMODIFICATION = W.USAGE = function (name, expire, path, callback) {\r\n\t\treturn gm.usage(name,expire,path,callback);\r\n\t};\r\n\r\n\tW.MAKE = function (obj, fn, update) {\r\n\t\treturn gs.make(obj,fn,update);\r\n\t};\r\n\r\n\tW.MODIFIED = function(path) {\r\n\t\treturn gs.modified(path);\r\n\t};\r\n\r\n\tW.NOTMODIFIED = function(path, value, fields) {\r\n\r\n\t};\t\r\n\r\n   /**\r\n   * Performs SET() and CHANGE() together.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.MODIFY =function (path, value, timeout) {\r\n\t\tgs.modify(path,value,timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.NOTIFY = function() {\r\n\t\tgm.notify.apply(gm,arguments);\r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.OFF = function(name, path, fn) {\r\n\t\treturn ge.off(name,path,fn);\r\n\t};\t\r\n\r\n\tW.ON = function(name, path, fn, init, context) {\r\n\t\treturn ge.on(name,path,fn,init,context);\r\n\t};\r\n   /**\r\n    * creates an object with more readable properties.\r\n    * @param  {String} obj  \r\n    * @param  {Function} fn A maker\r\n    */\r\n\tW.OPT = function(obj, fn) {\r\n\t\tif (langx.isFunction(obj)) {\r\n\t\t\tfn = obj;\r\n\t\t\tobj = {};\r\n\t\t}\r\n\t\tfn.call(obj, function(path, value) {\r\n\t\t\treturn gs.set2(obj, path, value);\r\n\t\t});\r\n\t\treturn obj;\r\n\t};\r\n\r\n\r\n   /**\r\n   * Pushs a new item into the Array according to the path.\r\n   * @param  {String} path \r\n   * @param  {Object|Array} value.\r\n   * @param  {String/Number} timeout  Optional, \"value > 10\" will be used as delay\r\n   * @param {Boolean} reset Optional\r\n   */\r\n\tW.PUSH =  function (path, value, timeout, reset) {\r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.push(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.push(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.push(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Extends a path by adding/rewrite new fields with new values and performs CHANGE().\r\n   * @param  {String} path \r\n   * @param  {Object} value \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.PUSH2 = function (path, value, type) {\r\n\t\tPUSH(path, value, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n\r\n\tvar $recompile;\r\n\r\n\tW.RECOMPILE = function () { \r\n\t\t$recompile && clearTimeout($recompile);\r\n\t\t$recompile = setTimeout(function() {\r\n\t\t\tCOMPILE();\r\n\t\t\t$recompile = null;\r\n\t\t}, 700);\r\n\t};\r\n\r\n\tW.REMOVECACHE = cache.remove;\r\n\r\n\tW.RESET = function(path, timeout, onlyComponent) {\r\n\t\treturn gs.reset(path,timeout,onlyComponent);\r\n\t};\r\n\r\n\tW.REWRITE =\tfunction (path, value, type) {\r\n\t\treturn gs.rewrite(path,value,type);\r\n\t};\r\n\r\n   /**\r\n   * Sets a new value according to the path..\r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} timeout  Optional, value > 10 will be used as delay\r\n   * @param {Boolean} reset Optional  default: false\r\n   */\r\n\tW.SET = function (path, value, timeout, reset) { \r\n\t\tvar t = typeof(timeout);\r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.setx(path, value, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.setx(path, value, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.setx(path, value, reset);\r\n\t\t}, timeout);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Sets a new value according to the path and performs CHANGE() for all components \r\n   * which are listening on the path.\r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} type  Optional, value > 10 will be used as delay\r\n   */\r\n\tW.SET2 = function (path, value, type) { \r\n\t\tSET(path, value, type); \r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Sets a new value according to the path and resets the state. \r\n   * @param  {String} path \r\n   * @param  {Object} value.\r\n   * @param  {String/Number} type  Optional, value > 10 will be used as delay\r\n   */\r\n\tW.SETR = function (path, value, type) {\r\n\t\tgs.setx(path, value, type);\r\n\t\tRESET(path); \r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.SKIP = function skip() { \r\n\t\treturn gs.skip.apply(gv,arguments);\r\n\t};\r\n\r\n   /**\r\n   * Performs toggle for the path. A value must be Boolean.\r\n   * @param  {String} path \r\n   * @param  {String/Number} timeout  Optional, value > 10 will be used as delay\r\n   * @param {Boolean} reset Optional  default: false\r\n   */\r\n\tW.TOGGLE = function toggle(path, timeout, reset) { \r\n\t\tvar v = GET(path); \r\n\t\tSET(path, !v, timeout, reset); \r\n\t\treturn W;\r\n\t};\r\n\r\n   /**\r\n   * Performs toggle for the path and performs CHANGE() for all components which are listening on the path.\r\n   * A value must be Boolean.\r\n   * @param  {String} path \r\n   * @param {String|Number} type  Optional, \"value > 10\" will be used as timeout\r\n   */\r\n\tW.TOGGLE2 = function (path, type) {\r\n\t\tTOGGLE(path, type);\r\n\t\tCHANGE(path);\r\n\t\treturn W;\r\n\t};\r\n\r\n\tW.UNWATCH  = function (path, fn) { \r\n\t\treturn gs.unwatch(path, fn) ;\r\n\t};\r\n\r\n\tW.UPDATE = function (path, timeout, reset) {\r\n\t\tvar t = typeof(timeout); \r\n\t\tif (t === 'boolean') {\r\n\t\t\treturn gs.update(path, timeout);\r\n\t\t}\r\n\t\tif (!timeout || timeout < 10 || t !== 'number') {\r\n\t\t\treturn gs.update(path, reset, timeout);\r\n\t\t}\r\n\t\tsetTimeout(function() {\r\n\t\t\tgs.update(path, reset);\r\n\t\t}, timeout);\r\n\t};\r\n\r\n\tW.UPDATE2 = function (path, type) {\r\n\t\tUPDATE(path, type);\r\n\t\tCHANGE(path); \r\n\t\treturn W; \r\n\t};\t\r\n\r\n\tW.VBIND = binding.vbind,\r\n\r\n\tW.VBINDARRAY = binding.vbindArray;\r\n\r\n\tW.VALIDATE = function(path, except) {\r\n\t\treturn gm.validate(path,except);\r\n\t};\r\n\r\n\tW.VERSION = components.version;\r\n\r\n\tW.WATCH\t= function (path, fn, init) { // \r\n\t\treturn ge.watch(path, fn, init);\r\n\t};\r\n\r\n\treturn W;\r\n})"]}