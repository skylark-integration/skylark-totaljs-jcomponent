{"version":3,"sources":["components/prepare.js"],"names":["define"],"mappings":";;;;;;;AAAAA,UAAU","file":"../../components/prepare.js","sourcesContent":["define([],function(){\r\n\tfunction prepare(obj) {\r\n\r\n\t\tif (!obj) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar el = obj.element;\r\n\r\n\t\textensions[obj.name] && extensions[obj.name].forEach(function(item) {\r\n\t\t\titem.config && obj.reconfigure(item.config, NOOP);\r\n\t\t\titem.fn.call(obj, obj, obj.config);\r\n\t\t});\r\n\r\n\t\tvar value = obj.get();\r\n\t\tvar tmp;\r\n\r\n\t\tobj.configure && obj.reconfigure(obj.config, undefined, true);\r\n\t\tobj.$loaded = true;\r\n\r\n\t\tif (obj.setter) {\r\n\t\t\tif (!obj.$prepared) {\r\n\r\n\t\t\t\tobj.$prepared = true;\r\n\t\t\t\tobj.$ready = true;\r\n\r\n\t\t\t\ttmp = attrcom(obj, 'value');\r\n\r\n\t\t\t\tif (tmp) {\r\n\t\t\t\t\tif (!defaults[tmp])\r\n\t\t\t\t\t\tdefaults[tmp] = new Function('return ' + tmp);\r\n\t\t\t\t\tobj.$default = defaults[tmp];\r\n\t\t\t\t\tif (value === undefined) {\r\n\t\t\t\t\t\tvalue = obj.$default();\r\n\t\t\t\t\t\tset(obj.path, value);\r\n\t\t\t\t\t\temitwatch(obj.path, value, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.$binded)\r\n\t\t\t\t\tobj.$interaction(0);\r\n\t\t\t\telse {\r\n\t\t\t\t\tobj.$binded = true;\r\n\t\t\t\t\tobj.setterX(value, obj.path, 0);\r\n\t\t\t\t\tobj.$interaction(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tobj.$binded = true;\r\n\t\t}\r\n\r\n\t\tif (obj.validate && !obj.$valid_disabled) {\r\n\t\t\tobj.$valid = obj.validate(obj.get(), true);\r\n\t\t}\r\n\r\n\t\tobj.done && setTimeout(obj.done, 20);\r\n\t\tobj.state && obj.stateX(0, 3);\r\n\r\n\t\tobj.$init && setTimeout(function() {\r\n\t\t\tvar fn = get(obj.$init);\r\n\t\t\tif (langx.isFunction(fn)) {\r\n\t\t\t\tfn.call(obj, obj);\t\r\n\t\t\t} \r\n\t\t\tobj.$init = undefined;\r\n\t\t}, 5);\r\n\r\n\t\tvar n = 'component';\r\n\t\tel.trigger(n);\r\n\t\tel.off(n);\r\n\r\n\t\tvar cls = attrcom(el, 'class');\r\n\t\tcls && (function(cls) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tcls = cls.split(' ');\r\n\t\t\t\tvar tmp = el[0].$jclass || {};\r\n\t\t\t\tfor (var i = 0, length = cls.length; i < length; i++) {\r\n\t\t\t\t\tif (!tmp[cls[i]]) {\r\n\t\t\t\t\t\tel.tclass(cls[i]);\r\n\t\t\t\t\t\ttmp[cls[i]] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tel[0].$jclass = tmp;\r\n\t\t\t}, 5);\r\n\t\t})(cls);\r\n\r\n\t\tobj.id && EMIT('#' + obj.id, obj);\r\n\t\tEMIT('@' + obj.name, obj);\r\n\t\tEMIT(n, obj);\r\n\t\tclear('find.');\r\n\t\tif (obj.$lazy) {\r\n\t\t\tobj.$lazy.state = 3;\r\n\t\t\tdelete obj.$lazy;\r\n\t\t\tEMIT('lazy', obj.$name, false);\r\n\t\t}\r\n\t}\r\n\r\n});"]}