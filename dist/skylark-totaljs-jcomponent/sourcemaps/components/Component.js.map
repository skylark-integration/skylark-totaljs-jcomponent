{"version":3,"sources":["components/Component.js"],"names":["define","langx","findFormat","Usage","temp","counter","com_validate2","com","valid","disabled","$valid_disabled","arr","state","push","$validate","validate","$valid","get","path","$interaction","clear","Component","klass","[object Object]","name","view","self","this","_id","ID","usage","$dirty","$parser","$formatter","$skip","$ready","$path","trim","$released","$bindreleased","$data","version","lastIndexOf","$name","substring","type","id","removed","make","done","prerender","destroy","released","getter","value","realtime","nobind","parser","getter2","set","stateX","what","key","$bindchanges","$state","config","EXEC","call","setterX","setter","$bindexact","indexOf","cache","$bindcache","arguments","length","skips","$format","hash","HASH","$valuehash","$setter","data","setter2","is","bt","clearTimeout","setTimeout","$bindtimeout","a","formatter","findcontrol","element","t","$com","$default","autofill","el","$","val","tmp","toString","toLowerCase","checked","PPC","prototype","i","items","o","parentNode","exec","$ppc","c","components","all","owner","$pp","$except","except","p","b","$compare","fix","index","notmodified","fields","isString","NOTMODIFIED","$waiter","prop","callback","$W","setInterval","v","clearInterval","MD","delaywatcher","keys","Object","k","hidden","offsetParent","visible","width","offsetWidth","height","offsetHeight","import","url","insert","preparator","release","container","undefined","$removed","attrd","helper","nested","forEach","Array","validate2","d","e","replace","remove","C","recompile","n","prev","scope","rattrd","off","dom","siblings","now","Date","init","$binded","manually","input","default","custom","dirty","notify","NOTIFY","update","refresh","tclass","cls","aclass","timeout","hclass","rclass","rclass2","search","classes","add","rem","split","toggle","manual","isNumber","noscope","noScope","$noscope","nocompile","singleton","statics","blind","$$path","bindchanges","bindChanges","enable","bindexact","bindExact","bindvisible","bindVisible","delaybinder","readonly","noDirty","noValid","novalidate","noValidate","nodirty","$dirty_disabled","datasource","ds","$datasource","unwatch","fn","watch","setPath","charCodeAt","env","s","j","join","ready","attr","css","main","$main","parent","closest","rcwatch","reconfigure","isPlainObject","configure","$rcwatch","$config","cfg","$type","$id","$compile","$init","$class","$reconfigure","sel","TNB","number","boolean","html","empty","append","text","$children","m","event","on","apply","arg","find","selector","isInvalid","pathing","isFunction","pathmaker","invalid","noEmit","style","domx","change","used","reset","setDefault","kill","noClear","obj","removewaiter","setTimeout2","cleaner2","prepend","unshift","format","emit","evaluate","expression","nopath","skip","setx","inc","extend","rewrite"],"mappings":"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","file":"../../components/Component.js","sourcesContent":["define([\r\n\t\"../langx\",\r\n\t\"../binding/findFormat\",\r\n\t\"./Usage\"\r\n],function(langx, findFormat, Usage){\r\n\tvar temp = {};\r\n\r\n\tvar counter = 0;\r\n\r\n\tfunction com_validate2(com) {\r\n\r\n\t\tvar valid = true;\r\n\r\n\t\tif (com.disabled) {\r\n\t\t\treturn valid;\r\n\t\t}\r\n\r\n\t\tif (com.$valid_disabled) {\r\n\t\t\treturn valid;\r\n\t\t}\r\n\r\n\t\tvar arr = [];\r\n\t\tcom.state && arr.push(com);\r\n\t\tcom.$validate = true;\r\n\r\n\t\tif (com.validate) {\r\n\t\t\tcom.$valid = com.validate(get(com.path));\r\n\t\t\tcom.$interaction(102);\r\n\t\t\tif (!com.$valid)\r\n\t\t\t\tvalid = false;\r\n\t\t}\r\n\r\n\t\tclear('valid');\r\n\t\tlangx.state(arr, 1, 1);\r\n\t\treturn valid;\r\n\t}\r\n\r\n\t// ===============================================================\r\n\t// COMPONENT DECLARATION\r\n\t// ===============================================================\r\n\r\n\tvar Component = langx.klass({\r\n\t\t_construct(name,view) {\r\n\t\t\tvar self = this;\r\n\t\t\tself._id = self.ID = 'jc' + (counter++);\r\n\t\t\tself.usage = new Usage();\r\n\t\t\tself.$dirty = true;\r\n\t\t\tself.$valid = true;\r\n\t\t\tself.$validate = false;\r\n\t\t\tself.$parser = [];\r\n\t\t\tself.$formatter = [];\r\n\t\t\tself.$skip = false;\r\n\t\t\tself.$ready = false;\r\n\t\t\tself.$path;\r\n\t\t\tself.trim = true;\r\n\t\t\tself.$released = false;\r\n\t\t\tself.$bindreleased = true;\r\n\t\t\tself.$data = {};\r\n\r\n\t\t\tvar version = name.lastIndexOf('@');\r\n\r\n\t\t\tself.view = view;\r\n\t\t\tself.name = name;\r\n\t\t\tself.$name = version === -1 ? name : name.substring(0, version);\r\n\t\t\tself.version = version === -1 ? '' : name.substring(version + 1);\r\n\t\t\tself.path;\r\n\t\t\tself.type;\r\n\t\t\tself.id;\r\n\t\t\tself.disabled = false;\r\n\t\t\tself.removed = false;\r\n\r\n\t\t\tself.make;\r\n\t\t\tself.done;\r\n\t\t\tself.prerender;\r\n\t\t\tself.destroy;\r\n\t\t\tself.state;\r\n\t\t\tself.validate;\r\n\t\t\tself.released;\r\n\r\n\t\t\tself.getter = function(value, realtime, nobind) {\r\n\r\n\t\t\t\tvar self = this;\r\n\r\n\t\t\t\tvalue = self.parser(value);\r\n\t\t\t\tself.getter2 && self.getter2(value, realtime);\r\n\r\n\t\t\t\tif (realtime) {\r\n\t\t\t\t\tself.$skip = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Binds a value\r\n\t\t\t\tif (nobind) {\r\n\t\t\t\t\tcom_validate2(self);\r\n\t\t\t\t} else if (value !== self.get()) {\r\n\t\t\t\t\tself.set(value, 2);\r\n\t\t\t\t} else if (realtime === 3) {\r\n\t\t\t\t\t// A validation for same values, \"realtime=3\" is in \"blur\" event\r\n\t\t\t\t\t// Because we need to validate the input if the user leaves from the control\r\n\t\t\t\t\tcom_validate2(self);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tself.stateX = function(type, what) {\r\n\t\t\t\tvar key = type + 'x' + what;\r\n\t\t\t\tif (!self.$bindchanges || self.$state !== key) {\r\n\t\t\t\t\tself.$state = key;\r\n\t\t\t\t\tself.config.$state && EXEC.call(self, self.config.$state, type, what);\r\n\t\t\t\t\tself.state(type, what);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tself.setterX = function(value, path, type) {\r\n\r\n\t\t\t\tif (!self.setter || (self.$bindexact && self.path !== path && self.path.indexOf(path + '.') === -1 && type))\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tvar cache = self.$bindcache;\r\n\t\t\t\tif (arguments.length) {\r\n\r\n\t\t\t\t\tif (skips[self.path]) {\r\n\t\t\t\t\t\tvar s = --skips[self.path];\r\n\t\t\t\t\t\tif (s <= 0) {\r\n\t\t\t\t\t\t\tdelete skips[self.path];\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.$format) {\r\n\t\t\t\t\t\tvalue = self.$format(value, path, type);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.$bindreleased) {\r\n\r\n\t\t\t\t\t\tif (self.$bindchanges) {\r\n\t\t\t\t\t\t\tvar hash = HASH(value);\r\n\t\t\t\t\t\t\tif (hash === self.$valuehash)\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\tself.$valuehash = hash;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Binds value directly\r\n\t\t\t\t\t\tself.config.$setter && EXEC.call(self, self.config.$setter, value, path, type);\r\n\t\t\t\t\t\tself.data('', value);\r\n\t\t\t\t\t\tself.setter(value, path, type);\r\n\t\t\t\t\t\tself.setter2 && self.setter2(value, path, type);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (self.$released) {\r\n\t\t\t\t\t\t\tcache.is = true;\r\n\t\t\t\t\t\t\tcache.value = value;\r\n\t\t\t\t\t\t\tcache.path = path;\r\n\t\t\t\t\t\t\tcache.type = type;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcache.value = value;\r\n\t\t\t\t\t\t\tcache.path = path;\r\n\t\t\t\t\t\t\tcache.type = type;\r\n\t\t\t\t\t\t\tif (!cache.bt) {\r\n\t\t\t\t\t\t\t\tcache.is = true;\r\n\t\t\t\t\t\t\t\tself.setterX();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (!self.$released && cache && cache.is) {\r\n\t\t\t\t\tcache.is = false;\r\n\t\t\t\t\tcache.bt && clearTimeout(cache.bt);\r\n\t\t\t\t\tcache.bt = setTimeout(function(self) {\r\n\t\t\t\t\t\tvar cache = self.$bindcache;\r\n\t\t\t\t\t\tcache.bt = 0; // reset timer id\r\n\r\n\t\t\t\t\t\tif (self.$bindchanges) {\r\n\t\t\t\t\t\t\tvar hash = HASH(value);\r\n\t\t\t\t\t\t\tif (hash === self.$valuehash)\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\tself.$valuehash = hash;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tself.config.$setter && EXEC.call(self, self.config.$setter, cache.value, cache.path, cache.type);\r\n\t\t\t\t\t\tself.data('', cache.value);\r\n\t\t\t\t\t\tself.setter(cache.value, cache.path, cache.type);\r\n\t\t\t\t\t\tself.setter2 && self.setter2(cache.value, cache.path, cache.type);\r\n\t\t\t\t\t}, self.$bindtimeout, self);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tself.setter = function(value, path, type) {\r\n\r\n\t\t\t\tvar self = this;\r\n\r\n\t\t\t\tif (type === 2) {\r\n\t\t\t\t\tif (self.$skip) {\r\n\t\t\t\t\t\tself.$skip = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar a = 'select-one';\r\n\t\t\t\tvalue = self.formatter(value);\r\n\r\n\t\t\t\tfindcontrol(self.element[0], function(t) {\r\n\r\n\t\t\t\t\tif (t.$com !== self)\r\n\t\t\t\t\t\tt.$com = self;\r\n\r\n\t\t\t\t\tvar path = t.$com.path;\r\n\t\t\t\t\tif (path && path.length && path !== self.path)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tif (t.type === 'checkbox') {\r\n\t\t\t\t\t\tvar tmp = value != null ? value.toString().toLowerCase() : '';\r\n\t\t\t\t\t\ttmp = tmp === 'true' || tmp === '1' || tmp === 'on';\r\n\t\t\t\t\t\ttmp !== t.checked && (t.checked = tmp);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (value == null)\r\n\t\t\t\t\t\tvalue = '';\r\n\r\n\t\t\t\t\tif (!type && t.type !== a && t.type !== 'range' && !self.$default && !value)\r\n\t\t\t\t\t\tautofill.push(t.$com);\r\n\r\n\t\t\t\t\tif (t.type === a || t.type === 'select') {\r\n\t\t\t\t\t\tvar el = $(t);\r\n\t\t\t\t\t\tel.val() !== value && el.val(value);\r\n\t\t\t\t\t} else if (t.value !== value)\r\n\t\t\t\t\t\tt.value = value;\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\tvar PPC = Component.prototype;\r\n\r\n\t/*\r\n\t * Set or get data from internal component repository. \r\n\t * Data can be used for data-bind=\"\" attribute and nested j-Components. \r\n\t */\r\n\tPPC.data = function(key, value) {\r\n\r\n\t\tif (!key) {\r\n\t\t\tkey = '@';\r\n\t\t}\r\n\r\n\t\tvar self = this;\r\n\t\tvar data = self.$data[key];\r\n\r\n\t\tif (arguments.length === 1) {\r\n\t\t\treturn data ? data.value : null;\r\n\t\t}\r\n\r\n\t\tif (data) {\r\n\t\t\tdata.value = value;\r\n\t\t\tfor (var i = 0; i < data.items.length; i++) {\r\n\t\t\t\tvar o = data.items[i];\r\n\t\t\t\to.el[0].parentNode && o.exec(value, key);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tself.$data[key] = { \r\n\t\t\t\tvalue: value, \r\n\t\t\t\titems: [] \r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tif (self.$ppc) {\r\n\t\t\tvar c = self.view.components.all; //M.components;\r\n\t\t\tfor (var i = 0; i < c.length; i++) {\r\n\t\t\t\tvar com = c[i];\r\n\t\t\t\tif (com.owner === self && com.$pp && key === com.path)\r\n\t\t\t\t\tcom.setterX(value, value, 2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\t/*\r\n\t * \r\n\t */\r\n\tPPC.$except = function(except) {\r\n\t\tvar p = self.$path;\r\n\t\tfor (var a = 0; a < except.length; a++) {\r\n\t\t\tfor (var b = 0; b < p.length; b++) {\r\n\t\t\t\tif (except[a] === p[b]) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/*\r\n\t * \r\n\t */\r\n\tPPC.$compare = function(path, fix) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (fix)\r\n\t\t\treturn self.path === path;\r\n\r\n\t\tif (path.length > self.path.length) {\r\n\t\t\tvar index = path.lastIndexOf('.', self.path.length);\r\n\t\t\treturn index === -1 ? false : self.path === path.substring(0, index);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, length = self.$path.length; i < length; i++) {\r\n\t\t\tif (self.$path[i] === path) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t * Removes waiter.\r\n\t */\r\n\tfunction removewaiter(obj) {\r\n\t\tif (obj.$W) {\r\n\t\t\tvar keys = Object.keys(obj.$W);\r\n\t\t\tfor (var i = 0, length = keys.length; i < length; i++) {\r\n\t\t\t\tvar v = obj.$W[keys[i]];\r\n\t\t\t\tif (v.id) {\r\n\t\t\t\t\tclearInterval(v.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\t * \r\n\t */\r\n\tPPC.notmodified = function(fields) {\r\n\t\tvar t = this;\r\n\t\tif (langx.isString(fields)) {\r\n\t\t\tfields = [fields];\r\n\t\t}\r\n\t\treturn NOTMODIFIED(t._id, t.get(), fields);\r\n\t};\r\n\r\n\t/*\r\n\t * \r\n\t */\r\n\tPPC.$waiter = function(prop, callback) {\r\n\r\n\t\tvar t = this;\r\n\r\n\t\tif (prop === true) {\r\n\t\t\tif (t.$W) {\r\n\t\t\t\tvar keys = Object.keys(t.$W);\r\n\t\t\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t\t\tvar k = keys[i];\r\n\t\t\t\t\tvar o = t.$W[k];\r\n\t\t\t\t\to.id = setInterval(function(t, prop) {\r\n\t\t\t\t\t\tvar o = t.$W[prop];\r\n\t\t\t\t\t\tvar v = t[prop]();\r\n\t\t\t\t\t\tif (v) {\r\n\t\t\t\t\t\t\tclearInterval(o.id);\r\n\t\t\t\t\t\t\tfor (var i = 0; i < o.callback.length; i++)\r\n\t\t\t\t\t\t\t\to.callback[i].call(t, v);\r\n\t\t\t\t\t\t\tdelete t.$W[prop];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, MD.delaywatcher, t, k);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t} else if (prop === false) {\r\n\t\t\tif (t.$W) {\r\n\t\t\t\tvar keys = Object.keys(t.$W);\r\n\t\t\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t\t\tvar a = t.$W[keys[i]];\r\n\t\t\t\t\ta && clearInterval(a.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t!t.$W && (t.$W = {});\r\n\r\n\t\tif (t.$W[prop]) {\r\n\t\t\t// Checks if same callback exists\r\n\t\t\tfor (var i = 0; i < t.$W[prop].length; i++) {\r\n\t\t\t\tif (t.$W[prop][i] === callback)\r\n\t\t\t\t\treturn t;\r\n\t\t\t}\r\n\t\t\tt.$W[prop].callback.push(callback);\r\n\t\t\treturn t;\r\n\t\t} else\r\n\t\t\tt.$W[prop] = { callback: [callback] };\r\n\r\n\t\tif (!t.$released) {\r\n\t\t\tt.$W[prop].id = setInterval(function(t, prop) {\r\n\t\t\t\tvar o = t.$W[prop];\r\n\t\t\t\tvar v = t[prop]();\r\n\t\t\t\tif (v) {\r\n\t\t\t\t\tclearInterval(o.id);\r\n\t\t\t\t\tfor (var i = 0; i < o.callback.length; i++) {\r\n\t\t\t\t\t\to.callback[i].call(t, v);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete t.$W[prop];\r\n\t\t\t\t}\r\n\t\t\t}, MD.delaywatcher, t, prop);\r\n\t\t}\r\n\t\treturn t;\r\n\t};\r\n\r\n\t/*\r\n\t * .\r\n\t */\r\n\tPPC.hidden = function(callback) {\r\n\t\tvar t = this;\r\n\t\tvar v = t.element ? t.element[0].offsetParent : null;\r\n\t\tv = v === null;\r\n\t\tif (callback) {\r\n\t\t\tif (v) {\r\n\t\t\t\tcallback.call(t);\r\n\t\t\t} else {\r\n\t\t\t\tt.$waiter('hidden', callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t};\r\n\r\n\t/*\r\n\t * \r\n\t */\r\n\tPPC.visible = function(callback) {\r\n\t\tvar t = this;\r\n\t\tvar v = t.element ? t.element[0].offsetParent : null;\r\n\t\tv = v !== null;\r\n\t\tif (callback) {\r\n\t\t\tif (v) {\r\n\t\t\t\tcallback.call(t);\r\n\t\t\t} else {\r\n\t\t\t\tt.$waiter('visible', callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t};\r\n\r\n\t/*\r\n\t * \r\n\t */\r\n\tPPC.width = function(callback) {\r\n\t\tvar t = this;\r\n\t\tvar v = t.element ? t.element[0].offsetWidth : 0;\r\n\t\tif (callback) {\r\n\t\t\tif (v) {\r\n\t\t\t\tcallback.call(t, v);\r\n\t\t\t} else {\r\n\t\t\t\tt.$waiter('width', callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t};\r\n\r\n\t/*\r\n\t * \r\n\t */\r\n\tPPC.height = function(callback) {\r\n\t\tvar t = this;\r\n\t\tvar v = t.element ? t.element[0].offsetHeight : 0;\r\n\t\tif (callback) {\r\n\t\t\tif (v) {\r\n\t\t\t\tcallback.call(t, v);\r\n\t\t\t} else {\r\n\t\t\t\tt.$waiter('height', callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t};\r\n\r\n\t/*\r\n\t * Import some content from external source to this element.\r\n\t */\r\n\tPPC.import = function(url, callback, insert, preparator) {\r\n\t\tvar self = this;\r\n\t\tthis.view.import(url, self.element, callback, insert, preparator);\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Performs release state for all nested components.\r\n\t */\r\n\tPPC.release = function(value, container) {\r\n\r\n\t\tvar self = this;\r\n\t\tif (value === undefined || self.$removed) {\r\n\t\t\treturn self.$released;\r\n\t\t}\r\n\r\n\t\tself.attrd('jc-released', value);\r\n\r\n\t\t//(container || self.element).find(consts.ATTRCOM).each(function() {\r\n\t\thelper.nested(container || self.element).forEach(function(){ \r\n\t\t\tvar el = $(this);\r\n\t\t\tel.attrd('jc-released', value ? 'true' : 'false');\r\n\t\t\tvar com = el[0].$com;\r\n\t\t\tif (com instanceof Object) {\r\n\t\t\t\tif (com instanceof Array) {\r\n\t\t\t\t\tfor (var i = 0, length = com.length; i < length; i++) {\r\n\t\t\t\t\t\tvar o = com[i];\r\n\t\t\t\t\t\tif (!o.$removed && o.$released !== value) {\r\n\t\t\t\t\t\t\to.$released = value;\r\n\t\t\t\t\t\t\to.released && o.released(value, self);\r\n\t\t\t\t\t\t\to.$waiter(!value);\r\n\t\t\t\t\t\t\t!value && o.setterX();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (!com.$removed && com.$released !== value) {\r\n\t\t\t\t\tcom.$released = value;\r\n\t\t\t\t\tcom.released && com.released(value, self);\r\n\t\t\t\t\tcom.$waiter(!value);\r\n\t\t\t\t\t!value && com.setterX();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!container && self.$released !== value) {\r\n\t\t\tself.$released = value;\r\n\t\t\tself.released && self.released(value, self);\r\n\t\t\tself.$waiter(!value);\r\n\t\t\t!value && self.setterX();\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\t/*\r\n\t * Performs validation with refreshing state of component\r\n\t */\r\n\tPPC.validate2 = function() {\r\n\t\treturn com_validate2(this);\r\n\t};\r\n\r\n\t/*\r\n\t * Returns all nested components.\r\n\t */\r\n\tPPC.exec = function(name, a, b, c, d, e) {\r\n\t\tvar self = this;\r\n\t\t/*\r\n\t\tself.find(consts.ATTRCOM).each(function() {\r\n\t\t\tvar t = this;\r\n\t\t\tif (t.$com) {\r\n\t\t\t\tt.$com.caller = self;\r\n\t\t\t\tt.$com[name] && this.$com[name](a, b, c, d, e);\r\n\t\t\t}\r\n\t\t});\r\n\t\t*/\r\n\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Returns all nested components.\r\n\t */\r\n\tPPC.replace = function(el, remove) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (C.is) {\r\n\t\t\tC.recompile = true;\r\n\t\t}\r\n\r\n\t\tvar n = 'jc-scope';\r\n\t\tvar prev = self.element;\r\n\t\tvar scope = prev.attrd(n);\r\n\r\n\t\tself.element.rattrd('jc');\r\n\t\tself.element[0].$com = null;\r\n\t\tscope && self.element.rattrd(n);\r\n\r\n\t\tif (remove) {\r\n\t\t\tprev.off().remove();\r\n\t\t} else {\r\n\t\t\tself.attrd('jc-replaced', 'true');\r\n\t\t}\r\n\r\n\t\tself.element = $(el);\r\n\t\tself.dom = self.element[0];\r\n\t\tself.dom.$com = self;\r\n\t\tself.attrd('jc', self.name);\r\n\t\tif (scope) {\r\n\t\t\tself.attrd(n, scope);\r\n\t\t}\r\n\t\tself.siblings = false;\r\n\t\treturn self;\r\n\t};\r\n\r\n\t//PPC.compile \r\n\r\n\t/*\r\n\t * Returns all nested components.\r\n\t */\r\n\tPPC.nested = function() {\r\n\t\treturn helper.nested(this.element);\r\n\r\n\t\t/*\r\n\t\tvar arr = [];\r\n\t\tthis.find(ATTRCOM).each(function() {\r\n\t\t\tvar el = $(this);\r\n\t\t\tvar com = el[0].$com;\r\n\t\t\tif (com && !el.attr(ATTRDEL)) {\r\n\t\t\t\tif (com instanceof Array)\r\n\t\t\t\t\tarr.push.apply(arr, com);\r\n\t\t\t\telse\r\n\t\t\t\t\tarr.push(com);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn arr;\r\n\t\t*/\r\n\t};\r\n\r\n\t/*\r\n\t * Sets the last interaction time,time will be stored in self.usage.\r\n\t */\r\n\tPPC.$interaction = function(type) {\r\n\r\n\t\t// type === 0 : init\r\n\t\t// type === 1 : manually\r\n\t\t// type === 2 : by input\r\n\t\t// type === 3 : by default\r\n\t\t// type === 100 : custom\r\n\t\t// type === 101 : dirty\r\n\t\t// type === 102 : valid\r\n\r\n\t\tvar now = Date.now();\r\n\t\tvar t = this;\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 0:\r\n\t\t\t\tt.usage.init = now;\r\n\t\t\t\tt.$binded = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tt.usage.manually = now;\r\n\t\t\t\tt.$binded = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tt.usage.input = now;\r\n\t\t\t\tt.$binded = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tt.usage.default = now;\r\n\t\t\t\tt.$binded = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 100:\r\n\t\t\t\tt.usage.custom = now;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 101:\r\n\t\t\t\tt.usage.dirty = now;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 102:\r\n\t\t\t\tt.usage.valid = now;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn t;\r\n\t};\r\n\r\n\t/*\r\n\t * Notifies a setter in all components according to the component.path.\r\n\t */\r\n\tPPC.notify = function() {\r\n\t\tNOTIFY(this.path);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Executes the component.setter with a refreshed value according to the component.path.\r\n\t */\r\n\tPPC.update = PPC.refresh = function(notify, type) {\r\n\t\tvar self = this;\r\n\t\tif (self.$binded) {\r\n\r\n\t\t\tif (langx.isString(notify)) {\r\n\t\t\t\ttype = notify;\r\n\t\t\t\tnotify = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (notify) {\r\n\t\t\t\tself.set(self.get(), type);\r\n\t\t\t} else {\r\n\t\t\t\tif (self.setter) {\r\n\t\t\t\t self.setterX(self.get(), self.path, 1);\r\n\t\t\t\t}\r\n\t\t\t\tself.$interaction(1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Toggles class, it's alias for self.element.toggleClass().\r\n\t */\r\n\tPPC.tclass = function(cls, v) {\r\n\t\tvar self = this;\r\n\t\tself.element.tclass(cls, v);\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Adds CSS class into the element classes., it's alias for self.element.addClass().\r\n\t */\r\n\tPPC.aclass = function(cls, timeout) {\r\n\t\tvar self = this;\r\n\t\tif (timeout) {\r\n\t\t\tsetTimeout(function() { self.element.aclass(cls); }, timeout);\r\n\t\t} else {\r\n\t\t\tself.element.aclass(cls);\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Determines class, it's alias for self.element.hasClass().\r\n\t */\r\n\tPPC.hclass = function(cls) {\r\n\t\treturn this.element.hclass(cls);\r\n\t};\r\n\r\n\t/*\r\n\t * Removes class, it's alias for self.element.removeClass().\r\n\t */\r\n\tPPC.rclass = function(cls, timeout) {\r\n\t\tvar self = this;\r\n\t\tvar e = self.element;\r\n\t\tif (timeout)\r\n\t\t\tsetTimeout(function() { e.rclass(cls); }, timeout);\r\n\t\telse {\r\n\t\t\tif (cls) {\r\n\t\t\t\te.rclass(cls);\r\n\t\t\t} else {\r\n\t\t\t\te.rclass();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t *  Removes classes according to the text to search.\r\n\t */\r\n\tPPC.rclass2 = function(search) {\r\n\t\tthis.element.rclass2(search);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Add or remove CSS classes.\r\n\t */\r\n\tPPC.classes = function(cls) {\r\n\r\n\t\tvar key = 'cls.' + cls;\r\n\t\tvar tmp = temp[key]; // caches.temp[key];\r\n\t\tvar t = this;\r\n\t\tvar e = t.element;\r\n\r\n\t\tif (tmp) {\r\n\t\t\ttmp.add && e.aclass(tmp.add);\r\n\t\t\ttmp.rem && e.rclass(tmp.rem);\r\n\t\t\treturn t;\r\n\t\t}\r\n\r\n\t\tvar arr = cls instanceof Array ? cls : cls.split(' ');\r\n\t\tvar add = '';\r\n\t\tvar rem = '';\r\n\r\n\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\tvar c = arr[i].substring(0, 1);\r\n\t\t\tif (c === '-')\r\n\t\t\t\trem += (rem ? ' ' : '') + arr[i].substring(1);\r\n\t\t\telse\r\n\t\t\t\tadd += (add ? ' ' : '') + (c === '+' ? arr[i].substring(1) : arr[i]);\r\n\t\t}\r\n\r\n\t\tif (add) {\r\n\t\t\te.aclass(add);\r\n\t\t}\r\n\t\tif (rem) {\r\n\t\t\te.rclass(rem);\r\n\t\t}\r\n\r\n\t\tif (cls instanceof Array) {\r\n\t\t\treturn t;\r\n\t\t}\r\n\r\n\t\ttemp[key] = { add: add, rem: rem };  // caches.temp[key] = { add: add, rem: rem }; \r\n\t\treturn t;\r\n\t};\r\n\r\n\t/*\r\n\t * Returns a parent component instance if exists (otherwise: null).\r\n\t */\r\n\tPPC.toggle = function(cls, visible, timeout) {\r\n\r\n\t\tvar manual = false;\r\n\t\tvar self = this;\r\n\r\n\t\tif (!langx.isString(cls)) {\r\n\t\t\ttimeout = visible;\r\n\t\t\tvisible = cls;\r\n\t\t\tcls = 'hidden';\r\n\t\t\tmanual = true;\r\n\t\t}\r\n\r\n\t\tif (langx.isNumber(visible)) {\r\n\t\t\ttimeout = visible;\r\n\t\t\tvisible = undefined;\r\n\t\t} else if (manual && visible !== undefined) {\r\n\t\t\tvisible = !visible;\r\n\t\t}\r\n\r\n\t\tvar el = self.element;\r\n\t\tif (!timeout) {\r\n\t\t\tel.tclass(cls, visible);\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\tel.tclass(cls, visible);\r\n\t\t}, timeout);\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Disables scopes according to the data-jc-scope attribute.\r\n\t */\r\n\tPPC.noscope = PPC.noScope = function(value) {\r\n\t\tvar self = this;\r\n\t\tself.$noscope = value === undefined ? true : value === true;\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Returns a parent component instance if exists (otherwise: null).\r\n\t */\r\n\tPPC.nocompile = function() {\r\n\t\tvar self = this;\r\n\t\tself.element.attrd('jc-compile', '0');\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Creates a single instance of the component. \r\n\t * So if the component will be declared multiple times then jComponent creates the only one instance and \r\n\t * another declarations will be skipped.\r\n\t */\r\n\tPPC.singleton = function() {\r\n\t\tvar self = this;\r\n\t\tstatics['$ST_' + self.name] = true;\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Sets the component as blind.\r\n\t * Component will be skipped when jComponent performs data-binding. \r\n\t * If your component won't work with data-binding then this option can increase a performance of your web app.\r\n\t */\r\n\tPPC.blind = function() {\r\n\t\tvar self = this;\r\n\t\tself.path = null;\r\n\t\tself.$path = null;\r\n\t\tself.$$path = null;\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Binds changes only. \r\n\t * If setter will get the same value as a previous value then skips binding.\r\n\t */\r\n\tPPC.bindchanges = PPC.bindChanges = function(enable) {\r\n\t\tthis.$bindchanges = enable == null || enable === true;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Sets binding of values when the the modification path is same as the component path or the path is part of parent path.\r\n\t */\r\n\tPPC.bindexact = PPC.bindExact = function(enable) {\r\n\t\tthis.$bindexact = enable == null || enable === true;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Sets binding of values only when the component is not released.\r\n\t * it depends on releasing of the parent component.\r\n\t */\r\n\tPPC.bindvisible = PPC.bindVisible = function(timeout) {\r\n\t\tvar self = this;\r\n\t\tself.$bindreleased = false;\r\n\t\tself.$bindtimeout = timeout || MD.delaybinder;\r\n\t\tself.$bindcache = {};\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Enables readonly mode for the component.\r\n\t * It disables dirty and valid states, getter, setter, parsers and formatters. \r\n\t * This option can improve performance.\r\n\t */\r\n\tPPC.readonly = function() {\r\n\t\tvar self = this;\r\n\t\tself.noDirty();\r\n\t\tself.noValid();\r\n\t\tself.getter = null;\r\n\t\tself.setter = null;\r\n\t\tself.$parser = null;\r\n\t\tself.$formatter = null;\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Returns a parent component instance if exists (otherwise: null).\r\n\t */\r\n\tPPC.novalidate = PPC.noValid = PPC.noValidate = function(val) {\r\n\t\tif (val === undefined) {\r\n\t\t\tval = true;\r\n\t\t}\r\n\t\tvar self = this;\r\n\t\tself.$valid_disabled = val;\r\n\t\tself.$valid = val;\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Returns a parent component instance if exists (otherwise: null).\r\n\t */\r\n\tPPC.nodirty = PPC.noDirty = function(val) {\r\n\t\tif (val === undefined) {\r\n\t\t\tval = true;\r\n\t\t}\r\n\t\tvar self = this;\r\n\t\tself.$dirty_disabled = val;\r\n\t\tself.$dirty = !val;\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Watch some additional data-source.\r\n\t * Each next declaration of self.datasource() cancels previous declaration.\r\n\t */\r\n\tPPC.datasource = function(path, callback, init) {\r\n\t\tvar self = this;\r\n\t\tvar ds = self.$datasource;\r\n\r\n\t\tds && self.unwatch(ds.path, ds.fn);\r\n\r\n\t\tif (path) {\r\n\t\t\tself.$datasource = { path: path, fn: callback };\r\n\t\t\tself.watch(path, callback, init !== false);\r\n\t\t} else\r\n\t\t\tself.$datasource = null;\r\n\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Rewrites component.path.\r\n\t */\r\n\tPPC.setPath = function(path, type) {\r\n\r\n\t\t// type 1: init\r\n\t\t// type 2: scope\r\n\r\n\t\tvar self = this;\r\n\t\tvar tmp = findFormat(path);\r\n\r\n\t\tif (tmp) {\r\n\t\t\tpath = tmp.path;\r\n\t\t\tself.$format = tmp.fn;\r\n\t\t} else if (!type) {\r\n\t\t\tself.$format = null;\r\n\t\t}\r\n\r\n\t\tvar arr = [];\r\n\r\n\t\tif (path.substring(0, 1) === '@') {\r\n\t\t\tpath = path.substring(1);\r\n\t\t\tself.$pp = true;\r\n\t\t\tself.owner.$ppc = true;\r\n\t\t} else {\r\n\t\t\tself.$pp = false;\r\n\t\t}\r\n\r\n\t\t// Temporary\r\n\t\tif (path.charCodeAt(0) === 37) { // %\r\n\t\t\tpath = 'jctmp.' + path.substring(1);\r\n\t\t}\r\n\r\n\t\tpath = path.env();\r\n\r\n\t\t// !path = fixed path\r\n\t\tif (path.charCodeAt(0) === 33) { // !\r\n\t\t\tpath = path.substring(1);\r\n\t\t\tarr.push(path);\r\n\t\t} else {\r\n\t\t\tvar p = path.split('.');\r\n\t\t\tvar s = [];\r\n\t\t\tfor (var j = 0; j < p.length; j++) {\r\n\t\t\t\tvar b = p[j].lastIndexOf('[');\r\n\t\t\t\tif (b !== -1) {\r\n\t\t\t\t\tvar c = s.join('.');\r\n\t\t\t\t\tarr.push(c + (c ? '.' : '') + p[j].substring(0, b));\r\n\t\t\t\t}\r\n\t\t\t\ts.push(p[j]);\r\n\t\t\t\tarr.push(s.join('.'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tself.path = path;\r\n\t\tself.$path = arr;\r\n\t\t\r\n\t\tif (type !== 1 && C.ready) {\r\n\t\t\trefresh(); // TODO\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Get/set a value into the element attribute, it's alias for self.element.attr(name, [value]).\r\n\t */\r\n//\tPPC.attr = SCP.attr = function(name, value) {\r\n\tPPC.attr = function(name, value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.attr(name);\r\n\t\t}\r\n\t\tel.attr(name, value);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Get/set a value into the element attribute with data- prefix for name of attribute.\r\n\t * it's alias for self.element.attr(name, [value]).\r\n\t */\r\n//\tPPC.attrd = SCP.attrd = function(name, value) {\r\n\tPPC.attrd = function(name, value) {\r\n\t\tname = 'data-' + name;\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.attr(name);\r\n\t\t}\r\n\t\tel.attr(name, value);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Sets css or get, it's alias for self.element.css(name, [value]).\r\n\t */\r\n//\tPPC.css = SCP.css = function(name, value) {\r\n\tPPC.css = function(name, value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.css(name);\r\n\t\t}\r\n\t\tel.css(name, value);\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Returns a parent component instance if exists (otherwise: null).\r\n\t */\r\n//\tPPC.main = SCP.main = function() {\r\n\tPPC.main = function() {\r\n\t\tvar self = this;\r\n\t\tif (self.$main === undefined) {\r\n\t\t\tvar tmp = self.parent().closest('[data-jc]')[0];\r\n\t\t\tself.$main = tmp ? tmp.$com : null;\r\n\t\t}\r\n\t\treturn self.$main;\r\n\t};\r\n\r\n\tPPC.rcwatch = function(path, value) {\r\n\t\treturn value ? this.reconfigure(value) : this;\r\n\t};\r\n\r\n\tPPC.reconfigure = function(value, callback, init) {\r\n\t\tvar self = this;\r\n\t\tif (langx.isPlainObject(value)) {\r\n\t\t\tObject.keys(value).forEach(function(k) {\r\n\t\t\t\tvar prev = self.config[k];\r\n\t\t\t\tif (!init && self.config[k] !== value[k])\r\n\t\t\t\t\tself.config[k] = value[k];\r\n\t\t\t\tif (callback) {\r\n\t\t\t\t\tcallback(k, value[k], init, init ? undefined : prev);\r\n\t\t\t\t} else if (self.configure) {\r\n\t\t\t\t\tself.configure(k, value[k], init, init ? undefined : prev);\r\n\t\t\t\t}\r\n\t\t\t\tself.data('config.' + k, value[k]);\r\n\t\t\t});\r\n\t\t} else if (value.substring(0, 1) === '=') {\r\n\t\t\tvalue = value.substring(1);\r\n\t\t\tif (self.watch) {\r\n\t\t\t\tself.$rcwatch && self.unwatch(self.$rcwatch, self.rcwatch);\r\n\t\t\t\tself.watch(value, self.rcwatch);\r\n\t\t\t\tself.$rcwatch = value;\r\n\t\t\t}\r\n\t\t\tself.reconfigure(get(value), callback, init);\r\n\t\t} else {\r\n\t\t\tvalue.$config(function(k, v) {\r\n\t\t\t\tvar prev = self.config[k];\r\n\t\t\t\tif (!init && self.config[k] !== v)\r\n\t\t\t\t\tself.config[k] = v;\r\n\t\t\t\tself.data('config.' + k, v);\r\n\t\t\t\tif (callback) {\r\n\t\t\t\t\tcallback(k, v, init, init ? undefined : prev);\r\n\t\t\t\t} else if (self.configure) {\r\n\t\t\t\t\tself.configure(k, v, init, init ? undefined : prev);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar cfg = self.config;\r\n\r\n\t\tself.data('config', cfg);\r\n\r\n\t\tif (cfg.$type) {\r\n\t\t\tself.type = cfg.$type;\r\n\t\t}\r\n\r\n\t\tif (cfg.$id) {\r\n\t\t\tself.id = cfg.$id;\r\n\t\t}\r\n\r\n\t\tif (cfg.$compile == false) {\r\n\t\t\tself.nocompile();\r\n\t\t}\r\n\r\n\t\tif (cfg.$init) {\r\n\t\t\tself.$init = cfg.$init;\r\n\t\t}\r\n\r\n\t\tif (cfg.$class) {\r\n\t\t\tself.tclass(cfg.$class);\r\n\t\t}\r\n\t\t\r\n\t\tif (cfg.$released) {\r\n\t\t\tself.release(cfg.$released == true);\r\n\t\t}\r\n\t\t\r\n\t\tif (cfg.$reconfigure) {\r\n\t\t\tEXEC.call(cfg.$reconfigure, cfg); // TODO\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n//\tPPC.closest = SCP.closest = function(sel) {\r\n\tPPC.closest = function(sel) {\r\n\t\treturn this.element.closest(sel);\r\n\t};\r\n\r\n//\tPPC.parent = SCP.parent = function(sel) {\r\n\tPPC.parent = function(sel) {\r\n\t\treturn this.element.parent(sel);\r\n\t};\r\n\r\n\tvar TNB = { number: 1, boolean: 1 };\r\n\r\n\tPPC.html = function(value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.html();\r\n\t\t}\r\n\t\tif (value instanceof Array) {\r\n\t\t\tvalue = value.join('');\r\n\t\t}\r\n\t\tvar type = typeof(value);\r\n\t\t//caches.current.element = el[0];\r\n\t\tvar v = (value || TNB[type]) ? el.empty().append(value) : el.empty();\r\n\t\t//caches.current.element = null;\r\n\t\treturn v;\r\n\t};\r\n\r\n\t/*\r\n\t * This method is alias for self.element.text(), it can set/get a content of the element.\r\n\t */\r\n\tPPC.text = function(value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.text();\r\n\t\t}\r\n\t\tif (value instanceof Array) {\r\n\t\t\tvalue = value.join('');\r\n\t\t}\r\n\t\tvar type = typeof(value);\r\n\t\treturn (value || TNB[type]) ? el.empty().text(value) : el.empty();\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Removes the whole content of element and important removes all components which the parent component is this component.\r\n\t * It is alias for self.element.empty()\r\n\t */\r\n\tPPC.empty = function() {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (self.$children) {\r\n\t\t\tfor (var i = 0, length = all.length; i < length; i++) { // M.components.length\r\n\t\t\t\tvar m = all[i]; //M.components[i];\r\n\t\t\t\t!m.$removed && m.owner === self && m.remove();\r\n\t\t\t}\r\n\t\t\tself.$children = 0;\r\n\t\t}\r\n\r\n\t\tvar el = self.element;\r\n\t\tel.empty();\r\n\t\treturn el;\r\n\t};\r\n\r\n//\tPPC.append = SCP.append = function(value) {\r\n\tPPC.append = function(value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value instanceof Array) {\r\n\t\t\tvalue = value.join('');\r\n\t\t}\r\n\t\t//caches.current.element = el[0];\r\n\t\tvar v = value ? el.append(value) : el;\r\n\t\t//caches.current.element = null;\r\n\t\treturn v;\r\n\t};\r\n\r\n\t/*\r\n\t * Registers a new event for the element. Is alias for self.element.on() method.\r\n\t */\r\n//\tPPC.event = SCP.event = function() {\r\n\tPPC.event = function() {\r\n\t\tvar self = this;\r\n\t\tif (self.element) {\r\n\t\t\tself.element.on.apply(self.element, arguments);\r\n\t\t} else {\r\n\t\t\tsetTimeout(function(arg) {\r\n\t\t\t\tself.event(self, arg);\r\n\t\t\t}, 500, arguments);\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Finds elements according to the selector. Is alias for self.element.find() method.\r\n\t */\r\n//\tPPC.find = SCP.find = function(selector) {\r\n\tPPC.find =  function(selector) {\r\n\t\treturn this.element.find(selector);\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Checks a state whether the component is invalid or valid.\r\n\t */\r\n\tPPC.isInvalid = function() {\r\n\t\tvar self = this;\r\n\t\tvar is = !self.$valid;\r\n\t\tif (is && !self.$validate) {\r\n\t\t\tis = !self.$dirty;\r\n\t\t}\r\n\t\treturn is;\r\n\t};\r\n\r\n\t/*\r\n\t * Unregisters a monitoring of value according to the path argument.\r\n\t */\r\n\tPPC.unwatch = function(path, fn) {\r\n\t\tvar self = this;\r\n\t\tself.pathing.off('com' + self._id + '#watch', path, fn);  // OFF\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Registers a monitoring of value according to the path argument.\r\n\t */\r\n\tPPC.watch = function(path, fn, init) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (langx.isFunction(path)) {\r\n\t\t\tinit = fn;\r\n\t\t\tfn = path;\r\n\t\t\tpath = self.path;\r\n\t\t} else {\r\n\t\t\tpath = pathmaker(path);\r\n\t\t}\r\n\r\n\t\tself.on('watch', path, fn, init);\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Sets the state of this component to invalid and it contacts all components listen on the path.\r\n\t */\r\n\tPPC.invalid = function() {\r\n\t\treturn this.view.invalid(this.path, this);\r\n\t};\r\n\r\n\tPPC.valid = function(value, noEmit) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (value === undefined) {\r\n\t\t\treturn self.$valid;\r\n\t\t}\r\n\r\n\t\tif (self.$valid_disabled) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tself.$valid = value;\r\n\t\tself.$validate = false;\r\n\t\tself.$interaction(102);\r\n\t\t\r\n\t\tself.view.clear('valid');\r\n\t\t\r\n\t\tif (!noEmit && self.state) {\r\n\t\t\tself.stateX(1, 1);\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.style = function(value) {\r\n\t\tdomx.style(value, this._id);\r\n\t\treturn this;\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Perform a change state. It changes dirty state and contacts all components which listen on path.\r\n\t */\r\n\tPPC.change = function(value) {\r\n\t\tvar self = this;\r\n\t\tself.$dirty_disabled = false;\r\n\t\tself.$dirty = true;\r\n\t\tself.view.change(self.path, value === undefined ? true : value, self);\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Sets the last used time, time will be stored in self.usage.custom.\r\n\t */\r\n\tPPC.used = function() {\r\n\t\treturn this.$interaction(100);\r\n\t};\r\n\r\n\t/*\r\n\t * Sets the last used time, time will be stored in self.usage.custom.\r\n\t */\r\n\tPPC.dirty = function(value, noEmit) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (value === undefined) {\r\n\t\t\treturn self.$dirty;\r\n\t\t}\r\n\r\n\t\tif (self.$dirty_disabled) {　\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tself.$dirty = value;\r\n\t\tself.$interaction(101);\r\n\t\tself.view.clear('dirty');\r\n\t\tif (!noEmit && self.state) {\r\n\t\t\tself.stateX(2, 2);\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Resets dirty and valid state.\r\n\t */\r\n\tPPC.reset = function() {\r\n\t\tvar self = this;\r\n\t\tself.view.reset(self.path, 0, self);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.setDefault = function(value) {\r\n\t\tthis.$default = function() {\r\n\t\t\treturn value;\r\n\t\t};\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Set a default value for the current component path.\r\n\t */\r\n\tPPC.default = function(reset) {\r\n\t\tvar self = this;\r\n\t\tself.view.default(self.path, 0, self, reset);\r\n\t\treturn self;\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Removes this component from the DOM and executes destroy delegate.\r\n\t */\r\n\tPPC.remove = PPC.kill = function(noClear) {\r\n\t\tvar self = this;\r\n\t\tvar el = self.element;\r\n\t\tremovewaiter(self);\r\n\t\t\r\n\t\t//el.removeData(ATTRDATA);\r\n\t\t//el.attr(ATTRDEL, 'true').find(ATTRCOM).attr(ATTRDEL, 'true');\r\n\t\thelper.kill(el);\r\n\r\n\t\tself.$removed = 1;\r\n\t\tself.removed = true;\r\n\t\tself.pathing.off('com' + self._id + '#'); // OFF\r\n\t\t\r\n\t\tif(!noClear) {\r\n\t\t\tlangx.setTimeout2('$cleaner', cleaner2, 100);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tPPC.on = function(name, path, fn, init) {\r\n\t\tif (langx.isFunction(path)) {\r\n\t\t\tinit = fn;\r\n\t\t\tfn = path;\r\n\t\t\tpath = '';\r\n\t\t} else\r\n\t\t\tpath = path.replace('.*', '');\r\n\r\n\t\tvar self = this;\r\n\t\tvar push = '';\r\n\r\n\t\tif (name.substring(0, 1) === '^') {\r\n\t\t\tpush = '^';\r\n\t\t\tname = name.substring(1);\r\n\t\t}\r\n\r\n\t\tself.pathing.on(push + 'com' + self._id + '#' + name, path, fn, init, self); // ON\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Register a new formatter for this component or can format a value.\r\n\t */\r\n\tPPC.formatter = function(value, prepend) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (langx.isFunction(value)) {\r\n\t\t\t!self.$formatter && (self.$formatter = []);\r\n\t\t\tif (prepend === true) {\r\n\t\t\t\tself.$formatter.unshift(value);\r\n\t\t\t} else {\r\n\t\t\t\tself.$formatter.push(value);\r\n\t\t\t}\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tvar a = self.$formatter;\r\n\t\tif (a && a.length) {\r\n\t\t\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t\t\tvalue = a[i].call(self, self.path, value, self.type);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\ta = M.$formatter;\r\n\t\tif (a && a.length) {\r\n\t\t\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t\t\tvalue = a[i].call(self, self.path, value, self.type);\r\n\t\t\t}\r\n\t\t}*/\r\n\r\n\t\tvalue = self.view.format(self.path,value,self.type); // TODO\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tPPC.parser = function(value, prepend) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar type = typeof(value);\r\n\r\n\t\tif (type === 'function') {\r\n\t\t\t!self.$parser && (self.$parser = []);\r\n\r\n\t\t\tif (prepend === true) {\r\n\t\t\t\tself.$parser.unshift(value);\r\n\t\t\t} else {\r\n\t\t\t\tself.$parser.push(value);\r\n\t\t\t}\r\n\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tif (self.trim && type === 'string') {\r\n\t\t\tvalue = value.trim();\r\n\t\t}\r\n\r\n\t\tvar a = self.$parser;\r\n\t\tif (a && a.length) {\r\n\t\t\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t\t\tvalue = a[i].call(self, self.path, value, self.type);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t//a = jc.$parser;\r\n\t\t//if (a && a.length) {\r\n\t\t//\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t//\t\tvalue = a[i].call(self, self.path, value, self.type);\r\n\t\t//\t}\r\n\t\t//}\r\n\t\tvalue = self.view.parser(self.path,value,self.type);\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\t/*\r\n\t * Emits an event within jComponent. Is alias for EMIT() method.\r\n\t */\r\n\tPPC.emit = function() {\r\n\t\tself.pathing.emit.apply(self.pathing, arguments); // W>EMIT\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPPC.evaluate = function(path, expression, nopath) {\r\n\t\tif (!expression) {\r\n\t\t\texpression = path;\r\n\t\t\tpath = this.path;\r\n\t\t}\r\n\t\treturn self.view.evaluate(path, expression, nopath);\r\n\t};\r\n\r\n\t/*\r\n\t * Get a value according to the data-jc-path or path.\r\n\t */\r\n\tPPC.get = function(path) {\r\n\t\tvar self = this;\r\n\t\tif (!path) {\r\n\t\t\tpath = self.path;\r\n\t\t}\r\n\r\n\t\tif (self.$pp) {\r\n\t\t\treturn self.owner.data(self.path);\r\n\t\t}\r\n\r\n\t\tif (path) {\r\n\t\t\treturn self.view.get(path);\r\n\t\t}\r\n\t};\r\n\r\n\tPPC.skip = function(path) {\r\n\t\tvar self = this;\r\n\t\tself.view.skip(path || self.path); // SKIP\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Sets a value according to the component.path.\r\n\t */\r\n\tPPC.set = function(value, type) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar arg = arguments;\r\n\r\n\t\tif (self.$pp) {\r\n\t\t\tself.owner.set(self.path, value);\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\t// Backwards compatibility\r\n\t\tif (arg.length === 3) {\r\n\t\t\tself.view.setx(arg[0], arg[1], arg[2]);\r\n\t\t} else {\r\n\t\t\tself.view.setx(self.path, value, type);\r\n\t\t}\r\n\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Increments a Number according to the component.path.\r\n\t */\r\n\tPPC.inc = function(value, type) {\r\n\t\tvar self = this;\r\n\t\tself.view.inc(self.path, value, type);\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/* \r\n\t * Extends a current value by adding/rewrite new fields with new values.\r\n\t */\r\n\tPPC.extend = function(value, type) {\r\n\t\tvar self = this;\r\n\t\tself.view.extend(self.path, value, type); // M.extend\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Rewrites a value according to the component.path and it won't notify all listeners.\r\n\t */\r\n\tPPC.rewrite = function(value) {\r\n\t\tvar self = this;\r\n\t\tself.view.rewrite(self.path, value);\r\n\t\treturn self;\r\n\t};\r\n\r\n\t/*\r\n\t * Pushs a new item into the Array according to the component.path.\r\n\t */\r\n\tPPC.push = function(value, type) {\r\n\t\tvar self = this;\r\n\t\tself.view.push(self.path, value, type);\r\n\t\treturn self;\r\n\t};\r\n\r\n\treturn Component;\r\n});"]}