{"version":3,"sources":["binding.js"],"names":["define","$","jc","langx","plugins","Binder","bind","VirtualBinder","vbind","vbindArray","REGCOMMA","paths","parser","path","value","type","v","isString","trimAll","replace","isNaN","Date","parseDate","getTime","binding"],"mappings":";;;;;;;AAAAA,QACC,0BACA,OACA,UACA,YACA,mBACA,iBACA,0BACA,kBACA,wBACC,SAASC,EAAGC,EAAGC,EAAMC,EAAQC,EAAOC,EAAKC,EAAcC,EAAMC,GAE9D,IAAIC,EAAW,KAmDf,OA9BAC,MAAMC,OAAO,SAASC,EAAMC,EAAOC,GAElC,OAAQA,GACP,IAAK,SACL,IAAK,WACL,IAAK,QACJ,IAAIC,IAAMb,EAAMc,SAASH,GAASA,EAAMI,UAAUC,QAAQT,EAAU,KAAOI,GAC3E,OAAOM,MAAMJ,GAAK,KAAOA,EAE1B,IAAK,OACL,IAAK,WAEJ,OAAKF,EAIDA,aAAiBO,KACbP,GAGRA,EAAQA,EAAMQ,cACER,EAAMS,UAAYT,EAAQ,KARlC,KAWV,OAAOA,IAMDZ,EAAGsB,SACTZ,OAAAA,OAEAP,OAAWA,EACXC,KAASA,EACTC,cAAkBA,EAClBC,MAAUA,EACVC,WAAeA","file":"../binding.js","sourcesContent":["define([\r\n\t\"skylark-utils-dom/query\",\r\n\t\"./jc\",\r\n\t\"./langx\",\r\n\t\"./plugins\",\r\n\t\"./binding/Binder\",\r\n\t\"./binding/bind\",\r\n\t\"./binding/VirtualBinder\",\r\n\t\"./binding/vbind\",\r\n\t\"./binding/vbindArray\"\r\n],function($, jc,langx,plugins,Binder,bind,VirtualBinder,vbind,vbindArray){\r\n\r\n\tvar REGCOMMA = /,/g;\r\n\r\n\r\n\t//var W = jc.W = {};\r\n\r\n\r\n\t// temporary\r\n\t//W.jctmp = {}; // not used\r\n\t//W.W = window; \r\n\t//W.FUNC = {};\r\n\r\n\r\n\r\n\t\r\n\t// ===============================================================\r\n\t// MAIN FUNCTIONS\r\n\t// ===============================================================\r\n\r\n\r\n\r\n//\tjc.$parser.push(function(path, value, type) {\r\n\tpaths.parser(function(path, value, type) {\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 'number':\r\n\t\t\tcase 'currency':\r\n\t\t\tcase 'float':\r\n\t\t\t\tvar v = +(langx.isString(value) ? value.trimAll().replace(REGCOMMA, '.') : value);\r\n\t\t\t\treturn isNaN(v) ? null : v;\r\n\r\n\t\t\tcase 'date':\r\n\t\t\tcase 'datetime':\r\n\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value instanceof Date) {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvalue = value.parseDate();\r\n\t\t\t\treturn value && value.getTime() ? value : null;\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t});\r\n\r\n\r\n\r\n\r\n\treturn jc.binding = {\r\n\t\tparser,\r\n\r\n\t\t\"Binder\" : Binder,\r\n\t\t\"bind\" : bind,\r\n\t\t\"VirtualBinder\" : VirtualBinder,\r\n\t\t\"vbind\" : vbind,\r\n\t\t\"vbindArray\" : vbindArray\r\n\t};\r\n\r\n});"]}