{"version":3,"sources":["views/componenter.js"],"names":["define","langx","extensions","registry","view","helper","storing","eventer","compiler","components","lazycom","caches","dirty","valid","find","clear","key1","key2","key3","i","arguments","length","this","get","category","key","set","value","defaults","knockknockcounter","many","noCache","callback","isWaiting","isFunction","undefined","tmp","jQuery","$","output","findComponent","r","wait","val","state","emit","warn","compile","Array","err","call","window","setter","selector","name","arg","beg","push","setTimeout","apply","SETTER","arr","o","TYPE_FN","setInterval","now","c","knockknock","checkLazy","lo","namea","substring","indexOf","clean","all","index","component","element","$removed","inDOM","attr","ATTRDEL","statics","destroy","ID","remove","nodeName","off","$main","$data","dom","path","setter2","getter","getter2","make","splice","is","$parser","$formatter","com_valid","onlyComponent","isExcept","join","except","flags","item","lastIndexOf","wildcard","pathmaker","com","$loaded","$compare","$except","visible","hidden","enabled","SELINPUT","disabled","$valid_disabled","_id","$valid","$interaction","com_validate2","$validate","validate","com_dirty","skipEmitState","cache","$dirty_disabled","$dirty","each","fn","replace","notify","$ticks","Math","random","toString","j","p","binders","binderbind","setterX","stateX","emitwatch","getx","prepare","obj","el","forEach","config","reconfigure","empties","configure","$prepared","$ready","attrcom","Function","$default","$binded","done","$init","n","trigger","cls","split","$jclass","tclass","id","$lazy","$name","usage","expire","isString","add","env","getTime","isNumber","Date","a","M","replaceWildcard"],"mappings":"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","file":"../../views/componenter.js","sourcesContent":["define([\r\n\t\"../langx\",\r\n\t\"../components/extensions\",\r\n\t\"../components/registry\"\r\n],function(langx, extensions, registry){\r\n\t\r\n\tfunction componentor(view) {\r\n\t\tvar helper = view.helper,\r\n\t\t\tstoring = view.storing,\r\n\t\t\teventer = view.eventer,\r\n\t\t\tcompiler = view.compiler,\r\n\t\t\tcomponents = [],\r\n\t\t\tlazycom = {},\r\n\t\t\tcaches = {\r\n\t\t\t\tdirty : {},\r\n\t\t\t\tvalid : {},\r\n\t\t\t\tfind : {},\r\n\t\t\t\tclear : function(key1,key2,key3) {\r\n\t\t\t\t\tfor (var i = 1; i<arguments.length;i++) {\r\n\t\t\t\t\t\tvar key = arguments[i];\r\n\t\t\t\t\t\tthis[key] = {};\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tget : function(category,key) {\r\n\t\t\t\t\tthis[category][key];\r\n\t\t\t\t},\r\n\r\n\t\t\t\tset : function(category,key,value) {\r\n\t\t\t\t\tthis[category][key] = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\r\n\t\t\tdefaults = {};\r\n\r\n\t\tvar knockknockcounter = 0;\r\n\r\n\r\n\r\n\t\tsetInterval(function() {\r\n\t\t\t//W.DATETIME = W.NOW = new Date();\r\n\t\t\tlangx.now(true);\r\n\t\t\tvar c = components;\r\n\t\t\tfor (var i = 0, length = c.length; i < length; i++)\r\n\t\t\t\tc[i].knockknock && c[i].knockknock(knockknockcounter);\r\n\t\t\teventer.emit('knockknock', knockknockcounter++);  // EMIT\r\n\t\t}, 60000);\r\n\r\n\t\tfunction checkLazy(name) {\r\n\t\t\tvar lo = lazycom[name];\r\n\r\n\t\t\tif (!lo) {\r\n\t\t\t\tvar namea = name.substring(0, name.indexOf('@'));\r\n\t\t\t\tif (namea && name !== namea) {\r\n\t\t\t\t\tlo = lazycom[name] = lazycom[namea] = { state: 1 };\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlo = lazycom[name] = { state: 1 };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn lo;\t\t\t\r\n\t\t}\r\n\r\n\t\tfunction each(fn, path) {   // M.each\r\n\t\t\tvar wildcard = path ? path.lastIndexOf('*') !== -1 : false;\r\n\t\t\tif (wildcard) {\r\n\t\t\t\tpath = path.replace('.*', '');\r\n\t\t\t}\r\n\t\t\tvar all = components;//M.components;\r\n\t\t\tvar index = 0;\r\n\t\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\t\tvar com = all[i];\r\n\t\t\t\tif (!com || !com.$loaded || com.$removed || (path && (!com.path || !com.$compare(path)))) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tvar stop = fn(com, index++, wildcard);\r\n\t\t\t\tif (stop === true) {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tfunction com_validate2(com) {\r\n\r\n\t\t\tvar valid = true;\r\n\r\n\t\t\tif (com.disabled) {\r\n\t\t\t\treturn valid;\r\n\t\t\t}\r\n\r\n\t\t\tif (com.$valid_disabled) {\r\n\t\t\t\treturn valid;\r\n\t\t\t}\r\n\r\n\t\t\tvar arr = [];\r\n\t\t\tcom.state && arr.push(com);\r\n\t\t\tcom.$validate = true;\r\n\r\n\t\t\tif (com.validate) {\r\n\t\t\t\tcom.$valid = com.validate(get(com.path));\r\n\t\t\t\tcom.$interaction(102);\r\n\t\t\t\tif (!com.$valid)\r\n\t\t\t\t\tvalid = false;\r\n\t\t\t}\r\n\r\n\t\t\tcaches.clear('valid');\r\n\t\t\tlangx.state(arr, 1, 1);\r\n\t\t\treturn valid;\r\n\t\t}\r\n\r\n\t\tfunction com_dirty(path, value, onlyComponent, skipEmitState) {\r\n\t\t\tvar cache = caches.dirty;\r\n\t\t\tvar isExcept = value instanceof Array;\r\n\t\t\tvar key = path + (isExcept ? '>' + value.join('|') : '');  // 'dirty' + \r\n\t\t\tvar except = null;\r\n\r\n\t\t\tif (isExcept) {\r\n\t\t\t\texcept = value;\r\n\t\t\t\tvalue = undefined;\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof(value) !== 'boolean' && cache[key] !== undefined) {\r\n\t\t\t\treturn cache[key];\r\n\t\t\t}\r\n\r\n\t\t\tvar dirty = true;\r\n\t\t\tvar arr = value !== undefined ? [] : null;\r\n\t\t\tvar flags = null;\r\n\r\n\t\t\tif (isExcept) {\r\n\t\t\t\tvar is = false;\r\n\t\t\t\tflags = {};\r\n\t\t\t\texcept = except.remove(function(item) {\r\n\t\t\t\t\tif (item.substring(0, 1) === '@') {\r\n\t\t\t\t\t\tflags[item.substring(1)] = true;\r\n\t\t\t\t\t\tis = true;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\t!is && (flags = null);\r\n\t\t\t\tisExcept = except.length > 0;\r\n\t\t\t}\r\n\r\n\t\t\tvar index = path.lastIndexOf('.*');\r\n\t\t\tvar wildcard = index !== -1;\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tpath = path.substring(0, index);\r\n\t\t\t}\r\n\r\n\t\t\tpath = pathmaker(path);\r\n\r\n\t\t\tvar all = components;//M.components;\r\n\t\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\t\tvar com = all[i];\r\n\r\n\t\t\t\tif (!com || com.$removed || !com.$loaded || !com.path || !com.$compare(path) || (isExcept && com.$except(except)))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tif (flags && ((flags.visible && !com.visible()) || (flags.hidden && !com.hidden()) || (flags.enabled && com.find(SELINPUT).is(':disabled')) || (flags.disabled && com.find(SELINPUT).is(':enabled'))))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tif (com.disabled || com.$dirty_disabled) {\r\n\t\t\t\t\tarr && com.state && arr.push(com);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value === undefined) {\r\n\t\t\t\t\tif (com.$dirty === false)\r\n\t\t\t\t\t\tdirty = false;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcom.state && arr.push(com);\r\n\r\n\t\t\t\tif (!onlyComponent) {\r\n\t\t\t\t\tif (wildcard || com.path === path) {\r\n\t\t\t\t\t\tcom.$dirty = value;\r\n\t\t\t\t\t\tcom.$interaction(101);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (onlyComponent._id === com._id) {\r\n\t\t\t\t\tcom.$dirty = value;\r\n\t\t\t\t\tcom.$interaction(101);\r\n\t\t\t\t}\r\n\t\t\t\tif (com.$dirty === false)\r\n\t\t\t\t\tdirty = false;\r\n\t\t\t}\r\n\r\n\t\t\tcaches.clear('dirty');\r\n\t\t\tcaches.set('dirty',key,dirty);\r\n\r\n\t\t\t// For double hitting component.state() --> look into COM.invalid()\r\n\t\t\t!skipEmitState && state(arr, 1, 2);\r\n\t\t\treturn dirty;\r\n\t\t}\r\n\r\n\t\tfunction com_valid(path, value, onlyComponent) {\r\n\r\n\t\t\tvar isExcept = value instanceof Array;\r\n\t\t\tvar key =  path + (isExcept ? '>' + value.join('|') : ''); // 'valid' +\r\n\t\t\tvar except = null;\r\n\r\n\t\t\tif (isExcept) {\r\n\t\t\t\texcept = value;\r\n\t\t\t\tvalue = undefined;\r\n\t\t\t}\r\n\r\n\t\t\tvar valid = caches.get(\"valid\",key);\r\n\r\n\t\t\tif (typeof(value) !== 'boolean' && valid !== undefined) {\r\n\t\t\t\treturn valid; //cache[key];\r\n\t\t\t}\r\n\r\n\t\t\tvar flags = null;\r\n\r\n\t\t\tif (isExcept) {\r\n\t\t\t\tvar is = false;\r\n\t\t\t\tflags = {};\r\n\t\t\t\texcept = except.remove(function(item) {\r\n\t\t\t\t\tif (item.substring(0, 1) === '@') {\r\n\t\t\t\t\t\tflags[item.substring(1)] = true;\r\n\t\t\t\t\t\tis = true;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\t!is && (flags = null);\r\n\t\t\t\tisExcept = except.length > 0;\r\n\t\t\t}\r\n\r\n\t\t\tvalid = true;\r\n\t\t\tvar arr = value !== undefined ? [] : null;\r\n\r\n\t\t\tvar index = path.lastIndexOf('.*');\r\n\t\t\tvar wildcard = index !== -1;\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\tpath = path.substring(0, index);\r\n\t\t\t}\r\n\r\n\t\t\tpath = pathmaker(path);\r\n\r\n\t\t\tvar all = components;//M.components;\r\n\t\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\t\tvar com = all[i];\r\n\r\n\t\t\t\tif (!com || com.$removed || !com.$loaded || !com.path || !com.$compare(path) || (isExcept && com.$except(except)))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tif (flags && ((flags.visible && !com.visible()) || (flags.hidden && !com.hidden()) || (flags.enabled && com.find(SELINPUT).is(':disabled')) || (flags.disabled && com.find(SELINPUT).is(':enabled'))))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tif (com.disabled || com.$valid_disabled) {\r\n\t\t\t\t\tarr && com.state && arr.push(com);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (value === undefined) {\r\n\t\t\t\t\tif (com.$valid === false)\r\n\t\t\t\t\t\tvalid = false;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcom.state && arr.push(com);\r\n\r\n\t\t\t\tif (!onlyComponent) {\r\n\t\t\t\t\tif (wildcard || com.path === path) {\r\n\t\t\t\t\t\tcom.$valid = value;\r\n\t\t\t\t\t\tcom.$interaction(102);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (onlyComponent._id === com._id) {\r\n\t\t\t\t\tcom.$valid = value;\r\n\t\t\t\t\tcom.$interaction(102);\r\n\t\t\t\t}\r\n\t\t\t\tif (com.$valid === false) {\r\n\t\t\t\t\tvalid = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcaches.clear('valid');\r\n\t\t\tcaches.set('valid',key, valid) ;\r\n\t\t\tlangx.state(arr, 1, 1);\r\n\t\t\treturn valid;\r\n\t\t}\r\n\r\n\t  /**\r\n\t   * Notifies a setter in all components on the path.\r\n\t   * @param  {String} path \r\n\t   */\r\n\t\tfunction notify() { // W.NOTIFY\r\n\r\n\t\t\tvar arg = arguments;\r\n\t\t\tvar all = view.components;//M.components;\r\n\r\n\t\t\tvar $ticks = Math.random().toString().substring(2, 8);\r\n\t\t\tfor (var j = 0; j < arg.length; j++) {\r\n\t\t\t\tvar p = arg[j];\r\n\t\t\t\tbinders[p] && binderbind(p, p, $ticks);\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\t\tvar com = all[i];\r\n\t\t\t\tif (!com || com.$removed || com.disabled || !com.$loaded || !com.path)\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tvar is = 0;\r\n\t\t\t\tfor (var j = 0; j < arg.length; j++) {\r\n\t\t\t\t\tif (com.path === arg[j]) {\r\n\t\t\t\t\t\tis = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (is) {\r\n\t\t\t\t\tvar val = com.get();\r\n\t\t\t\t\tcom.setter && com.setterX(val, com.path, 1);\r\n\t\t\t\t\tcom.state && com.stateX(1, 6);\r\n\t\t\t\t\tcom.$interaction(1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (var j = 0; j < arg.length; j++) {\r\n\t\t\t\temitwatch(arg[j], getx(arg[j]), 1);  // GET\r\n\t\t\t}\r\n\r\n\t\t\treturn this;  // W\r\n\t\t}\r\n\r\n\t\tfunction validate(path, except) { //W.VALIDATE =\r\n\r\n\t\t\tvar arr = [];\r\n\t\t\tvar valid = true;\r\n\r\n\t\t\tpath = pathmaker(path.replaceWildcard()); //pathmaker(path.replace(REGWILDCARD, ''));\r\n\r\n\t\t\tvar flags = null;\r\n\t\t\tif (except) {\r\n\t\t\t\tvar is = false;\r\n\t\t\t\tflags = {};\r\n\t\t\t\texcept = except.remove(function(item) {\r\n\t\t\t\t\tif (item.substring(0, 1) === '@') {\r\n\t\t\t\t\t\tflags[item.substring(1)] = true;\r\n\t\t\t\t\t\tis = true;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t\t!is && (flags = null);\r\n\t\t\t\t!except.length && (except = null);\r\n\t\t\t}\r\n\r\n\t\t\tvar all = M.components.all;//M.components;\r\n\t\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\t\tvar com = all[i];\r\n\t\t\t\tif (!com || com.$removed || com.disabled || !com.$loaded || !com.path || !com.$compare(path))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tif (flags && ((flags.visible && !com.visible()) || (flags.hidden && !com.hidden()) || (flags.enabled && com.find(SELINPUT).is(':disabled')) || (flags.disabled && com.find(SELINPUT).is(':enabled'))))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tcom.state && arr.push(com);\r\n\r\n\t\t\t\tif (com.$valid_disabled)\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tcom.$validate = true;\r\n\t\t\t\tif (com.validate) {\r\n\t\t\t\t\tcom.$valid = com.validate(get(com.path));\r\n\t\t\t\t\tcom.$interaction(102);\r\n\t\t\t\t\tif (!com.$valid)\r\n\t\t\t\t\t\tvalid = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tcaches.clear('valid');\r\n\t\t\tstate(arr, 1, 1);\r\n\t\t\treturn valid;\r\n\t\t}\r\n\r\n\t\tfunction prepare(obj) {\r\n\r\n\t\t\tif (!obj) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar el = obj.element;\r\n\r\n\t\t\tif(extensions[obj.name]) {\r\n\t\t\t\textensions[obj.name].forEach(function(item) {\r\n\t\t\t\t\tif (item.config) {\r\n\t\t\t\t\t\tobj.reconfigure(item.config, langx.empties.fn);\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.fn.call(obj, obj, obj.config);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tvar value = obj.get();\r\n\t\t\tvar tmp;\r\n\r\n\t\t\tif (obj.configure) {\r\n\t\t\t\tobj.reconfigure(obj.config, undefined, true);\r\n\t\t\t}\r\n\r\n\t\t\tobj.$loaded = true;\r\n\r\n\t\t\tif (obj.setter) {\r\n\t\t\t\tif (!obj.$prepared) {\r\n\r\n\t\t\t\t\tobj.$prepared = true;\r\n\t\t\t\t\tobj.$ready = true;\r\n\r\n\t\t\t\t\ttmp = helper.attrcom(obj, 'value');\r\n\r\n\t\t\t\t\tif (tmp) {\r\n\t\t\t\t\t\tif (!defaults[tmp]) {\r\n\t\t\t\t\t\t\tdefaults[tmp] = new Function('return ' + tmp);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tobj.$default = defaults[tmp];\r\n\t\t\t\t\t\tif (value === undefined) {\r\n\t\t\t\t\t\t\tvalue = obj.$default();\r\n\t\t\t\t\t\t\tstoring.set(obj.path, value);\r\n\t\t\t\t\t\t\tstoring.emitwatch(obj.path, value, 0);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (obj.$binded)\r\n\t\t\t\t\t\tobj.$interaction(0);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tobj.$binded = true;\r\n\t\t\t\t\t\tobj.setterX(value, obj.path, 0);\r\n\t\t\t\t\t\tobj.$interaction(0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tobj.$binded = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.validate && !obj.$valid_disabled) {\r\n\t\t\t\tobj.$valid = obj.validate(obj.get(), true);\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.done) {\r\n\t\t\t\tsetTimeout(obj.done, 20);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (obj.state) {\r\n\t\t\t\tobj.stateX(0, 3);\r\n\t\t\t}\r\n\r\n\t\t\tif (obj.$init) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tvar fn = get(obj.$init);\r\n\t\t\t\t\tif (langx.isFunction(fn)) {\r\n\t\t\t\t\t\tfn.call(obj, obj);\t\r\n\t\t\t\t\t} \r\n\t\t\t\t\tobj.$init = undefined;\r\n\t\t\t\t}, 5);\r\n\t\t\t}\r\n\r\n\t\t\tvar n = 'component';\r\n\t\t\tel.trigger(n);\r\n\t\t\tel.off(n);\r\n\r\n\t\t\tvar cls = helper.attrcom(el, 'class');\r\n\t\t\tcls && (function(cls) {\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tcls = cls.split(' ');\r\n\t\t\t\t\tvar tmp = el[0].$jclass || {};\r\n\t\t\t\t\tfor (var i = 0, length = cls.length; i < length; i++) {\r\n\t\t\t\t\t\tif (!tmp[cls[i]]) {\r\n\t\t\t\t\t\t\tel.tclass(cls[i]);\r\n\t\t\t\t\t\t\ttmp[cls[i]] = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel[0].$jclass = tmp;\r\n\t\t\t\t}, 5);\r\n\t\t\t})(cls);\r\n\r\n\t\t\tif (obj.id) {\r\n\t\t\t\tstoring.emit('#' + obj.id, obj);  // EMIT\r\n\t\t\t}\r\n\t\t\tstoring.emit('@' + obj.name, obj); // EMIT\r\n\t\t\tstoring.emit(n, obj);  // EMIT\r\n\t\t\tcaches.clear('find');\r\n\t\t\tif (obj.$lazy) {\r\n\t\t\t\tobj.$lazy.state = 3;\r\n\t\t\t\tdelete obj.$lazy;\r\n\t\t\t\tstoring.emit('lazy', obj.$name, false); // EMIT\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t/*\r\n\t\t * Finds all component according to the selector.\r\n\t\t *   find(selector,callback) -> wait\r\n\t\t *   find(selector,many,callback,timeout) -> wait\r\n\t\t *   find(selector,manay,nocache,callback) -> no wait\r\n\t\t *   find(selector,manay,timeout) --> no wait\r\n\t\t * @value {String} selector\r\n         * @many {Boolean} Optional, output will be Array\r\n         * @nocache {Boolean} Optional\r\n         * @callback {Function(response)} Optional and the method will be wait for non-exist components\r\n         * @timeout {Number} Optional, in milliseconds (default: 0)\r\n         * returns {Component} or {Array Component}\r\n\t\t */\r\n\t\tfunction find(value, many, noCache, callback) { //W.FIND\r\n\t\t\tvar cache = caches.find;\r\n\r\n\t\t\tvar isWaiting = false;\r\n\r\n\t\t\tif (langx.isFunction(many)) {\r\n\t\t\t\tisWaiting = true;\r\n\t\t\t\tcallback = many;\r\n\t\t\t\tmany = undefined;\r\n\t\t\t\t// noCache = undefined;\r\n\t\t\t\t// noCache can be timeout\r\n\t\t\t} else if (langx.isFunction(noCache)) {\r\n\t\t\t\tvar tmp = callback;\r\n\t\t\t\tisWaiting = true;\r\n\t\t\t\tcallback = noCache;\r\n\t\t\t\tnoCache = tmp;\r\n\t\t\t\t// noCache can be timeout\r\n\t\t\t}\r\n\r\n\t\t\tif (isWaiting) {\r\n\t\t\t\tlangx.wait(function() {  // WAIT\r\n\t\t\t\t\tvar val = find(value, many, noCache);\r\n\t\t\t\t\tif (lazycom[value] && lazycom[value].state === 1) {\r\n\t\t\t\t\t\tlazycom[value].state = 2;\r\n\t\t\t\t\t\teventer.emit('lazy', value, true); // EMIT\r\n\t\t\t\t\t\twarn('Lazy load: ' + value);\r\n\t\t\t\t\t\tcompiler.compile();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn val instanceof Array ? val.length > 0 : !!val;\r\n\t\t\t\t}, function(err) {\r\n\t\t\t\t\t// timeout\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tvar val = find(value, many);\r\n\t\t\t\t\t\tcallback.call(val ? val : window, val);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 500, noCache);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Element\r\n\t\t\tif (typeof(value) === 'object') {\r\n\t\t\t\tif (!(value instanceof jQuery)) {\r\n\t\t\t\t\tvalue = $(value);\r\n\t\t\t\t}\r\n\t\t\t\tvar output = helper.findComponent(value, '');\r\n\t\t\t\treturn many ? output : output[0];\r\n\t\t\t}\r\n\r\n\t\t\tvar key, output;\r\n\r\n\t\t\tif (!noCache) {\r\n\t\t\t\tkey = value + '.' + (many ? 0 : 1);  // 'find.' + \r\n\t\t\t\toutput = caches.get(\"find\",key);//output = cache[key];\r\n\t\t\t\tif (output) {\r\n\t\t\t\t\treturn output;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar r = helper.findComponent(null, value);\r\n\t\t\tif (!many) {\r\n\t\t\t\tr = r[0];\r\n\t\t\t}\r\n\t\t\toutput = r;\r\n\t\t\tif (!noCache) {\r\n\t\t\t\tcaches.set(\"find\",key,output);//cache[key] = output;\r\n\t\t\t}\r\n\t\t\treturn output;\r\n\t\t}\r\n\r\n\t   /**\r\n\t   * Reconfigures all components according to the selector.\r\n\t   * @param  {String} selector \r\n\t   * @param  {String/Object} config A default configuration\r\n\t   */\r\n\t\tfunction reconfigure(selector, value) { // W.RECONFIGURE = \r\n\t\t\tsetter(true, selector, 'reconfigure', value);\r\n\t\t\treturn this; // RECONFIGURE\r\n\t\t};\r\n\r\n\t   /**\r\n\t   * Set a new value to the specific method in components.\r\n\t   * @param  {Boolean} wait Optional, can it wait for non-exist components? \r\n\t   * @param  {String} selector  \r\n\t   * @param  {String} name Property or Method name (can't be nested) \r\n\t   * @param  {Object} argA Optional, additional argument\r\n\t   * @param  {Object} argB Optional, additional argument\r\n\t   * @param  {Object} argN Optional, additional argument\r\n\t   */\r\n\t\tfunction setter(selector, name) { // W.SETTER\r\n\r\n\t\t\tvar arg = [];\r\n\t\t\tvar beg = selector === true ? 3 : 2;\r\n\r\n\t\t\tfor (var i = beg; i < arguments.length; i++) {\r\n\t\t\t\targ.push(arguments[i]);\r\n\t\t\t}\r\n\r\n\t\t\tif (beg === 3) {\r\n\r\n\t\t\t\tselector = name;\r\n\r\n\t\t\t\tif (lazycom[selector] && lazycom[selector].state !== 3) {\r\n\r\n\t\t\t\t\tif (lazycom[selector].state === 1) {\r\n\t\t\t\t\t\tlazycom[selector].state = 2;\r\n\t\t\t\t\t\tstoring.emit('lazy', selector, true); // EMIT\r\n\t\t\t\t\t\twarn('Lazy load: ' + selector);\r\n\t\t\t\t\t\tcompiler.compile();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetTimeout(function(arg) {\r\n\t\t\t\t\t\targ[0] = true;\r\n\t\t\t\t\t\tsetter.apply(window, arg);\r\n\t\t\t\t\t}, 555, arguments);\r\n\r\n\t\t\t\t\treturn SETTER;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tname = arguments[2];\r\n\r\n\t\t\t\tfind(selector, true, function(arr) {\r\n\t\t\t\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\t\t\t\tvar o = arr[i];\r\n\t\t\t\t\t\tif (typeof(o[name]) === TYPE_FN)\r\n\t\t\t\t\t\t\to[name].apply(o, arg);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\to[name] = arg[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (lazycom[selector] && lazycom[selector].state !== 3) {\r\n\r\n\t\t\t\t\tif (lazycom[selector].state === 1) {\r\n\t\t\t\t\t\tlazycom[selector].state = 2;\r\n\t\t\t\t\t\tstoring.emit('lazy', selector, true);  // EMIT\r\n\t\t\t\t\t\twarn('Lazy load: ' + selector);\r\n\t\t\t\t\t\tcompiler.compile();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetTimeout(function(arg) {\r\n\t\t\t\t\t\tsetter.apply(window, arg);\r\n\t\t\t\t\t}, 555, arguments);\r\n\r\n\t\t\t\t\treturn SETTER;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar arr = helper.find(selector, true);\r\n\t\t\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\t\t\tvar o = arr[i];\r\n\t\t\t\t\tif (typeof(o[name]) === TYPE_FN)\r\n\t\t\t\t\t\to[name].apply(o, arg);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\to[name] = arg[0];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this; // SETTER\r\n\t\t};\r\n\r\n\r\n\t\t// @type {String} Can be \"init\", \"manually\", \"input\" or \"custom\"\r\n\t\t// @expire {String/Number}, for example \"5 minutes\"\r\n\t\t// @path {String} Optional, for example \"users.form.name\"\r\n\t\t// returns {Array Component} or {jComponent}\r\n\t\tfunction usage(name, expire, path, callback) { //W.LASTMODIFICATION = W.USAGE = M.usage = \r\n\r\n\t\t\tvar type = typeof(expire);\r\n\t\t\tif (langx.isString(expire)) {\r\n\t\t\t\t//var dt = W.NOW = W.DATETIME = new Date();\r\n\t\t\t\tvar dt = langx.now(true);\r\n\t\t\t\texpire = dt.add('-' + expire.env()).getTime();\r\n\t\t\t} else if (langx.isNumber(expire))\r\n\t\t\t\texpire = Date.now() - expire;\r\n\r\n\t\t\tif (langx.isFunction(path)) {\r\n\t\t\t\tcallback = path;\r\n\t\t\t\tpath = undefined;\r\n\t\t\t}\r\n\r\n\t\t\tvar arr = [];\r\n\t\t\tvar a = null;\r\n\r\n\t\t\tif (path) {\r\n\t\t\t\ta = find('.' + path, true);\r\n\t\t\t} else {\r\n\t\t\t\ta = components;//M.components;\r\n\t\t\t}\r\n\r\n\t\t\tfor (var i = 0; i < a.length; i++) {\r\n\t\t\t\tvar c = a[i];\r\n\t\t\t\tif (c.usage[name] >= expire) {\r\n\t\t\t\t\tif (callback) {\r\n\t\t\t\t\t\tcallback(c);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tarr.push(c);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn callback ? M : arr;\r\n\t\t}\r\n\r\n\r\n\t\tfunction clean() {\r\n\t\t\tvar all =  components,\r\n\t \t\t\tindex = 0;\r\n\t\t\t\tlength = all.length;\r\n\r\n\t\t\twhile (index < length) {\r\n\r\n\t\t\t\tvar component = all[index++];\r\n\r\n\t\t\t\tif (!component) {\r\n\t\t\t\t\tindex--;\r\n\t\t\t\t\tall.splice(index, 1);\r\n\t\t\t\t\tlength = all.length;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar c = component.element;\r\n\t\t\t\tif (!component.$removed && c && inDOM(c[0])) {\r\n\t\t\t\t\tif (!component.attr(ATTRDEL)) {\r\n\t\t\t\t\t\tif (component.$parser && !component.$parser.length)\r\n\t\t\t\t\t\t\tcomponent.$parser = undefined;\r\n\t\t\t\t\t\tif (component.$formatter && !component.$formatter.length)\r\n\t\t\t\t\t\t\tcomponent.$formatter = undefined;\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\teventer.emit('destroy', component.name, component);\r\n\t\t\t\teventer.emit('component.destroy', component.name, component);\r\n\r\n\t\t\t\tdelete statics['$ST_' + component.name];\r\n\t\t\t\tcomponent.destroy && component.destroy();\r\n\t\t\t\t$('#css' + component.ID).remove();\r\n\r\n\t\t\t\tif (c[0].nodeName !== 'BODY') {\r\n\t\t\t\t\tc.off();\r\n\t\t\t\t\tc.find('*').off();\r\n\t\t\t\t\tc.remove();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcomponent.$main = undefined;\r\n\t\t\t\tcomponent.$data = null;\r\n\t\t\t\tcomponent.dom = null;\r\n\t\t\t\tcomponent.$removed = 2;\r\n\t\t\t\tcomponent.path = null;\r\n\t\t\t\tcomponent.setter = null;\r\n\t\t\t\tcomponent.setter2 = null;\r\n\t\t\t\tcomponent.getter = null;\r\n\t\t\t\tcomponent.getter2 = null;\r\n\t\t\t\tcomponent.make = null;\r\n\r\n\t\t\t\tindex--;\r\n\t\t\t\tall.splice(index, 1);\r\n\t\t\t\tlength = all.length; // M.components.length\r\n\t\t\t\tis = true;\r\n\t\t\t}\r\n\r\n\t\t\tcaches = {\r\n\t\t\t\tdirty : {},\r\n\t\t\t\tvalid : {},\r\n\t\t\t\tfind : {}\r\n\t\t\t};\t\t\t\r\n\t\t}\r\n\r\n\r\n\t\treturn {\r\n\t\t\t\"checkLazy\" : checkLazy,\r\n\t\t\t\"clean\" : clean,\r\n\t\t\t\"com_valid\" : com_valid,\r\n\t\t\t\"com_validate2\" : com_validate2,\r\n\t\t\t\"com_dirty\" : com_dirty,\r\n\t\t\t\"each\" : each,\r\n\t\t\t\"find\"  : find,\r\n\t\t\t\"notify\" : notify,\r\n\t\t\t\"prepare\" : prepare,\r\n\t\t\t\"reconfigure\" : reconfigure,\r\n\t\t\t\"setter\" : setter,\r\n\t\t\t\"usage\" : usage,\r\n\t\t\t\"validate\" : validate\r\n\t\t}\r\n\t}\r\n\t\r\n\r\n\treturn componentor;\r\n});"]}