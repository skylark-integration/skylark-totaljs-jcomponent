{"version":3,"sources":["views/pend.js"],"names":["define","fallbackpending","downloadfallback","C","importing","setTimeout","langx","setTimeout2","splice","wait","item","next","Component","registry","warn","http","importCache","MD","fallback","format","fallbackcache","pending","shift","$domready","ready","is","$","arr","Object","keys","i","length","push","toLowerCase"],"mappings":";;;;;;;AAAAA,UAAU,WACT,IAAIC,KAEJ,SAASC,IACJC,EAAEC,UACLC,WAAWH,EAAkB,KAE7BI,MAAMC,YAAY,YAAa,WAC9BN,EAAgBO,OAAO,GAAGC,KAAK,SAASC,EAAMC,GACzCC,UAAUC,SAASH,GACtBC,KAEAG,KAAK,gBAAkBJ,GACvBK,KAAKC,YAAYC,GAAGC,SAASC,OAAOT,GAAOO,GAAGG,cAAeT,KAE5D,IACD,KAgCL,OA5BA,WAEC,IAAIA,EAAOR,EAAEkB,QAAQC,QACrB,GAAIX,EACHA,SAEI,GAAIY,YAEJpB,EAAEqB,QACLrB,EAAEsB,IAAK,GAEJR,GAAGC,UAAYA,SAASQ,IAAMvB,EAAEC,WAAW,CAE9C,IADA,IAAIuB,EAAMC,OAAOC,KAAKX,UACbY,EAAI,EAAGA,EAAIH,EAAII,OAAQD,IAChB,MAAXH,EAAIG,IAEK,IADFZ,SAASS,EAAIG,MAEtB7B,EAAgB+B,KAAKL,EAAIG,GAAGG,eAC5Bf,SAASS,EAAIG,IAAM,GAItBZ,SAASQ,EAAI,EACbzB,EAAgB8B,QAAU7B","file":"../../views/pend.js","sourcesContent":["define([],function(){\r\n\tvar fallbackpending = [];\r\n\r\n\tfunction downloadfallback() {\r\n\t\tif (C.importing) {\r\n\t\t\tsetTimeout(downloadfallback, 1000);\r\n\t\t} else {\r\n\t\t\tlangx.setTimeout2('$fallback', function() {\r\n\t\t\t\tfallbackpending.splice(0).wait(function(item, next) {\r\n\t\t\t\t\tif (Component.registry[item]){ // M.$components\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\twarn('Downloading: ' + item);\r\n\t\t\t\t\t\thttp.importCache(MD.fallback.format(item), MD.fallbackcache, next);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 3);\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction nextpending() {\r\n\r\n\t\tvar next = C.pending.shift();\r\n\t\tif (next) {\r\n\t\t\tnext();\r\n\t\t}\r\n\t\telse if ($domready) {\r\n\r\n\t\t\tif (C.ready)\r\n\t\t\t\tC.is = false;\r\n\r\n\t\t\tif (MD.fallback && fallback.$ && !C.importing) {\r\n\t\t\t\tvar arr = Object.keys(fallback);\r\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tif (arr[i] !== '$') {\r\n\t\t\t\t\t\tvar num = fallback[arr[i]];\r\n\t\t\t\t\t\tif (num === 1) {\r\n\t\t\t\t\t\t\tfallbackpending.push(arr[i].toLowerCase());\r\n\t\t\t\t\t\t\tfallback[arr[i]] = 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfallback.$ = 0;\r\n\t\t\t\tfallbackpending.length && downloadfallback();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn nextpending;\r\n\t\r\n});"]}