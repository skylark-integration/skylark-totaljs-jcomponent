{"version":3,"sources":["views/cache.js"],"names":["define","langx","view","page","get","key","set","value","this","clear","arguments","length","keys","Object","i","remove","a","j","substring"],"mappings":";;;;;;;AAAAA,QACC,YACC,SAASC,GAkDV,OAhDA,SAAeC,GACd,IAAIC,KAuCJ,OACCC,IAtCD,SAAqBC,GACpB,OAAOF,EAAKE,IAsCZC,IAnCD,SAAqBD,EAAIE,GAExB,OADAJ,EAAKE,GAAOE,EACLC,MAkCPC,MA/BD,WAEC,GAAKC,UAAUC,OAOf,IAFA,IAAIC,EAAOC,OAAOD,KAAKT,GAEdW,EAAI,EAAGH,EAASC,EAAKD,OAAQG,EAAIH,EAAQG,IAAK,CAKtD,IAJA,IAAIT,EAAMO,EAAKE,GACXC,GAAS,EACTC,EAAIN,UAECO,EAAI,EAAGA,EAAID,EAAEL,OAAQM,IAC7B,GAAIZ,EAAIa,UAAU,EAAGF,EAAEC,GAAGN,UAAYK,EAAEC,GAAxC,CAGAF,GAAS,EACT,MAGGA,UACIZ,EAAKE,QApBbF","file":"../../views/cache.js","sourcesContent":["define([\r\n\t\"../langx\"\r\n],function(langx){\r\n\r\n\tfunction cache(view) {\t\r\n\t\tvar page = {};\r\n\r\n\t\tfunction getPageData(key) {\r\n\t\t\treturn page[key];\r\n\t\t}\r\n\r\n\t\tfunction setPageData(key,value) {\r\n\t\t\tpage[key] = value;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tfunction clearPageData() {\r\n\r\n\t\t\tif (!arguments.length) {\r\n\t\t\t\tpage = {};\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar keys = Object.keys(page);\r\n\r\n\t\t\tfor (var i = 0, length = keys.length; i < length; i++) {\r\n\t\t\t\tvar key = keys[i];\r\n\t\t\t\tvar remove = false;\r\n\t\t\t\tvar a = arguments;\r\n\r\n\t\t\t\tfor (var j = 0; j < a.length; j++) {\r\n\t\t\t\t\tif (key.substring(0, a[j].length) !== a[j]) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tremove = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (remove) {\r\n\t\t\t\t\tdelete page[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\t\"get\" : getPageData,\r\n\t\t\t\"set\" : setPageData,\r\n\t\t\t\"clear\" : clearPageData\r\n\t\t}\r\n\r\n\t}\r\n\r\n\treturn cache;\r\n});"]}