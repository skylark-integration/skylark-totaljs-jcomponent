{"version":3,"sources":["Component.js"],"names":["define","jc","langx","caches","topic","Usage","configs","extensions","counter","com_validate2","com","valid","disabled","$valid_disabled","arr","state","push","$validate","validate","$valid","get","path","$interaction","clear","Component","Evented","inherit","[object Object]","name","self","this","_id","ID","usage","$dirty","$parser","$formatter","$skip","$ready","$path","trim","$released","$bindreleased","$data","version","lastIndexOf","$name","substring","type","id","removed","make","done","prerender","destroy","released","getter","value","realtime","nobind","parser","getter2","set","stateX","what","key","$bindchanges","$state","config","EXEC","call","setterX","setter","$bindexact","indexOf","cache","$bindcache","arguments","length","skips","$format","hash","HASH","$valuehash","$setter","data","setter2","is","bt","clearTimeout","setTimeout","$bindtimeout","a","formatter","findcontrol","element","t","$com","$default","autofill","el","$","val","tmp","toString","toLowerCase","checked","PPC","prototype","i","items","o","parentNode","exec","$ppc","c","components","all","owner","$pp","$except","except","p","b","$compare","fix","index","notmodified","fields","isString","NOTMODIFIED","$waiter","prop","callback","$W","setInterval","v","clearInterval","MD","delaywatcher","keys","Object","k","hidden","offsetParent","visible","width","offsetWidth","height","offsetHeight","import","url","insert","preparator","M","release","container","undefined","$removed","attrd","find","consts","ATTRCOM","each","Array","validate2","d","e","caller","replace","remove","C","recompile","n","prev","scope","rattrd","off","dom","siblings","nested","attr","ATTRDEL","apply","now","Date","init","$binded","manually","input","default","custom","dirty","notify","NOTIFY","update","refresh","TYPE_S","tclass","cls","aclass","timeout","hclass","rclass","rclass2","search","classes","temp","add","rem","split","toggle","manual","isNumber","noscope","noScope","$noscope","nocompile","singleton","statics","blind","$$path","bindchanges","bindChanges","enable","bindexact","bindExact","bindvisible","bindVisible","delaybinder","readonly","noDirty","noValid","novalidate","noValidate","nodirty","$dirty_disabled","datasource","ds","$datasource","unwatch","fn","watch","setPath","findFormat","charCodeAt","env","s","j","join","ready","css","main","$main","parent","closest","rcwatch","reconfigure","TYPE_O","forEach","configure","$rcwatch","$config","cfg","$type","$id","$compile","$init","$class","$reconfigure","sel","TNB","number","boolean","html","current","empty","append","text","$children","m","event","on","arg","selector","isInvalid","OFF","isFunction","pathmaker","invalid","INVALID","noEmit","style","STYLE","change","CHANGE","used","reset","setDefault","kill","noClear","obj","removewaiter","removeData","ATTRDATA","setTimeout2","cleaner2","prepend","unshift","emit","evaluate","expression","nopath","EVALUATE","paths","skip","immSetx","inc","immInc","extend","immExtend","rewrite","REWRITE","immPush","$components","registry","mixin","declaration","TYPE_FN","RECOMPILE","format","FN","register","dependencies","warn","shared","item"],"mappings":"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","file":"../Component.js","sourcesContent":["define([\r\n\t\"./jc\",\r\n\t\"./langx\",\r\n\t\"./caches\",\r\n\t\"./topic\",\r\n\t\"./Usage\"\r\n],function(jc,langx, caches,topic, Usage){\r\n\tvar\tconfigs =  [],\r\n\t\textensions = {};\r\n\r\n\tvar counter = 0;\r\n\r\n\tfunction com_validate2(com) {\r\n\r\n\t\tvar valid = true;\r\n\r\n\t\tif (com.disabled) {\r\n\t\t\treturn valid;\r\n\t\t}\r\n\r\n\t\tif (com.$valid_disabled) {\r\n\t\t\treturn valid;\r\n\t\t}\r\n\r\n\t\tvar arr = [];\r\n\t\tcom.state && arr.push(com);\r\n\t\tcom.$validate = true;\r\n\r\n\t\tif (com.validate) {\r\n\t\t\tcom.$valid = com.validate(get(com.path));\r\n\t\t\tcom.$interaction(102);\r\n\t\t\tif (!com.$valid)\r\n\t\t\t\tvalid = false;\r\n\t\t}\r\n\r\n\t\tclear('valid');\r\n\t\tlangx.state(arr, 1, 1);\r\n\t\treturn valid;\r\n\t}\r\n\r\n\t// ===============================================================\r\n\t// COMPONENT DECLARATION\r\n\t// ===============================================================\r\n\r\n\tvar Component = langx.Evented.inherit({\r\n\t\t_construct(name) {\r\n\t\t\tvar self = this;\r\n\t\t\tself._id = self.ID = 'jc' + (counter++);\r\n\t\t\tself.usage = new Usage();\r\n\t\t\tself.$dirty = true;\r\n\t\t\tself.$valid = true;\r\n\t\t\tself.$validate = false;\r\n\t\t\tself.$parser = [];\r\n\t\t\tself.$formatter = [];\r\n\t\t\tself.$skip = false;\r\n\t\t\tself.$ready = false;\r\n\t\t\tself.$path;\r\n\t\t\tself.trim = true;\r\n\t\t\tself.$released = false;\r\n\t\t\tself.$bindreleased = true;\r\n\t\t\tself.$data = {};\r\n\r\n\t\t\tvar version = name.lastIndexOf('@');\r\n\r\n\t\t\tself.name = name;\r\n\t\t\tself.$name = version === -1 ? name : name.substring(0, version);\r\n\t\t\tself.version = version === -1 ? '' : name.substring(version + 1);\r\n\t\t\tself.path;\r\n\t\t\tself.type;\r\n\t\t\tself.id;\r\n\t\t\tself.disabled = false;\r\n\t\t\tself.removed = false;\r\n\r\n\t\t\tself.make;\r\n\t\t\tself.done;\r\n\t\t\tself.prerender;\r\n\t\t\tself.destroy;\r\n\t\t\tself.state;\r\n\t\t\tself.validate;\r\n\t\t\tself.released;\r\n\r\n\t\t\tself.getter = function(value, realtime, nobind) {\r\n\r\n\t\t\t\tvar self = this;\r\n\r\n\t\t\t\tvalue = self.parser(value);\r\n\t\t\t\tself.getter2 && self.getter2(value, realtime);\r\n\r\n\t\t\t\tif (realtime) {\r\n\t\t\t\t\tself.$skip = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Binds a value\r\n\t\t\t\tif (nobind) {\r\n\t\t\t\t\tcom_validate2(self);\r\n\t\t\t\t} else if (value !== self.get()) {\r\n\t\t\t\t\tself.set(value, 2);\r\n\t\t\t\t} else if (realtime === 3) {\r\n\t\t\t\t\t// A validation for same values, \"realtime=3\" is in \"blur\" event\r\n\t\t\t\t\t// Because we need to validate the input if the user leaves from the control\r\n\t\t\t\t\tcom_validate2(self);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tself.stateX = function(type, what) {\r\n\t\t\t\tvar key = type + 'x' + what;\r\n\t\t\t\tif (!self.$bindchanges || self.$state !== key) {\r\n\t\t\t\t\tself.$state = key;\r\n\t\t\t\t\tself.config.$state && EXEC.call(self, self.config.$state, type, what);\r\n\t\t\t\t\tself.state(type, what);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tself.setterX = function(value, path, type) {\r\n\r\n\t\t\t\tif (!self.setter || (self.$bindexact && self.path !== path && self.path.indexOf(path + '.') === -1 && type))\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tvar cache = self.$bindcache;\r\n\t\t\t\tif (arguments.length) {\r\n\r\n\t\t\t\t\tif (skips[self.path]) {\r\n\t\t\t\t\t\tvar s = --skips[self.path];\r\n\t\t\t\t\t\tif (s <= 0) {\r\n\t\t\t\t\t\t\tdelete skips[self.path];\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (self.$format)\r\n\t\t\t\t\t\tvalue = self.$format(value, path, type);\r\n\r\n\t\t\t\t\tif (self.$bindreleased) {\r\n\r\n\t\t\t\t\t\tif (self.$bindchanges) {\r\n\t\t\t\t\t\t\tvar hash = HASH(value);\r\n\t\t\t\t\t\t\tif (hash === self.$valuehash)\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\tself.$valuehash = hash;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Binds value directly\r\n\t\t\t\t\t\tself.config.$setter && EXEC.call(self, self.config.$setter, value, path, type);\r\n\t\t\t\t\t\tself.data('', value);\r\n\t\t\t\t\t\tself.setter(value, path, type);\r\n\t\t\t\t\t\tself.setter2 && self.setter2(value, path, type);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (self.$released) {\r\n\t\t\t\t\t\t\tcache.is = true;\r\n\t\t\t\t\t\t\tcache.value = value;\r\n\t\t\t\t\t\t\tcache.path = path;\r\n\t\t\t\t\t\t\tcache.type = type;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcache.value = value;\r\n\t\t\t\t\t\t\tcache.path = path;\r\n\t\t\t\t\t\t\tcache.type = type;\r\n\t\t\t\t\t\t\tif (!cache.bt) {\r\n\t\t\t\t\t\t\t\tcache.is = true;\r\n\t\t\t\t\t\t\t\tself.setterX();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (!self.$released && cache && cache.is) {\r\n\t\t\t\t\tcache.is = false;\r\n\t\t\t\t\tcache.bt && clearTimeout(cache.bt);\r\n\t\t\t\t\tcache.bt = setTimeout(function(self) {\r\n\t\t\t\t\t\tvar cache = self.$bindcache;\r\n\t\t\t\t\t\tcache.bt = 0; // reset timer id\r\n\r\n\t\t\t\t\t\tif (self.$bindchanges) {\r\n\t\t\t\t\t\t\tvar hash = HASH(value);\r\n\t\t\t\t\t\t\tif (hash === self.$valuehash)\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\tself.$valuehash = hash;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tself.config.$setter && EXEC.call(self, self.config.$setter, cache.value, cache.path, cache.type);\r\n\t\t\t\t\t\tself.data('', cache.value);\r\n\t\t\t\t\t\tself.setter(cache.value, cache.path, cache.type);\r\n\t\t\t\t\t\tself.setter2 && self.setter2(cache.value, cache.path, cache.type);\r\n\t\t\t\t\t}, self.$bindtimeout, self);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tself.setter = function(value, path, type) {\r\n\r\n\t\t\t\tvar self = this;\r\n\r\n\t\t\t\tif (type === 2) {\r\n\t\t\t\t\tif (self.$skip) {\r\n\t\t\t\t\t\tself.$skip = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar a = 'select-one';\r\n\t\t\t\tvalue = self.formatter(value);\r\n\r\n\t\t\t\tfindcontrol(self.element[0], function(t) {\r\n\r\n\t\t\t\t\tif (t.$com !== self)\r\n\t\t\t\t\t\tt.$com = self;\r\n\r\n\t\t\t\t\tvar path = t.$com.path;\r\n\t\t\t\t\tif (path && path.length && path !== self.path)\r\n\t\t\t\t\t\treturn;\r\n\r\n\t\t\t\t\tif (t.type === 'checkbox') {\r\n\t\t\t\t\t\tvar tmp = value != null ? value.toString().toLowerCase() : '';\r\n\t\t\t\t\t\ttmp = tmp === 'true' || tmp === '1' || tmp === 'on';\r\n\t\t\t\t\t\ttmp !== t.checked && (t.checked = tmp);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (value == null)\r\n\t\t\t\t\t\tvalue = '';\r\n\r\n\t\t\t\t\tif (!type && t.type !== a && t.type !== 'range' && !self.$default && !value)\r\n\t\t\t\t\t\tautofill.push(t.$com);\r\n\r\n\t\t\t\t\tif (t.type === a || t.type === 'select') {\r\n\t\t\t\t\t\tvar el = $(t);\r\n\t\t\t\t\t\tel.val() !== value && el.val(value);\r\n\t\t\t\t\t} else if (t.value !== value)\r\n\t\t\t\t\t\tt.value = value;\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t});\r\n\r\n\r\n\tvar PPC = Component.prototype;\r\n\r\n\tPPC.data = function(key, value) {\r\n\r\n\t\tif (!key) {\r\n\t\t\tkey = '@';\r\n\t\t}\r\n\r\n\t\tvar self = this;\r\n\t\tvar data = self.$data[key];\r\n\r\n\t\tif (arguments.length === 1) {\r\n\t\t\treturn data ? data.value : null;\r\n\t\t}\r\n\r\n\t\tif (data) {\r\n\t\t\tdata.value = value;\r\n\t\t\tfor (var i = 0; i < data.items.length; i++) {\r\n\t\t\t\tvar o = data.items[i];\r\n\t\t\t\to.el[0].parentNode && o.exec(value, key);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tself.$data[key] = { value: value, items: [] };\r\n\t\t}\r\n\r\n\t\tif (self.$ppc) {\r\n\t\t\tvar c = Component.components.all; //M.components;\r\n\t\t\tfor (var i = 0; i < c.length; i++) {\r\n\t\t\t\tvar com = c[i];\r\n\t\t\t\tif (com.owner === self && com.$pp && key === com.path)\r\n\t\t\t\t\tcom.setterX(value, value, 2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tPPC.$except = function(except) {\r\n\t\tvar p = self.$path;\r\n\t\tfor (var a = 0; a < except.length; a++) {\r\n\t\t\tfor (var b = 0; b < p.length; b++) {\r\n\t\t\t\tif (except[a] === p[b]) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tPPC.$compare = function(path, fix) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (fix)\r\n\t\t\treturn self.path === path;\r\n\r\n\t\tif (path.length > self.path.length) {\r\n\t\t\tvar index = path.lastIndexOf('.', self.path.length);\r\n\t\t\treturn index === -1 ? false : self.path === path.substring(0, index);\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, length = self.$path.length; i < length; i++) {\r\n\t\t\tif (self.$path[i] === path) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tfunction removewaiter(obj) {\r\n\t\tif (obj.$W) {\r\n\t\t\tvar keys = Object.keys(obj.$W);\r\n\t\t\tfor (var i = 0, length = keys.length; i < length; i++) {\r\n\t\t\t\tvar v = obj.$W[keys[i]];\r\n\t\t\t\tif (v.id) {\r\n\t\t\t\t\tclearInterval(v.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tPPC.notmodified = function(fields) {\r\n\t\tvar t = this;\r\n\t\tif (langx.isString(fields)) {\r\n\t\t\tfields = [fields];\r\n\t\t}\r\n\t\treturn NOTMODIFIED(t._id, t.get(), fields);\r\n\t};\r\n\r\n\tPPC.$waiter = function(prop, callback) {\r\n\r\n\t\tvar t = this;\r\n\r\n\t\tif (prop === true) {\r\n\t\t\tif (t.$W) {\r\n\t\t\t\tvar keys = Object.keys(t.$W);\r\n\t\t\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t\t\tvar k = keys[i];\r\n\t\t\t\t\tvar o = t.$W[k];\r\n\t\t\t\t\to.id = setInterval(function(t, prop) {\r\n\t\t\t\t\t\tvar o = t.$W[prop];\r\n\t\t\t\t\t\tvar v = t[prop]();\r\n\t\t\t\t\t\tif (v) {\r\n\t\t\t\t\t\t\tclearInterval(o.id);\r\n\t\t\t\t\t\t\tfor (var i = 0; i < o.callback.length; i++)\r\n\t\t\t\t\t\t\t\to.callback[i].call(t, v);\r\n\t\t\t\t\t\t\tdelete t.$W[prop];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, MD.delaywatcher, t, k);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t} else if (prop === false) {\r\n\t\t\tif (t.$W) {\r\n\t\t\t\tvar keys = Object.keys(t.$W);\r\n\t\t\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t\t\tvar a = t.$W[keys[i]];\r\n\t\t\t\t\ta && clearInterval(a.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t!t.$W && (t.$W = {});\r\n\r\n\t\tif (t.$W[prop]) {\r\n\t\t\t// Checks if same callback exists\r\n\t\t\tfor (var i = 0; i < t.$W[prop].length; i++) {\r\n\t\t\t\tif (t.$W[prop][i] === callback)\r\n\t\t\t\t\treturn t;\r\n\t\t\t}\r\n\t\t\tt.$W[prop].callback.push(callback);\r\n\t\t\treturn t;\r\n\t\t} else\r\n\t\t\tt.$W[prop] = { callback: [callback] };\r\n\r\n\t\tif (!t.$released) {\r\n\t\t\tt.$W[prop].id = setInterval(function(t, prop) {\r\n\t\t\t\tvar o = t.$W[prop];\r\n\t\t\t\tvar v = t[prop]();\r\n\t\t\t\tif (v) {\r\n\t\t\t\t\tclearInterval(o.id);\r\n\t\t\t\t\tfor (var i = 0; i < o.callback.length; i++) {\r\n\t\t\t\t\t\to.callback[i].call(t, v);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdelete t.$W[prop];\r\n\t\t\t\t}\r\n\t\t\t}, MD.delaywatcher, t, prop);\r\n\t\t}\r\n\t\treturn t;\r\n\t};\r\n\r\n\tPPC.hidden = function(callback) {\r\n\t\tvar t = this;\r\n\t\tvar v = t.element ? t.element[0].offsetParent : null;\r\n\t\tv = v === null;\r\n\t\tif (callback) {\r\n\t\t\tif (v)\r\n\t\t\t\tcallback.call(t);\r\n\t\t\telse\r\n\t\t\t\tt.$waiter('hidden', callback);\r\n\t\t}\r\n\t\treturn v;\r\n\t};\r\n\r\n\tPPC.visible = function(callback) {\r\n\t\tvar t = this;\r\n\t\tvar v = t.element ? t.element[0].offsetParent : null;\r\n\t\tv = v !== null;\r\n\t\tif (callback) {\r\n\t\t\tif (v) {\r\n\t\t\t\tcallback.call(t);\r\n\t\t\t} else {\r\n\t\t\t\tt.$waiter('visible', callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t};\r\n\r\n\tPPC.width = function(callback) {\r\n\t\tvar t = this;\r\n\t\tvar v = t.element ? t.element[0].offsetWidth : 0;\r\n\t\tif (callback) {\r\n\t\t\tif (v) {\r\n\t\t\t\tcallback.call(t, v);\r\n\t\t\t} else {\r\n\t\t\t\tt.$waiter('width', callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t};\r\n\r\n\tPPC.height = function(callback) {\r\n\t\tvar t = this;\r\n\t\tvar v = t.element ? t.element[0].offsetHeight : 0;\r\n\t\tif (callback) {\r\n\t\t\tif (v) {\r\n\t\t\t\tcallback.call(t, v);\r\n\t\t\t} else {\r\n\t\t\t\tt.$waiter('height', callback);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn v;\r\n\t};\r\n\r\n\tPPC.import = function(url, callback, insert, preparator) {\r\n\t\tvar self = this;\r\n\t\tM.import(url, self.element, callback, insert, preparator);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.release = function(value, container) {\r\n\r\n\t\tvar self = this;\r\n\t\tif (value === undefined || self.$removed) {\r\n\t\t\treturn self.$released;\r\n\t\t}\r\n\r\n\t\tself.attrd('jc-released', value);\r\n\r\n\t\t(container || self.element).find(consts.ATTRCOM).each(function() {\r\n\t\t\tvar el = $(this);\r\n\t\t\tel.attrd('jc-released', value ? 'true' : 'false');\r\n\t\t\tvar com = el[0].$com;\r\n\t\t\tif (com instanceof Object) {\r\n\t\t\t\tif (com instanceof Array) {\r\n\t\t\t\t\tfor (var i = 0, length = com.length; i < length; i++) {\r\n\t\t\t\t\t\tvar o = com[i];\r\n\t\t\t\t\t\tif (!o.$removed && o.$released !== value) {\r\n\t\t\t\t\t\t\to.$released = value;\r\n\t\t\t\t\t\t\to.released && o.released(value, self);\r\n\t\t\t\t\t\t\to.$waiter(!value);\r\n\t\t\t\t\t\t\t!value && o.setterX();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (!com.$removed && com.$released !== value) {\r\n\t\t\t\t\tcom.$released = value;\r\n\t\t\t\t\tcom.released && com.released(value, self);\r\n\t\t\t\t\tcom.$waiter(!value);\r\n\t\t\t\t\t!value && com.setterX();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!container && self.$released !== value) {\r\n\t\t\tself.$released = value;\r\n\t\t\tself.released && self.released(value, self);\r\n\t\t\tself.$waiter(!value);\r\n\t\t\t!value && self.setterX();\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tPPC.validate2 = function() {\r\n\t\treturn com_validate2(this);\r\n\t};\r\n\r\n\tPPC.exec = function(name, a, b, c, d, e) {\r\n\t\tvar self = this;\r\n\t\tself.find(consts.ATTRCOM).each(function() {\r\n\t\t\tvar t = this;\r\n\t\t\tif (t.$com) {\r\n\t\t\t\tt.$com.caller = self;\r\n\t\t\t\tt.$com[name] && this.$com[name](a, b, c, d, e);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.replace = function(el, remove) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (C.is) {\r\n\t\t\tC.recompile = true;\r\n\t\t}\r\n\r\n\t\tvar n = 'jc-scope';\r\n\t\tvar prev = self.element;\r\n\t\tvar scope = prev.attrd(n);\r\n\r\n\t\tself.element.rattrd('jc');\r\n\t\tself.element[0].$com = null;\r\n\t\tscope && self.element.rattrd(n);\r\n\r\n\t\tif (remove) {\r\n\t\t\tprev.off().remove();\r\n\t\t} else {\r\n\t\t\tself.attrd('jc-replaced', 'true');\r\n\t\t}\r\n\r\n\t\tself.element = $(el);\r\n\t\tself.dom = self.element[0];\r\n\t\tself.dom.$com = self;\r\n\t\tself.attrd('jc', self.name);\r\n\t\tif (scope) {\r\n\t\t\tself.attrd(n, scope);\r\n\t\t}\r\n\t\tself.siblings = false;\r\n\t\treturn self;\r\n\t};\r\n\r\n\t//PPC.compile \r\n\r\n\tPPC.nested = function() {\r\n\t\tvar arr = [];\r\n\t\tthis.find(ATTRCOM).each(function() {\r\n\t\t\tvar el = $(this);\r\n\t\t\tvar com = el[0].$com;\r\n\t\t\tif (com && !el.attr(ATTRDEL)) {\r\n\t\t\t\tif (com instanceof Array)\r\n\t\t\t\t\tarr.push.apply(arr, com);\r\n\t\t\t\telse\r\n\t\t\t\t\tarr.push(com);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn arr;\r\n\t};\r\n\r\n\tPPC.$interaction = function(type) {\r\n\r\n\t\t// type === 0 : init\r\n\t\t// type === 1 : manually\r\n\t\t// type === 2 : by input\r\n\t\t// type === 3 : by default\r\n\t\t// type === 100 : custom\r\n\t\t// type === 101 : dirty\r\n\t\t// type === 102 : valid\r\n\r\n\t\tvar now = Date.now();\r\n\t\tvar t = this;\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 0:\r\n\t\t\t\tt.usage.init = now;\r\n\t\t\t\tt.$binded = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tt.usage.manually = now;\r\n\t\t\t\tt.$binded = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tt.usage.input = now;\r\n\t\t\t\tt.$binded = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tt.usage.default = now;\r\n\t\t\t\tt.$binded = true;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 100:\r\n\t\t\t\tt.usage.custom = now;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 101:\r\n\t\t\t\tt.usage.dirty = now;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 102:\r\n\t\t\t\tt.usage.valid = now;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\treturn t;\r\n\t};\r\n\r\n\tPPC.notify = function() {\r\n\t\tNOTIFY(this.path);\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPPC.update = PPC.refresh = function(notify, type) {\r\n\t\tvar self = this;\r\n\t\tif (self.$binded) {\r\n\r\n\t\t\tif (typeof(notify) === TYPE_S) {\r\n\t\t\t\ttype = notify;\r\n\t\t\t\tnotify = true;\r\n\t\t\t}\r\n\r\n\t\t\tif (notify)\r\n\t\t\t\tself.set(self.get(), type);\r\n\t\t\telse {\r\n\t\t\t\tself.setter && self.setterX(self.get(), self.path, 1);\r\n\t\t\t\tself.$interaction(1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.tclass = function(cls, v) {\r\n\t\tvar self = this;\r\n\t\tself.element.tclass(cls, v);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.aclass = function(cls, timeout) {\r\n\t\tvar self = this;\r\n\t\tif (timeout)\r\n\t\t\tsetTimeout(function() { self.element.aclass(cls); }, timeout);\r\n\t\telse\r\n\t\t\tself.element.aclass(cls);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.hclass = function(cls) {\r\n\t\treturn this.element.hclass(cls);\r\n\t};\r\n\r\n\tPPC.rclass = function(cls, timeout) {\r\n\t\tvar self = this;\r\n\t\tvar e = self.element;\r\n\t\tif (timeout)\r\n\t\t\tsetTimeout(function() { e.rclass(cls); }, timeout);\r\n\t\telse {\r\n\t\t\tif (cls)\r\n\t\t\t\te.rclass(cls);\r\n\t\t\telse\r\n\t\t\t\te.rclass();\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.rclass2 = function(search) {\r\n\t\tthis.element.rclass2(search);\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPPC.classes = function(cls) {\r\n\r\n\t\tvar key = 'cls.' + cls;\r\n\t\tvar tmp = caches.temp[key];\r\n\t\tvar t = this;\r\n\t\tvar e = t.element;\r\n\r\n\t\tif (tmp) {\r\n\t\t\ttmp.add && e.aclass(tmp.add);\r\n\t\t\ttmp.rem && e.rclass(tmp.rem);\r\n\t\t\treturn t;\r\n\t\t}\r\n\r\n\t\tvar arr = cls instanceof Array ? cls : cls.split(' ');\r\n\t\tvar add = '';\r\n\t\tvar rem = '';\r\n\r\n\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\tvar c = arr[i].substring(0, 1);\r\n\t\t\tif (c === '-')\r\n\t\t\t\trem += (rem ? ' ' : '') + arr[i].substring(1);\r\n\t\t\telse\r\n\t\t\t\tadd += (add ? ' ' : '') + (c === '+' ? arr[i].substring(1) : arr[i]);\r\n\t\t}\r\n\r\n\t\tif (add) {\r\n\t\t\te.aclass(add);\r\n\t\t}\r\n\t\tif (rem) {\r\n\t\t\te.rclass(rem);\r\n\t\t}\r\n\r\n\t\tif (cls instanceof Array) {\r\n\t\t\treturn t;\r\n\t\t}\r\n\r\n\t\tcaches.temp[key] = { add: add, rem: rem };\r\n\t\treturn t;\r\n\t};\r\n\r\n\tPPC.toggle = function(cls, visible, timeout) {\r\n\r\n\t\tvar manual = false;\r\n\t\tvar self = this;\r\n\r\n\t\tif (!langx.isString(cls)) {\r\n\t\t\ttimeout = visible;\r\n\t\t\tvisible = cls;\r\n\t\t\tcls = 'hidden';\r\n\t\t\tmanual = true;\r\n\t\t}\r\n\r\n\t\tif (langx.isNumber(visible)) {\r\n\t\t\ttimeout = visible;\r\n\t\t\tvisible = undefined;\r\n\t\t} else if (manual && visible !== undefined) {\r\n\t\t\tvisible = !visible;\r\n\t\t}\r\n\r\n\t\tvar el = self.element;\r\n\t\tif (!timeout) {\r\n\t\t\tel.tclass(cls, visible);\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tsetTimeout(function() {\r\n\t\t\tel.tclass(cls, visible);\r\n\t\t}, timeout);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.noscope = PPC.noScope = function(value) {\r\n\t\tvar self = this;\r\n\t\tself.$noscope = value === undefined ? true : value === true;\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.nocompile = function() {\r\n\t\tvar self = this;\r\n\t\tself.element.attrd('jc-compile', '0');\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.singleton = function() {\r\n\t\tvar self = this;\r\n\t\tstatics['$ST_' + self.name] = true;\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.blind = function() {\r\n\t\tvar self = this;\r\n\t\tself.path = null;\r\n\t\tself.$path = null;\r\n\t\tself.$$path = null;\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.bindchanges = PPC.bindChanges = function(enable) {\r\n\t\tthis.$bindchanges = enable == null || enable === true;\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPPC.bindexact = PPC.bindExact = function(enable) {\r\n\t\tthis.$bindexact = enable == null || enable === true;\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPPC.bindvisible = PPC.bindVisible = function(timeout) {\r\n\t\tvar self = this;\r\n\t\tself.$bindreleased = false;\r\n\t\tself.$bindtimeout = timeout || MD.delaybinder;\r\n\t\tself.$bindcache = {};\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.readonly = function() {\r\n\t\tvar self = this;\r\n\t\tself.noDirty();\r\n\t\tself.noValid();\r\n\t\tself.getter = null;\r\n\t\tself.setter = null;\r\n\t\tself.$parser = null;\r\n\t\tself.$formatter = null;\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.novalidate = PPC.noValid = PPC.noValidate = function(val) {\r\n\t\tif (val === undefined) {\r\n\t\t\tval = true;\r\n\t\t}\r\n\t\tvar self = this;\r\n\t\tself.$valid_disabled = val;\r\n\t\tself.$valid = val;\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.nodirty = PPC.noDirty = function(val) {\r\n\t\tif (val === undefined) {\r\n\t\t\tval = true;\r\n\t\t}\r\n\t\tvar self = this;\r\n\t\tself.$dirty_disabled = val;\r\n\t\tself.$dirty = !val;\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.datasource = function(path, callback, init) {\r\n\t\tvar self = this;\r\n\t\tvar ds = self.$datasource;\r\n\r\n\t\tds && self.unwatch(ds.path, ds.fn);\r\n\r\n\t\tif (path) {\r\n\t\t\tself.$datasource = { path: path, fn: callback };\r\n\t\t\tself.watch(path, callback, init !== false);\r\n\t\t} else\r\n\t\t\tself.$datasource = null;\r\n\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.setPath = function(path, type) {\r\n\r\n\t\t// type 1: init\r\n\t\t// type 2: scope\r\n\r\n\t\tvar self = this;\r\n\t\tvar tmp = findFormat(path);\r\n\r\n\t\tif (tmp) {\r\n\t\t\tpath = tmp.path;\r\n\t\t\tself.$format = tmp.fn;\r\n\t\t} else if (!type)\r\n\t\t\tself.$format = null;\r\n\r\n\t\tvar arr = [];\r\n\r\n\t\tif (path.substring(0, 1) === '@') {\r\n\t\t\tpath = path.substring(1);\r\n\t\t\tself.$pp = true;\r\n\t\t\tself.owner.$ppc = true;\r\n\t\t} else {\r\n\t\t\tself.$pp = false;\r\n\t\t}\r\n\r\n\t\t// Temporary\r\n\t\tif (path.charCodeAt(0) === 37) { // %\r\n\t\t\tpath = 'jctmp.' + path.substring(1);\r\n\t\t}\r\n\r\n\t\tpath = path.env();\r\n\r\n\t\t// !path = fixed path\r\n\t\tif (path.charCodeAt(0) === 33) { // !\r\n\t\t\tpath = path.substring(1);\r\n\t\t\tarr.push(path);\r\n\t\t} else {\r\n\t\t\tvar p = path.split('.');\r\n\t\t\tvar s = [];\r\n\t\t\tfor (var j = 0; j < p.length; j++) {\r\n\t\t\t\tvar b = p[j].lastIndexOf('[');\r\n\t\t\t\tif (b !== -1) {\r\n\t\t\t\t\tvar c = s.join('.');\r\n\t\t\t\t\tarr.push(c + (c ? '.' : '') + p[j].substring(0, b));\r\n\t\t\t\t}\r\n\t\t\t\ts.push(p[j]);\r\n\t\t\t\tarr.push(s.join('.'));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tself.path = path;\r\n\t\tself.$path = arr;\r\n\t\ttype !== 1 && C.ready && refresh();\r\n\t\treturn self;\r\n\t};\r\n\r\n//\tPPC.attr = SCP.attr = function(name, value) {\r\n\tPPC.attr = function(name, value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.attr(name);\r\n\t\t}\r\n\t\tel.attr(name, value);\r\n\t\treturn this;\r\n\t};\r\n\r\n//\tPPC.attrd = SCP.attrd = function(name, value) {\r\n\tPPC.attrd = function(name, value) {\r\n\t\tname = 'data-' + name;\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.attr(name);\r\n\t\t}\r\n\t\tel.attr(name, value);\r\n\t\treturn this;\r\n\t};\r\n\r\n//\tPPC.css = SCP.css = function(name, value) {\r\n\tPPC.css = function(name, value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.css(name);\r\n\t\t}\r\n\t\tel.css(name, value);\r\n\t\treturn this;\r\n\t};\r\n\r\n//\tPPC.main = SCP.main = function() {\r\n\tPPC.main = function() {\r\n\t\tvar self = this;\r\n\t\tif (self.$main === undefined) {\r\n\t\t\tvar tmp = self.parent().closest('[data-jc]')[0];\r\n\t\t\tself.$main = tmp ? tmp.$com : null;\r\n\t\t}\r\n\t\treturn self.$main;\r\n\t};\r\n\r\n\tPPC.rcwatch = function(path, value) {\r\n\t\treturn value ? this.reconfigure(value) : this;\r\n\t};\r\n\r\n\tPPC.reconfigure = function(value, callback, init) {\r\n\t\tvar self = this;\r\n\t\tif (typeof(value) === TYPE_O) {\r\n\t\t\tObject.keys(value).forEach(function(k) {\r\n\t\t\t\tvar prev = self.config[k];\r\n\t\t\t\tif (!init && self.config[k] !== value[k])\r\n\t\t\t\t\tself.config[k] = value[k];\r\n\t\t\t\tif (callback)\r\n\t\t\t\t\tcallback(k, value[k], init, init ? undefined : prev);\r\n\t\t\t\telse if (self.configure)\r\n\t\t\t\t\tself.configure(k, value[k], init, init ? undefined : prev);\r\n\t\t\t\tself.data('config.' + k, value[k]);\r\n\t\t\t});\r\n\t\t} else if (value.substring(0, 1) === '=') {\r\n\t\t\tvalue = value.substring(1);\r\n\t\t\tif (self.watch) {\r\n\t\t\t\tself.$rcwatch && self.unwatch(self.$rcwatch, self.rcwatch);\r\n\t\t\t\tself.watch(value, self.rcwatch);\r\n\t\t\t\tself.$rcwatch = value;\r\n\t\t\t}\r\n\t\t\tself.reconfigure(get(value), callback, init);\r\n\t\t} else {\r\n\t\t\tvalue.$config(function(k, v) {\r\n\t\t\t\tvar prev = self.config[k];\r\n\t\t\t\tif (!init && self.config[k] !== v)\r\n\t\t\t\t\tself.config[k] = v;\r\n\t\t\t\tself.data('config.' + k, v);\r\n\t\t\t\tif (callback)\r\n\t\t\t\t\tcallback(k, v, init, init ? undefined : prev);\r\n\t\t\t\telse if (self.configure)\r\n\t\t\t\t\tself.configure(k, v, init, init ? undefined : prev);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar cfg = self.config;\r\n\r\n\t\tself.data('config', cfg);\r\n\r\n\t\tif (cfg.$type) {\r\n\t\t\tself.type = cfg.$type;\r\n\t\t}\r\n\r\n\t\tif (cfg.$id) {\r\n\t\t\tself.id = cfg.$id;\r\n\t\t}\r\n\r\n\t\tif (cfg.$compile == false) {\r\n\t\t\tself.nocompile();\r\n\t\t}\r\n\r\n\t\tif (cfg.$init) {\r\n\t\t\tself.$init = cfg.$init;\r\n\t\t}\r\n\r\n\t\tcfg.$class && self.tclass(cfg.$class);\r\n\t\tcfg.$released && self.release(cfg.$released == true);\r\n\t\tcfg.$reconfigure && EXEC.call(cfg.$reconfigure, cfg);\r\n\t\treturn self;\r\n\t};\r\n\r\n//\tPPC.closest = SCP.closest = function(sel) {\r\n\tPPC.closest = function(sel) {\r\n\t\treturn this.element.closest(sel);\r\n\t};\r\n\r\n//\tPPC.parent = SCP.parent = function(sel) {\r\n\tPPC.parent = function(sel) {\r\n\t\treturn this.element.parent(sel);\r\n\t};\r\n\r\n\tvar TNB = { number: 1, boolean: 1 };\r\n\r\n\tPPC.html = function(value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined)\r\n\t\t\treturn el.html();\r\n\t\tif (value instanceof Array)\r\n\t\t\tvalue = value.join('');\r\n\t\tvar type = typeof(value);\r\n\t\tcaches.current.element = el[0];\r\n\t\tvar v = (value || TNB[type]) ? el.empty().append(value) : el.empty();\r\n\t\tcaches.current.element = null;\r\n\t\treturn v;\r\n\t};\r\n\r\n\tPPC.text = function(value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value === undefined) {\r\n\t\t\treturn el.text();\r\n\t\t}\r\n\t\tif (value instanceof Array) {\r\n\t\t\tvalue = value.join('');\r\n\t\t}\r\n\t\tvar type = typeof(value);\r\n\t\treturn (value || TNB[type]) ? el.empty().text(value) : el.empty();\r\n\t};\r\n\r\n\tPPC.empty = function() {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (self.$children) {\r\n\t\t\tfor (var i = 0, length = all.length; i < length; i++) { // M.components.length\r\n\t\t\t\tvar m = all[i]; //M.components[i];\r\n\t\t\t\t!m.$removed && m.owner === self && m.remove();\r\n\t\t\t}\r\n\t\t\tself.$children = 0;\r\n\t\t}\r\n\r\n\t\tvar el = self.element;\r\n\t\tel.empty();\r\n\t\treturn el;\r\n\t};\r\n\r\n//\tPPC.append = SCP.append = function(value) {\r\n\tPPC.append = function(value) {\r\n\t\tvar el = this.element;\r\n\t\tif (value instanceof Array)\r\n\t\t\tvalue = value.join('');\r\n\t\tcaches.current.element = el[0];\r\n\t\tvar v = value ? el.append(value) : el;\r\n\t\tcaches.current.element = null;\r\n\t\treturn v;\r\n\t};\r\n\r\n//\tPPC.event = SCP.event = function() {\r\n\tPPC.event = function() {\r\n\t\tvar self = this;\r\n\t\tif (self.element)\r\n\t\t\tself.element.on.apply(self.element, arguments);\r\n\t\telse {\r\n\t\t\tsetTimeout(function(arg) {\r\n\t\t\t\tself.event(self, arg);\r\n\t\t\t}, 500, arguments);\r\n\t\t}\r\n\t\treturn self;\r\n\t};\r\n\r\n//\tPPC.find = SCP.find = function(selector) {\r\n\tPPC.find =  function(selector) {\r\n\t\treturn this.element.find(selector);\r\n\t};\r\n\r\n\tPPC.isInvalid = function() {\r\n\t\tvar self = this;\r\n\t\tvar is = !self.$valid;\r\n\t\tif (is && !self.$validate)\r\n\t\t\tis = !self.$dirty;\r\n\t\treturn is;\r\n\t};\r\n\r\n\tPPC.unwatch = function(path, fn) {\r\n\t\tvar self = this;\r\n\t\tOFF('com' + self._id + '#watch', path, fn);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.watch = function(path, fn, init) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (langx.isFunction(path)) {\r\n\t\t\tinit = fn;\r\n\t\t\tfn = path;\r\n\t\t\tpath = self.path;\r\n\t\t} else {\r\n\t\t\tpath = pathmaker(path);\r\n\t\t}\r\n\r\n\t\tself.on('watch', path, fn, init);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.invalid = function() {\r\n\t\treturn INVALID(this.path, this);\r\n\t};\r\n\r\n\tPPC.valid = function(value, noEmit) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (value === undefined) {\r\n\t\t\treturn self.$valid;\r\n\t\t}\r\n\r\n\t\tif (self.$valid_disabled) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tself.$valid = value;\r\n\t\tself.$validate = false;\r\n\t\tself.$interaction(102);\r\n\t\tclear('valid');\r\n\t\t!noEmit && self.state && self.stateX(1, 1);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.style = function(value) {\r\n\t\tSTYLE(value, this._id);\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPPC.change = function(value) {\r\n\t\tvar self = this;\r\n\t\tself.$dirty_disabled = false;\r\n\t\tself.$dirty = true;\r\n\t\tCHANGE(self.path, value === undefined ? true : value, self);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.used = function() {\r\n\t\treturn this.$interaction(100);\r\n\t};\r\n\r\n\tPPC.dirty = function(value, noEmit) {\r\n\r\n\t\tvar self = this;\r\n\r\n\t\tif (value === undefined) {\r\n\t\t\treturn self.$dirty;\r\n\t\t}\r\n\r\n\t\tif (self.$dirty_disabled) {\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tself.$dirty = value;\r\n\t\tself.$interaction(101);\r\n\t\tclear('dirty');\r\n\t\t!noEmit && self.state && self.stateX(2, 2);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.reset = function() {\r\n\t\tvar self = this;\r\n\t\tM.reset(self.path, 0, self);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.setDefault = function(value) {\r\n\t\tthis.$default = function() {\r\n\t\t\treturn value;\r\n\t\t};\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPPC.default = function(reset) {\r\n\t\tvar self = this;\r\n\t\tM.default(self.path, 0, self, reset);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.remove = PPC.kill = function(noClear) {\r\n\t\tvar self = this;\r\n\t\tvar el = self.element;\r\n\t\tremovewaiter(self);\r\n\t\tel.removeData(ATTRDATA);\r\n\t\tel.attr(ATTRDEL, 'true').find(ATTRCOM).attr(ATTRDEL, 'true');\r\n\t\tself.$removed = 1;\r\n\t\tself.removed = true;\r\n\t\tOFF('com' + self._id + '#');\r\n\t\t!noClear && setTimeout2('$cleaner', cleaner2, 100);\r\n\t\treturn true;\r\n\t};\r\n\r\n\tPPC.on = function(name, path, fn, init) {\r\n\t\tif (langx.isFunction(path)) {\r\n\t\t\tinit = fn;\r\n\t\t\tfn = path;\r\n\t\t\tpath = '';\r\n\t\t} else\r\n\t\t\tpath = path.replace('.*', '');\r\n\r\n\t\tvar self = this;\r\n\t\tvar push = '';\r\n\r\n\t\tif (name.substring(0, 1) === '^') {\r\n\t\t\tpush = '^';\r\n\t\t\tname = name.substring(1);\r\n\t\t}\r\n\r\n\t\ttopic.on(push + 'com' + self._id + '#' + name, path, fn, init, self); // ON\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.formatter = function(value, prepend) {\r\n\t\tvar self = this;\r\n\r\n\t\tif (langx.isFunction(value)) {\r\n\t\t\t!self.$formatter && (self.$formatter = []);\r\n\t\t\tif (prepend === true) {\r\n\t\t\t\tself.$formatter.unshift(value);\r\n\t\t\t} else {\r\n\t\t\t\tself.$formatter.push(value);\r\n\t\t\t}\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tvar a = self.$formatter;\r\n\t\tif (a && a.length) {\r\n\t\t\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t\t\tvalue = a[i].call(self, self.path, value, self.type);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ta = M.$formatter;\r\n\t\tif (a && a.length) {\r\n\t\t\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t\t\tvalue = a[i].call(self, self.path, value, self.type);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tPPC.parser = function(value, prepend) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar type = typeof(value);\r\n\r\n\t\tif (type === 'function') {\r\n\t\t\t!self.$parser && (self.$parser = []);\r\n\r\n\t\t\tif (prepend === true)\r\n\t\t\t\tself.$parser.unshift(value);\r\n\t\t\telse\r\n\t\t\t\tself.$parser.push(value);\r\n\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\tif (self.trim && type === 'string') {\r\n\t\t\tvalue = value.trim();\r\n\t\t}\r\n\r\n\t\tvar a = self.$parser;\r\n\t\tif (a && a.length) {\r\n\t\t\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t\t\tvalue = a[i].call(self, self.path, value, self.type);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ta = jc.$parser;\r\n\t\tif (a && a.length) {\r\n\t\t\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t\t\tvalue = a[i].call(self, self.path, value, self.type);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tPPC.emit = function() {\r\n\t\ttopic.emit.apply(M, arguments); // W>EMIT\r\n\t\treturn this;\r\n\t};\r\n\r\n\tPPC.evaluate = function(path, expression, nopath) {\r\n\t\tif (!expression) {\r\n\t\t\texpression = path;\r\n\t\t\tpath = this.path;\r\n\t\t}\r\n\t\treturn EVALUATE(path, expression, nopath);\r\n\t};\r\n\r\n\tPPC.get = function(path) {\r\n\t\tvar self = this;\r\n\t\tif (!path)\r\n\t\t\tpath = self.path;\r\n\r\n\t\tif (self.$pp)\r\n\t\t\treturn self.owner.data(self.path);\r\n\r\n\t\tif (path) {\r\n\t\t\treturn paths.get(path);\r\n\t\t}\r\n\t};\r\n\r\n\tPPC.skip = function(path) {\r\n\t\tvar self = this;\r\n\t\tskip(path || self.path); // SKIP\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.set = function(value, type) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar arg = arguments;\r\n\r\n\t\tif (self.$pp) {\r\n\t\t\tself.owner.set(self.path, value);\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\t// Backwards compatibility\r\n\t\tif (arg.length === 3) {\r\n\t\t\tpaths.immSetx(arg[0], arg[1], arg[2]);\r\n\t\t} else {\r\n\t\t\tpaths.immSetx(self.path, value, type);\r\n\t\t}\r\n\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.inc = function(value, type) {\r\n\t\tvar self = this;\r\n\t\tpaths.immInc(self.path, value, type);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.extend = function(value, type) {\r\n\t\tvar self = this;\r\n\t\tpaths.immExtend(self.path, value, type); // M.extend\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.rewrite = function(value) {\r\n\t\tvar self = this;\r\n\t\tREWRITE(self.path, value);\r\n\t\treturn self;\r\n\t};\r\n\r\n\tPPC.push = function(value, type) {\r\n\t\tvar self = this;\r\n\t\tpaths.immPush(self.path, value, type);\r\n\t\treturn self;\r\n\t};\r\n\r\n\r\n\tvar $components = registry = {}; //\tM.$components = {};\r\n\r\n\tfunction register(name, config, declaration, dependencies) { // W.COMPONENT =\r\n\r\n\t\tif (langx.isFunction(config)) {\r\n\t\t\tdependencies = declaration;\r\n\t\t\tdeclaration = config;\r\n\t\t\tconfig = null;\r\n\t\t}\r\n\r\n\t\t// Multiple versions\r\n\t\tif (name.indexOf(',') !== -1) {\r\n\t\t\tname.split(',').forEach(function(item, index) {\r\n\t\t\t\titem = item.trim();\r\n\t\t\t\tif (item) {\r\n\t\t\t\t\tregister(item, config, declaration, index ? null : dependencies);\t\r\n\t\t\t\t} \r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ($components[name]){ // M.$components\r\n\t\t\twarn('Components: Overwriting component:', name);\t\r\n\t\t} \r\n\t\tvar a = $components[name] = { //M.$components\r\n\t\t\tname: name, \r\n\t\t\tconfig: config, \r\n\t\t\tdeclaration: declaration, \r\n\t\t\tshared: {}, \r\n\t\t\tdependencies: dependencies instanceof Array ? dependencies : null \r\n\t\t};\r\n\t\ttopic.emit('component.compile', name, a);\r\n\t};\r\n\r\n   /**\r\n   * Extend a component by adding new features.\r\n   * @param  {String} name \r\n   * @param  {String/Object} config A default configuration\r\n   * @param  {Function} declaration \r\n   */\r\n\tfunction extend(name, config, declaration) { //W.COMPONENT_EXTEND = \r\n\r\n\t\tif (typeof(config) === TYPE_FN) {\r\n\t\t\tvar tmp = declaration;\r\n\t\t\tdeclaration = config;\r\n\t\t\tconfig = tmp;\r\n\t\t}\r\n\r\n\t\tif (extensions[name]) {\r\n\t\t\textensions[name].push({ config: config, fn: declaration });\r\n\t\t} else {\r\n\t\t\textensions[name] = [{ config: config, fn: declaration }];\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, length = all.length; i < length; i++) { // M.components.length\r\n\t\t\tvar m = all[i]; // M.components[i];\r\n\t\t\tif (!m.$removed || name === m.name){\r\n\t\t\t\tconfig && m.reconfigure(config, undefined, true);\r\n\t\t\t\tdeclaration.call(m, m, m.config);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tRECOMPILE();\r\n\t};\r\n\r\n   /**\r\n   * Sets a default configuration for all components according to the selector\r\n   * @param  {String} selector \r\n   * @param  {String/Object} config A default configuration\r\n   */\r\n\tfunction configure(selector, config) { //W.COMPONENT_CONFIG = \r\n\r\n\t\tif (langx.isString(selector)) {\r\n\t\t\tvar fn = [];\r\n\t\t\tselector.split(' ').forEach(function(sel) {\r\n\t\t\t\tvar prop = '';\r\n\t\t\t\tswitch (sel.trim().substring(0, 1)) {\r\n\t\t\t\t\tcase '*':\r\n\t\t\t\t\t\tfn.push('com.path.indexOf(\\'{0}\\')!==-1'.format(sel.substring(1)));\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tcase '.':\r\n\t\t\t\t\t\t// path\r\n\t\t\t\t\t\tprop = 'path';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase '#':\r\n\t\t\t\t\t\t// id\r\n\t\t\t\t\t\tprop = 'id';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t// name\r\n\t\t\t\t\t\tprop = '$name';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfn.push('com.{0}==\\'{1}\\''.format(prop, prop === '$name' ? sel : sel.substring(1)));\r\n\t\t\t});\r\n\t\t\tselector = FN('com=>' + fn.join('&&'));\r\n\t\t}\r\n\r\n\t\tconfigs.push({ fn: selector, config: config });\r\n\t};\r\n\r\n\tvar skips = {};\r\n\r\n   /**\r\n   * skips component.setter for future update. It's incremental.\r\n   * @param  {String} pathA Absolute path according to the component \"data-jc-path\"  \r\n   * @param  {String} pathB Absolute path according to the component \"data-jc-path\"  \r\n   * @param  {String} pathN Absolute path according to the component \"data-jc-path\"  \r\n   */\r\n\tfunction skip() { // W.SKIP = \r\n\t\tfor (var j = 0; j < arguments.length; j++) {\r\n\t\t\tvar arr = arguments[j].split(',');\r\n\t\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\t\tvar p = arr[i].trim();\r\n\t\t\t\tif (skips[p])\r\n\t\t\t\t\tskips[p]++;\r\n\t\t\t\telse\r\n\t\t\t\t\tskips[p] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tlangx.mixin(Component,{\r\n\t\textend : extend,\r\n\t\tconfigure : configure,\r\n\t\tregistry : registry,\r\n\t\tregister : register,\r\n\t\textensions : extensions,\r\n\t\tskip : skip\r\n\t});\r\n\r\n\treturn jc.Component = Component;\r\n});"]}