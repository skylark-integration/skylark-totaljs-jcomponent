{"version":3,"sources":["compiler.js"],"names":["define","jc","defaults","langx","caches","http","plugins","Component","paths","views","M","MD","extensions","components","C","compiler","toggles","is","recompile","importing","pending","init","imports","ready","get","blocked","fallback","$","fallbackpending","$ready","setTimeout","load","$loaded","downloadfallback","setTimeout2","splice","wait","item","next","registry","warn","importCache","format","fallbackcache","initialize","pop","undefined","compile","$removed","obj","el","element","name","forEach","config","reconfigure","NOOP","fn","call","tmp","value","configure","setter","$prepared","attrcom","Function","$default","set","path","emitwatch","$binded","$interaction","setterX","validate","$valid_disabled","$valid","done","state","stateX","$init","isFunction","n","trigger","off","cls","split","$jclass","i","length","tclass","id","EMIT","clear","$lazy","$name","prepare","nextpending","shift","$domready","arr","Object","keys","push","toLowerCase","lazycom","dependencies","declaration","callback","WAIT","IMPORT","indexOf","container","immediate","W","READY","Array","apply","jComponent","count","ATTRURL","each","t","this","$downloaded","url","once","substring","statics","toggle","expire","importcache","canCompile","async","key","makeurl","AJAXCACHE","response","current","removescripts","importscripts","importstyles","REGCOM","test","html","TYPE_FN","download","has","crawler","onComponent","level","document","body","comp","scope","closest","ATTRSCOPE","b","released","binders","$jcbind","getAttribute","$com","childNodes","sub","tagName","setAttribute","ATTRREL","innerHTML","a","parsebinder","dom","meta","REGMETA","trim","remove","instances","all","y","$components","lazy","lastIndexOf","versions","version","com","lo","namea","COM","parent","parentNode","pc","owner","$children","nodeName","global","shared","p","_id","$noscope","setPath","pathmaker","type","siblings","configs","con","attrd","code","charCodeAt","$pp","output","initscopes","replace","$$path","EMPTYARRAY","pathscope","template","$released","isString","data","prerender","make","c","k","HASH","x","import","rebindbinder","collection","ACTRLS","$input","findcontrol2","mediaquery","refresh","topic","emit","cleaner","autofill","findcontrol","val","parser","dirty","index","events","context","inDOM","watches","component","attr","ATTRDEL","destroy","ID","find","$main","$data","setter2","getter","getter2","$parser","$formatter","j","o","e","$br","R","$remove","DATETIME","NOW","Date","now","getTime","is2","is3","localstorage","isPRIVATEMODE","localStorage","setItem","$localstorage","JSON","stringify","storage","save","sort","al","bl","LCOMPARER","clearTimeout","Window","on","$jckeypress","$jcevent","$realtime","$binding","keypress","$jcdelay","$delay","delay","$jconly","$keypress","$jctimeout","keypressdelay","$jcskip","$skip","sel","selectedIndex","checked","prototype","setInterval","block","timeout","env","parseExpire","local"],"mappings":"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","file":"../compiler.js","sourcesContent":["define([\r\n\t\"./jc\",\r\n\t\"./defaults\",\r\n\t\"./langx\",\r\n\t\"./caches\",\r\n\t\"./http\",\r\n\t\"./plugins\",\r\n\t\"./Component\",\r\n\t\"./paths\",\r\n\t\"./views\"\r\n],function(jc, defaults, langx, caches, http,plugins,Component,paths,views){\r\n\tvar M = jc,\r\n\t\tMD = defaults;\r\n\t\textensions = Component.extensions,\r\n\t\tcomponents = views.components,\r\n\r\n\t\tC = jc.compiler = {}; // var C = {}; // COMPILER\r\n\r\n\tvar toggles = [];\r\n    \r\n\tC.is = false;\r\n\tC.recompile = false;\r\n\tC.importing = 0;\r\n\tC.pending = [];\r\n\tC.init = [];\r\n\tC.imports = {};\r\n\tC.ready = [];\r\n\r\n\tC.get = get; // paths\r\n\r\n\t// ===============================================================\r\n\t// PRIVATE FUNCTIONS\r\n\t// ===============================================================\r\n\tvar blocked = {};\r\n\tvar fallback = { $: 0 }; // $ === count of new items in fallback\r\n\tvar fallbackpending = [];\r\n\tvar $ready = setTimeout(load, 2);\r\n\tvar $loaded = false;\r\n\r\n\r\n   /**\r\n   * Lock some code for a specific time. \r\n   * This method will paths info about blocking in localStorage if the expiration is longer than 10 seconds.\r\n   * @param  {String} name   \r\n   * @param  {Number} timeout \r\n   * @param  {Function} callback  \r\n   */\r\n\tfunction block(name, timeout, callback) { //W.BLOCKED = \r\n\t\tvar key = name;\r\n\t\tvar item = blocked[key];\r\n\t\tvar now = Date.now();\r\n\r\n\t\tif (item > now) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tif (langx.isString(timeout)) {\r\n\t\t\ttimeout = timeout.env().parseExpire();\r\n\t\t}\r\n\r\n\t\tvar local = MD.localstorage && timeout > 10000;\r\n\t\tblocked[key] = now + timeout;\r\n\t\tif (!M.isPRIVATEMODE && local) { // W.isPRIVATEMODE\r\n\t\t  localStorage.setItem(M.$localstorage + '.blocked', JSON.stringify(blocked));\r\n\t\t}\r\n\t\tcallback && callback();\r\n\t\treturn false;\r\n\t};\r\n\r\n\tfunction downloadfallback() {\r\n\t\tif (C.importing) {\r\n\t\t\tsetTimeout(downloadfallback, 1000);\r\n\t\t} else {\r\n\t\t\tlangx.setTimeout2('$fallback', function() {\r\n\t\t\t\tfallbackpending.splice(0).wait(function(item, next) {\r\n\t\t\t\t\tif (Component.registry[item]) // M.$components\r\n\t\t\t\t\t\tnext();\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\twarn('Downloading: ' + item);\r\n\t\t\t\t\t\thttp.importCache(MD.fallback.format(item), MD.fallbackcache, next);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 3);\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction initialize() {\r\n\t\tvar item = C.init.pop();\r\n\t\tif (item === undefined)\r\n\t\t\t!C.ready && compile();\r\n\t\telse {\r\n\t\t\t!item.$removed && prepare(item);\r\n\t\t\tinitialize();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction nextpending() {\r\n\r\n\t\tvar next = C.pending.shift();\r\n\t\tif (next)\r\n\t\t\tnext();\r\n\t\telse if ($domready) {\r\n\r\n\t\t\tif (C.ready)\r\n\t\t\t\tC.is = false;\r\n\r\n\t\t\tif (MD.fallback && fallback.$ && !C.importing) {\r\n\t\t\t\tvar arr = Object.keys(fallback);\r\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tif (arr[i] !== '$') {\r\n\t\t\t\t\t\tvar num = fallback[arr[i]];\r\n\t\t\t\t\t\tif (num === 1) {\r\n\t\t\t\t\t\t\tfallbackpending.push(arr[i].toLowerCase());\r\n\t\t\t\t\t\t\tfallback[arr[i]] = 2;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfallback.$ = 0;\r\n\t\t\t\tfallbackpending.length && downloadfallback();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction prepare(obj) {\r\n\r\n\t\tif (!obj)\r\n\t\t\treturn;\r\n\r\n\t\tvar el = obj.element;\r\n\r\n\t\textensions[obj.name] && extensions[obj.name].forEach(function(item) {\r\n\t\t\titem.config && obj.reconfigure(item.config, NOOP);\r\n\t\t\titem.fn.call(obj, obj, obj.config);\r\n\t\t});\r\n\r\n\t\tvar value = obj.get();\r\n\t\tvar tmp;\r\n\r\n\t\tobj.configure && obj.reconfigure(obj.config, undefined, true);\r\n\t\tobj.$loaded = true;\r\n\r\n\t\tif (obj.setter) {\r\n\t\t\tif (!obj.$prepared) {\r\n\r\n\t\t\t\tobj.$prepared = true;\r\n\t\t\t\tobj.$ready = true;\r\n\r\n\t\t\t\ttmp = attrcom(obj, 'value');\r\n\r\n\t\t\t\tif (tmp) {\r\n\t\t\t\t\tif (!defaults[tmp])\r\n\t\t\t\t\t\tdefaults[tmp] = new Function('return ' + tmp);\r\n\t\t\t\t\tobj.$default = defaults[tmp];\r\n\t\t\t\t\tif (value === undefined) {\r\n\t\t\t\t\t\tvalue = obj.$default();\r\n\t\t\t\t\t\tset(obj.path, value);\r\n\t\t\t\t\t\temitwatch(obj.path, value, 0);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (obj.$binded)\r\n\t\t\t\t\tobj.$interaction(0);\r\n\t\t\t\telse {\r\n\t\t\t\t\tobj.$binded = true;\r\n\t\t\t\t\tobj.setterX(value, obj.path, 0);\r\n\t\t\t\t\tobj.$interaction(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else\r\n\t\t\tobj.$binded = true;\r\n\r\n\t\tif (obj.validate && !obj.$valid_disabled)\r\n\t\t\tobj.$valid = obj.validate(obj.get(), true);\r\n\r\n\t\tobj.done && setTimeout(obj.done, 20);\r\n\t\tobj.state && obj.stateX(0, 3);\r\n\r\n\t\tobj.$init && setTimeout(function() {\r\n\t\t\tvar fn = get(obj.$init);\r\n\t\t\tif (langx.isFunction(fn)) {\r\n\t\t\t\tfn.call(obj, obj);\t\r\n\t\t\t} \r\n\t\t\tobj.$init = undefined;\r\n\t\t}, 5);\r\n\r\n\t\tvar n = 'component';\r\n\t\tel.trigger(n);\r\n\t\tel.off(n);\r\n\r\n\t\tvar cls = attrcom(el, 'class');\r\n\t\tcls && (function(cls) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tcls = cls.split(' ');\r\n\t\t\t\tvar tmp = el[0].$jclass || {};\r\n\t\t\t\tfor (var i = 0, length = cls.length; i < length; i++) {\r\n\t\t\t\t\tif (!tmp[cls[i]]) {\r\n\t\t\t\t\t\tel.tclass(cls[i]);\r\n\t\t\t\t\t\ttmp[cls[i]] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tel[0].$jclass = tmp;\r\n\t\t\t}, 5);\r\n\t\t})(cls);\r\n\r\n\t\tobj.id && EMIT('#' + obj.id, obj);\r\n\t\tEMIT('@' + obj.name, obj);\r\n\t\tEMIT(n, obj);\r\n\t\tclear('find.');\r\n\t\tif (obj.$lazy) {\r\n\t\t\tobj.$lazy.state = 3;\r\n\t\t\tdelete obj.$lazy;\r\n\t\t\tEMIT('lazy', obj.$name, false);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction ready() {\r\n\r\n\t\tlangx.setTimeout2('$ready', function() {\r\n\r\n\t\t\tmediaquery();\r\n\t\t\tcomponents.refresh();\r\n\t\t\tinitialize();\r\n\r\n\t\t\tvar count = components.length; // M.components\r\n\t\t\t$(document).trigger('components', [count]);\r\n\r\n\t\t\tif (!$loaded) {\r\n\t\t\t\t$loaded = true;\r\n\t\t\t\tcaches.clear('valid', 'dirty', 'find');\r\n\t\t\t\ttopic.emit('init');\r\n\t\t\t\ttopic('ready');\r\n\t\t\t}\r\n\r\n\t\t\tlangx.setTimeout2('$initcleaner', function() {\r\n\t\t\t\tcomponents.cleaner();\r\n\t\t\t\tvar arr = autofill.splice(0);\r\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tvar com = arr[i];\r\n\t\t\t\t\t!com.$default && findcontrol(com.element[0], function(el) {\r\n\t\t\t\t\t\tvar val = $(el).val();\r\n\t\t\t\t\t\tif (val) {\r\n\t\t\t\t\t\t\tvar tmp = com.parser(val);\r\n\t\t\t\t\t\t\tif (tmp && com.get() !== tmp) {\r\n\t\t\t\t\t\t\t\tcom.dirty(false, true);\r\n\t\t\t\t\t\t\t\tcom.set(tmp, 0);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\r\n\t\t\tC.is = false;\r\n\r\n\t\t\tif (C.recompile) {\r\n\t\t\t\tC.recompile = false;\r\n\t\t\t\tcompile();\r\n\t\t\t}\r\n\r\n\t\t\tif (C.ready) {\r\n\t\t\t\tvar arr = C.ready;\r\n\t\t\t\tfor (var i = 0, length = arr.length; i < length; i++)\r\n\t\t\t\t\tarr[i](count);\r\n\t\t\t\tC.ready = undefined;\r\n\t\t\t\tcompile();\r\n\t\t\t\tsetTimeout(compile, 3000);\r\n\t\t\t\tsetTimeout(compile, 6000);\r\n\t\t\t\tsetTimeout(compile, 9000);\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t}\r\n\r\n\r\n\tvar lazycom = {};\r\n\r\n\r\n\tfunction dependencies(declaration, callback, obj, el) {\r\n\r\n\t\tif (declaration.importing) {\r\n\t\t\tWAIT(function() {\r\n\t\t\t\treturn declaration.importing !== true;\r\n\t\t\t}, function() {\r\n\t\t\t\tcallback(obj, el);\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (!declaration.dependencies || !declaration.dependencies.length) {\r\n\t\t\tsetTimeout(function(callback, obj, el) {\r\n\t\t\t\tcallback(obj, el);\r\n\t\t\t}, 5, callback, obj, el);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdeclaration.importing = true;\r\n\t\tdeclaration.dependencies.wait(function(item, next) {\r\n\t\t\tif (langx.isFunction(item)) {\r\n\t\t\t\titem(next);\r\n\t\t\t} else {\r\n\t\t\t\tIMPORT((item.indexOf('<') === -1 ? 'once ' : '') + item, next);\r\n\t\t\t}\r\n\t\t}, function() {\r\n\t\t\tdeclaration.importing = false;\r\n\t\t\tcallback(obj, el);\r\n\t\t}, 3);\r\n\t}\r\n\t\r\n\r\n\tfunction download() {\r\n\r\n\t\tvar arr = [];\r\n\t\tvar count = 0;\r\n\r\n\t\t$(ATTRURL).each(function() {\r\n\r\n\t\t\tvar t = this;\r\n\t\t\tvar el = $(t);\r\n\r\n\t\t\tif (t.$downloaded)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tt.$downloaded = 1;\r\n\t\t\tvar url = attrcom(el, 'url');\r\n\r\n\t\t\t// Unique\r\n\t\t\tvar once = url.substring(0, 5).toLowerCase() === 'once ';\r\n\t\t\tif (url.substring(0, 1) === '!' || once) {\r\n\t\t\t\tif (once) {\r\n\t\t\t\t\turl = url.substring(5);\r\n\t\t\t\t} else {\r\n\t\t\t\t\turl = url.substring(1);\r\n\t\t\t\t}\r\n\t\t\t\tif (statics[url]) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tstatics[url] = 2;\r\n\t\t\t}\r\n\r\n\t\t\tvar item = {};\r\n\t\t\titem.url = url;\r\n\t\t\titem.element = el;\r\n\t\t\titem.callback = attrcom(el, 'init');\r\n\t\t\titem.path = attrcom(el, 'path');\r\n\t\t\titem.toggle = (attrcom(el, 'class') || '').split(' ');\r\n\t\t\titem.expire = attrcom(el, 'cache') || MD.importcache;\r\n\t\t\tarr.push(item);\r\n\t\t});\r\n\r\n\t\tif (!arr.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar canCompile = false;\r\n\t\tC.importing++;\r\n\r\n\t\tasync(arr, function(item, next) {\r\n\r\n\t\t\tvar key = makeurl(item.url);\r\n\t\t\tvar can = false;\r\n\r\n\t\t\tAJAXCACHE('GET ' + item.url, null, function(response) {\r\n\r\n\t\t\t\tkey = '$import' + key;\r\n\r\n\t\t\t\tcaches.current.element = item.element[0];\r\n\r\n\t\t\t\tif (statics[key]) {\r\n\t\t\t\t\tresponse = removescripts(response);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresponse = importscripts(importstyles(response));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcan = response && REGCOM.test(response);\r\n\r\n\t\t\t\tif (can) {\r\n\t\t\t\t\tcanCompile = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\titem.element.html(response);\r\n\t\t\t\tstatics[key] = true;\r\n\t\t\t\titem.toggle.length && item.toggle[0] && toggles.push(item);\r\n\r\n\t\t\t\tif (item.callback && !attrcom(item.element)) {\r\n\t\t\t\t\tvar callback = get(item.callback);\r\n\t\t\t\t\ttypeof(callback) === TYPE_FN && callback(item.element);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcaches.current.element = null;\r\n\t\t\t\tcount++;\r\n\t\t\t\tnext();\r\n\r\n\t\t\t}, item.expire);\r\n\r\n\t\t}, function() {\r\n\t\t\tC.importing--;\r\n\t\t\tclear('valid', 'dirty', 'find');\r\n\t\t\tcount && canCompile && compile();\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tfunction compile(container,immediate) {\r\n\r\n\t\tif (C.is) {\r\n\t\t\tC.recompile = true;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar arr = [];\r\n\r\n\t\tW.READY instanceof Array && arr.push.apply(arr, W.READY);\r\n\t\tW.jComponent instanceof Array && arr.push.apply(arr, W.jComponent);\r\n\t\tW.components instanceof Array && arr.push.apply(arr, W.components);\r\n\r\n\t\tif (arr.length) {\r\n\t\t\twhile (true) {\r\n\t\t\t\tvar fn = arr.shift();\r\n\t\t\t\tif (!fn){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tfn();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tC.is = true;\r\n\t\tdownload();\r\n\r\n\t\tif (C.pending.length) {\r\n\t\t\t(function(container) {\r\n\t\t\t\tC.pending.push(function() {\r\n\t\t\t\t\tcompile(container);\r\n\t\t\t\t});\r\n\t\t\t})(container);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar has = false;\r\n\r\n\t\tcrawler(container, function(name, dom, level, scope) {\r\n\r\n\t\t\tvar el = $(dom);\r\n\t\t\tvar meta = name.split(REGMETA);\r\n\t\t\tif (meta.length) {\r\n\t\t\t\tmeta = meta.trim(true);\r\n\t\t\t\tname = meta[0];\r\n\t\t\t} else\r\n\t\t\t\tmeta = null;\r\n\r\n\t\t\thas = true;\r\n\r\n\t\t\t// Check singleton instance\r\n\t\t\tif (statics['$ST_' + name]) {\r\n\t\t\t\tremove(el);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar instances = [];\r\n\t\t\tvar all = name.split(',');\r\n\r\n\t\t\tfor (var y = 0; y < all.length; y++) {\r\n\r\n\t\t\t\tvar name = all[y].trim();\r\n\t\t\t\tvar is = false;\r\n\r\n\t\t\t\tif (name.indexOf('|') !== -1) {\r\n\r\n\t\t\t\t\t// Multiple versions\r\n\t\t\t\t\tvar keys = name.split('|');\r\n\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t\t\t\tvar key = keys[i].trim();\r\n\t\t\t\t\t\tif (key && M.$components[key]) {\r\n\t\t\t\t\t\t\tname = key;\r\n\t\t\t\t\t\t\tis = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!is)\r\n\t\t\t\t\t\tname = keys[0].trim();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar lazy = false;\r\n\r\n\t\t\t\tif (name.substring(0, 5).toLowerCase() === 'lazy ') {\r\n\t\t\t\t\tname = name.substring(5);\r\n\t\t\t\t\tlazy = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!is && name.lastIndexOf('@') === -1) {\r\n\t\t\t\t\tif (versions[name])\r\n\t\t\t\t\t\tname += '@' + versions[name];\r\n\t\t\t\t\telse if (MD.version)\r\n\t\t\t\t\t\tname += '@' + MD.version;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar com = M.$components[name];\r\n\t\t\t\tvar lo = null;\r\n\r\n\t\t\t\tif (lazy && name) {\r\n\t\t\t\t\tvar namea = name.substring(0, name.indexOf('@'));\r\n\t\t\t\t\tlo = lazycom[name];\r\n\t\t\t\t\tif (!lo) {\r\n\t\t\t\t\t\tif (namea && name !== namea)\r\n\t\t\t\t\t\t\tlazycom[name] = lazycom[namea] = { state: 1 };\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tlazycom[name] = { state: 1 };\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (lo.state === 1)\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!com) {\r\n\r\n\t\t\t\t\tif (!fallback[name]) {\r\n\t\t\t\t\t\tfallback[name] = 1;\r\n\t\t\t\t\t\tfallback.$++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar x = attrcom(el, 'import');\r\n\t\t\t\t\tif (!x) {\r\n\t\t\t\t\t\t!statics['$NE_' + name] && (statics['$NE_' + name] = true);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (C.imports[x] === 1)\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tif (C.imports[x] === 2) {\r\n\t\t\t\t\t\t!statics['$NE_' + name] && (statics['$NE_' + name] = true);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tC.imports[x] = 1;\r\n\t\t\t\t\tC.importing++;\r\n\r\n\t\t\t\t\tM.import(x, function() {\r\n\t\t\t\t\t\tC.importing--;\r\n\t\t\t\t\t\tC.imports[x] = 2;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (fallback[name] === 1) {\r\n\t\t\t\t\tfallback.$--;\r\n\t\t\t\t\tdelete fallback[name];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar obj = new COM(com.name);\r\n\t\t\t\tvar parent = dom.parentNode;\r\n\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\tif (parent.$com) {\r\n\t\t\t\t\t\tvar pc = parent.$com;\r\n\t\t\t\t\t\tobj.owner = pc;\r\n\t\t\t\t\t\tif (pc.$children)\r\n\t\t\t\t\t\t\tpc.$children++;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tpc.$children = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} else if (parent.nodeName === 'BODY')\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tparent = parent.parentNode;\r\n\t\t\t\t\tif (parent == null)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tobj.global = com.shared;\r\n\t\t\t\tobj.element = el;\r\n\t\t\t\tobj.dom = dom;\r\n\r\n\t\t\t\tvar p = attrcom(el, 'path') || (meta ? meta[1] === 'null' ? '' : meta[1] : '') || obj._id;\r\n\r\n\t\t\t\tif (p.substring(0, 1) === '%')\r\n\t\t\t\t\tobj.$noscope = true;\r\n\r\n\t\t\t\tobj.setPath(pathmaker(p, true), 1);\r\n\t\t\t\tobj.config = {};\r\n\r\n\t\t\t\t// Default config\r\n\t\t\t\tcom.config && obj.reconfigure(com.config, NOOP);\r\n\r\n\t\t\t\tvar tmp = attrcom(el, 'config') || (meta ? meta[2] === 'null' ? '' : meta[2] : '');\r\n\t\t\t\ttmp && obj.reconfigure(tmp, NOOP);\r\n\r\n\t\t\t\tif (!obj.$init)\r\n\t\t\t\t\tobj.$init = attrcom(el, 'init') || null;\r\n\r\n\t\t\t\tif (!obj.type)\r\n\t\t\t\t\tobj.type = attrcom(el, 'type') || '';\r\n\r\n\t\t\t\tif (!obj.id)\r\n\t\t\t\t\tobj.id = attrcom(el, 'id') || obj._id;\r\n\r\n\t\t\t\tobj.siblings = all.length > 1;\r\n\t\t\t\tobj.$lazy = lo;\r\n\r\n\t\t\t\tfor (var i = 0; i < configs.length; i++) {\r\n\t\t\t\t\tvar con = configs[i];\r\n\t\t\t\t\tcon.fn(obj) && obj.reconfigure(con.config, NOOP);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcaches.current.com = obj;\r\n\t\t\t\tcom.declaration.call(obj, obj, obj.config);\r\n\t\t\t\tcaches.current.com = null;\r\n\r\n\t\t\t\tmeta[3] && el.attrd('jc-value', meta[3]);\r\n\r\n\t\t\t\tif (obj.init && !statics[name]) {\r\n\t\t\t\t\tstatics[name] = true;\r\n\t\t\t\t\tobj.init();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdom.$com = obj;\r\n\r\n\t\t\t\tif (!obj.$noscope)\r\n\t\t\t\t\tobj.$noscope = attrcom(el, 'noscope') === 'true';\r\n\r\n\t\t\t\tvar code = obj.path ? obj.path.charCodeAt(0) : 0;\r\n\t\t\t\tif (!obj.$noscope && scope.length && !obj.$pp) {\r\n\r\n\t\t\t\t\tvar output = initscopes(scope);\r\n\r\n\t\t\t\t\tif (obj.path && code !== 33 && code !== 35) {\r\n\t\t\t\t\t\tobj.setPath(obj.path === '?' ? output.path : (obj.path.indexOf('?') === -1 ? output.path + '.' + obj.path : obj.path.replace(/\\?/g, output.path)), 2);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tobj.$$path = EMPTYARRAY;\r\n\t\t\t\t\t\tobj.path = '';\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tobj.scope = output;\r\n\t\t\t\t\tobj.pathscope = output.path;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tinstances.push(obj);\r\n\r\n\t\t\t\tvar template = attrcom(el, 'template') || obj.template;\r\n\t\t\t\tif (template)\r\n\t\t\t\t\tobj.template = template;\r\n\r\n\t\t\t\tif (attrcom(el, 'released') === 'true')\r\n\t\t\t\t\tobj.$released = true;\r\n\r\n\t\t\t\tif (attrcom(el, 'url')) {\r\n\t\t\t\t\twarn('Components: You have to use \"data-jc-template\" attribute instead of \"data-jc-url\" for the component: {0}[{1}].'.format(obj.name, obj.path));\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (langx.isString(template)) {\r\n\t\t\t\t\tvar fn = function(data) {\r\n\t\t\t\t\t\tif (obj.prerender)\r\n\t\t\t\t\t\t\tdata = obj.prerender(data);\r\n\t\t\t\t\t\tdependencies(com, function(obj, el) {\r\n\t\t\t\t\t\t\tif (langx.isFunction(obj.make)) {\r\n\t\t\t\t\t\t\t\tvar parent = caches.current.com;\r\n\t\t\t\t\t\t\t\tcaches.current.com = obj;\r\n\t\t\t\t\t\t\t\tobj.make(data);\r\n\t\t\t\t\t\t\t\tcaches.current.com = parent;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tinit(el, obj);\r\n\t\t\t\t\t\t}, obj, el);\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar c = template.substring(0, 1);\r\n\t\t\t\t\tif (c === '.' || c === '#' || c === '[') {\r\n\t\t\t\t\t\tfn($(template).html());\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar k = 'TE' + HASH(template);\r\n\t\t\t\t\tvar a = statics[k];\r\n\t\t\t\t\tif (a) {\r\n\t\t\t\t\t\tfn(a);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$.get(makeurl(template), function(response) {\r\n\t\t\t\t\t\tstatics[k] = response;\r\n\t\t\t\t\t\tfn(response);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (langx.isString(obj.make)) {\r\n\r\n\t\t\t\t\tif (obj.make.indexOf('<') !== -1) {\r\n\t\t\t\t\t\tdependencies(com, function(obj, el) {\r\n\t\t\t\t\t\t\tif (obj.prerender)\r\n\t\t\t\t\t\t\t\tobj.make = obj.prerender(obj.make);\r\n\t\t\t\t\t\t\tel.html(obj.make);\r\n\t\t\t\t\t\t\tinit(el, obj);\r\n\t\t\t\t\t\t}, obj, el);\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t$.get(makeurl(obj.make), function(data) {\r\n\t\t\t\t\t\tdependencies(com, function(obj, el) {\r\n\t\t\t\t\t\t\tif (obj.prerender)\r\n\t\t\t\t\t\t\t\tdata = obj.prerender(data);\r\n\t\t\t\t\t\t\tel.html(data);\r\n\t\t\t\t\t\t\tinit(el, obj);\r\n\t\t\t\t\t\t}, obj, el);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (com.dependencies) {\r\n\t\t\t\t\tdependencies(com, function(obj, el) {\r\n\r\n\t\t\t\t\t\tif (obj.make) {\r\n\t\t\t\t\t\t\tvar parent = caches.current.com;\r\n\t\t\t\t\t\t\tcaches.current.com = obj;\r\n\t\t\t\t\t\t\tobj.make();\r\n\t\t\t\t\t\t\tcaches.current.com = parent;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tinit(el, obj);\r\n\t\t\t\t\t}, obj, el);\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Because sometimes make doesn't contain the content of the element\r\n\t\t\t\t\tsetTimeout(function(init, el, obj) {\r\n\r\n\t\t\t\t\t\tif (obj.make) {\r\n\t\t\t\t\t\t\tvar parent = caches.current.com;\r\n\t\t\t\t\t\t\tcaches.current.com = obj;\r\n\t\t\t\t\t\t\tobj.make();\r\n\t\t\t\t\t\t\tcaches.current.com = parent;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tinit(el, obj);\r\n\t\t\t\t\t}, 5, init, el, obj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// A reference to instances\r\n\t\t\tif (instances.length > 0) {\r\n\t\t\t\tel.$com = instances.length > 1 ? instances : instances[0];\r\n\t\t\t}\r\n\r\n\t\t}, undefined);\r\n\r\n\t\t// perform binder\r\n\t\trebindbinder();\r\n\r\n\t\tif (!has || !C.pending.length) {\r\n\t\t\tC.is = false;\r\n\t\t}\r\n\r\n\t\tif (container !== undefined || !toggles.length) {\r\n\t\t\treturn nextpending();\r\n\t\t}\r\n\r\n\t\tasync(toggles, function(item, next) {\r\n\t\t\tfor (var i = 0, length = item.toggle.length; i < length; i++)\r\n\t\t\t\titem.element.tclass(item.toggle[i]);\r\n\t\t\tnext();\r\n\t\t}, nextpending);\r\n\t}\r\n\r\n\tfunction crawler(container, onComponent, level, paths) {\r\n\r\n\t\tif (container) {\r\n\t\t\tcontainer = $(container)[0];\r\n\t\t} else {\r\n\t\t\tcontainer = document.body;\r\n\t\t}\r\n\r\n\t\tif (!container) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar comp = container ? attrcom(container, 'compile') : '1';\r\n\t\tif (comp === '0' || comp === 'false') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (level == null || level === 0) {\r\n\t\t\tpaths = [];\r\n\t\t\tif (container !== document.body) {\r\n\t\t\t\tvar scope = $(container).closest('[' + ATTRSCOPE + ']');\r\n\t\t\t\tscope && scope.length && paths.push(scope[0]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar b = null;\r\n\t\tvar released = container ? attrcom(container, 'released') === 'true' : false;\r\n\t\tvar tmp = attrcom(container, 'scope');\r\n\t\tvar binders = null;\r\n\r\n\t\ttmp && paths.push(container);\r\n\r\n\t\tif (!container.$jcbind) {\r\n\t\t\tb = container.getAttribute('data-bind') || container.getAttribute('bind');\r\n\t\t\tif (b) {\r\n\t\t\t\t!binders && (binders = []);\r\n\t\t\t\tbinders.push({ el: container, b: b });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar name = attrcom(container);\r\n\t\t!container.$com && name != null && onComponent(name, container, 0, paths);\r\n\r\n\t\tvar arr = container.childNodes;\r\n\t\tvar sub = [];\r\n\r\n\t\tif (level === undefined) {\r\n\t\t\tlevel = 0;\r\n\t\t} else {\r\n\t\t\tlevel++;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\tvar el = arr[i];\r\n\t\t\tif (el) {\r\n\r\n\t\t\t\tif (!el.tagName) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcomp = el.getAttribute('data-jc-compile');\r\n\t\t\t\tif (comp === '0' || comp === 'false') {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (el.$com === undefined) {\r\n\t\t\t\t\tname = attrcom(el);\r\n\t\t\t\t\tif (name != null) {\r\n\t\t\t\t\t\treleased && el.setAttribute(ATTRREL, 'true');\r\n\t\t\t\t\t\tonComponent(name || '', el, level, paths);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!el.$jcbind) {\r\n\t\t\t\t\tb = el.getAttribute('data-bind') || el.getAttribute('bind');\r\n\t\t\t\t\tif (b) {\r\n\t\t\t\t\t\tel.$jcbind = 1;\r\n\t\t\t\t\t\t!binders && (binders = []);\r\n\t\t\t\t\t\tbinders.push({ el: el, b: b });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcomp = el.getAttribute('data-jc-compile');\r\n\t\t\t\tif (comp !== '0' && comp !== 'false')\r\n\t\t\t\t\tel.childNodes.length && el.tagName !== 'SCRIPT' && REGCOM.test(el.innerHTML) && sub.indexOf(el) === -1 && sub.push(el);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, length = sub.length; i < length; i++) {\r\n\t\t\tel = sub[i];\r\n\t\t\tel && crawler(el, onComponent, level, paths && paths.length ? paths : []);\r\n\t\t}\r\n\r\n\t\tif (binders) {\r\n\t\t\tfor (var i = 0; i < binders.length; i++) {\r\n\t\t\t\tvar a = binders[i];\r\n\t\t\t\ta.el.$jcbind = parsebinder(a.el, a.b, paths);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction init(el, obj) {\r\n\r\n\t\tvar dom = el[0];\r\n\t\tvar type = dom.tagName;\r\n\t\tvar collection;\r\n\r\n\t\t// autobind\r\n\t\tif (ACTRLS[type]) {\r\n\t\t\tobj.$input = true;\r\n\t\t\tcollection = obj.element;\r\n\t\t} else {\r\n\t\t\tcollection = el;\r\n\t\t}\r\n\r\n\t\tfindcontrol2(obj, collection);\r\n\r\n\t\tobj.released && obj.released(obj.$released);\r\n\t\tcomponents.push(obj); // M.components.push(obj)\r\n\t\tC.init.push(obj);\r\n\t\ttype !== 'BODY' && REGCOM.test(el[0].innerHTML) && compile(el);\r\n\t\tready();\r\n\t}\r\n\r\n\r\n\t$(document).ready(function() {\r\n\r\n\t\tif ($ready) {\r\n\t\t\tclearTimeout($ready);\r\n\t\t\tload();\r\n\t\t}\r\n\r\n\t\t$(Window).on('orientationchange', mediaquery);\r\n\r\n\t\t$(document).on('input', 'input[data-jc-bind],textarea[data-jc-bind]', function() {\r\n\r\n\t\t\t// realtime binding\r\n\t\t\tvar self = this;\r\n\t\t\tvar com = self.$com;\r\n\r\n\t\t\tif (!com || com.$removed || !com.getter || self.$jckeypress === false) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tself.$jcevent = 2;\r\n\r\n\t\t\tif (self.$jckeypress === undefined) {\r\n\t\t\t\tvar tmp = attrcom(self, 'keypress');\r\n\t\t\t\tif (tmp)\r\n\t\t\t\t\tself.$jckeypress = tmp === 'true';\r\n\t\t\t\telse if (com.config.$realtime != null)\r\n\t\t\t\t\tself.$jckeypress = com.config.$realtime === true;\r\n\t\t\t\telse if (com.config.$binding)\r\n\t\t\t\t\tself.$jckeypress = com.config.$binding === 1;\r\n\t\t\t\telse\r\n\t\t\t\t\tself.$jckeypress = MD.keypress;\r\n\t\t\t\tif (self.$jckeypress === false)\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (self.$jcdelay === undefined) {\r\n\t\t\t\tself.$jcdelay = +(attrcom(self, 'keypress-delay') || com.config.$delay || MD.delay);\r\n\t\t\t}\r\n\r\n\t\t\tif (self.$jconly === undefined) {\r\n\t\t\t\tself.$jconly = attrcom(self, 'keypress-only') === 'true' || com.config.$keypress === true || com.config.$binding === 2;\r\n\t\t\t}\r\n\r\n\t\t\tif (self.$jctimeout) {\r\n\t\t\t\tclearTimeout(self.$jctimeout);\t\r\n\t\t\t} \r\n\t\t\tself.$jctimeout = setTimeout(keypressdelay, self.$jcdelay, self);\r\n\t\t});\r\n\r\n\t\t$(document).on('focus blur', 'input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]', function(e) {\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tvar com = self.$com;\r\n\r\n\t\t\tif (!com || com.$removed || !com.getter)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (e.type === 'focusin')\r\n\t\t\t\tself.$jcevent = 1;\r\n\t\t\telse if (self.$jcevent === 1) {\r\n\t\t\t\tcom.dirty(false, true);\r\n\t\t\t\tcom.getter(self.value, 3);\r\n\t\t\t} else if (self.$jcskip) {\r\n\t\t\t\tself.$jcskip = false;\r\n\t\t\t} else {\r\n\t\t\t\t// formatter\r\n\t\t\t\tvar tmp = com.$skip;\r\n\t\t\t\tif (tmp)\r\n\t\t\t\t\tcom.$skip = false;\r\n\t\t\t\tcom.setter(com.get(), com.path, 2);\r\n\t\t\t\tif (tmp) {\r\n\t\t\t\t\tcom.$skip = tmp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$(document).on('change', 'input[data-jc-bind],textarea[data-jc-bind],select[data-jc-bind]', function() {\r\n\r\n\t\t\tvar self = this;\r\n\t\t\tvar com = self.$com;\r\n\r\n\t\t\tif (self.$jconly || !com || com.$removed || !com.getter)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (self.$jckeypress === false) {\r\n\t\t\t\t// bind + validate\r\n\t\t\t\tself.$jcskip = true;\r\n\t\t\t\tcom.getter(self.value, false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tswitch (self.tagName) {\r\n\t\t\t\tcase 'SELECT':\r\n\t\t\t\t\tvar sel = self[self.selectedIndex];\r\n\t\t\t\t\tself.$jcevent = 2;\r\n\t\t\t\t\tcom.dirty(false, true);\r\n\t\t\t\t\tcom.getter(sel.value, false);\r\n\t\t\t\t\treturn;\r\n\t\t\t\tcase 'INPUT':\r\n\t\t\t\t\tif (self.type === 'checkbox' || self.type === 'radio') {\r\n\t\t\t\t\t\tself.$jcevent = 2;\r\n\t\t\t\t\t\tcom.dirty(false, true);\r\n\t\t\t\t\t\tcom.getter(self.checked, false);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (self.$jctimeout) {\r\n\t\t\t\tcom.dirty(false, true);\r\n\t\t\t\tcom.getter(self.value, true);\r\n\t\t\t\tclearTimeout(self.$jctimeout);\r\n\t\t\t\tself.$jctimeout = 0;\r\n\t\t\t} else {\r\n\t\t\t\tself.$jcskip = true;\r\n\t\t\t\tcom.setter && com.setterX(com.get(), self.path, 2);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tsetTimeout(compile, 2);\r\n\t\t$domready = true;\r\n\t});\r\n\r\n\r\n\t// Component\r\n\tComponent.prototype.compile = function(container) {\r\n\t\tvar self = this;\r\n\t\t!container && self.attrd('jc-compile') && self.attrd('jc-compile', '1');\r\n\t\tcompile(container || self.element);\r\n\t\treturn self;\r\n\t};\r\n\r\n\r\n\tfunction cleaner2() {\r\n\t\tclear();\r\n\t\tcleaner();\r\n\t}\r\n\r\n\r\n\tfunction cleaner() {\r\n\r\n\t\tvar keys = Object.keys(events);\r\n\t\tvar is = false;\r\n\t\tvar length = keys.length;\r\n\t\tvar index;\r\n\t\tvar arr;\r\n\r\n\t\tfor (var i = 0; i < length; i++) {\r\n\t\t\tvar key = keys[i];\r\n\t\t\tindex = 0;\r\n\t\t\tarr = events[key];\r\n\t\t\twhile (true) {\r\n\r\n\t\t\t\tvar item = arr[index++];\r\n\t\t\t\tif (item === undefined)\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tif (item.context == null || (item.context.element && inDOM(item.context.element[0])))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\titem.context && item.context.element && item.context.element.remove();\r\n\t\t\t\titem.context.$removed = true;\r\n\t\t\t\titem.context = null;\r\n\t\t\t\tarr.splice(index - 1, 1);\r\n\r\n\t\t\t\tif (!arr.length)\r\n\t\t\t\t\tdelete events[key];\r\n\r\n\t\t\t\tindex -= 2;\r\n\t\t\t\tis = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tindex = 0;\r\n\t\twhile (true) {\r\n\t\t\tvar item = watches[index++];\r\n\t\t\tif (item === undefined)\r\n\t\t\t\tbreak;\r\n\t\t\tif (item.context == null || (item.context.element && inDOM(item.context.element[0])))\r\n\t\t\t\tcontinue;\r\n\t\t\titem.context && item.context.element && item.context.element.remove();\r\n\t\t\titem.context.$removed = true;\r\n\t\t\titem.context = null;\r\n\t\t\twatches.splice(index - 1, 1);\r\n\t\t\tindex -= 2;\r\n\t\t\tis = true;\r\n\t\t}\r\n\r\n\t\t//var all =  M.components;\r\n \t\tindex = 0;\r\n\t\tlength = all.length;\r\n\r\n\t\twhile (index < length) {\r\n\r\n\t\t\tvar component = all[index++];\r\n\r\n\t\t\tif (!component) {\r\n\t\t\t\tindex--;\r\n\t\t\t\tall.splice(index, 1);\r\n\t\t\t\tlength = all.length;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar c = component.element;\r\n\t\t\tif (!component.$removed && c && inDOM(c[0])) {\r\n\t\t\t\tif (!component.attr(ATTRDEL)) {\r\n\t\t\t\t\tif (component.$parser && !component.$parser.length)\r\n\t\t\t\t\t\tcomponent.$parser = undefined;\r\n\t\t\t\t\tif (component.$formatter && !component.$formatter.length)\r\n\t\t\t\t\t\tcomponent.$formatter = undefined;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttopic.emit('destroy', component.name, component);\r\n\t\t\ttopic.emit('component.destroy', component.name, component);\r\n\r\n\t\t\tdelete statics['$ST_' + component.name];\r\n\t\t\tcomponent.destroy && component.destroy();\r\n\t\t\t$('#css' + component.ID).remove();\r\n\r\n\t\t\tif (c[0].nodeName !== 'BODY') {\r\n\t\t\t\tc.off();\r\n\t\t\t\tc.find('*').off();\r\n\t\t\t\tc.remove();\r\n\t\t\t}\r\n\r\n\t\t\tcomponent.$main = undefined;\r\n\t\t\tcomponent.$data = null;\r\n\t\t\tcomponent.dom = null;\r\n\t\t\tcomponent.$removed = 2;\r\n\t\t\tcomponent.path = null;\r\n\t\t\tcomponent.setter = null;\r\n\t\t\tcomponent.setter2 = null;\r\n\t\t\tcomponent.getter = null;\r\n\t\t\tcomponent.getter2 = null;\r\n\t\t\tcomponent.make = null;\r\n\r\n\t\t\tindex--;\r\n\t\t\tall.splice(index, 1);\r\n\t\t\tlength = all.length; // M.components.length\r\n\t\t\tis = true;\r\n\t\t}\r\n\r\n\t\tkeys = Object.keys(binders);\r\n\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\tarr = binders[keys[i]];\r\n\t\t\tvar j = 0;\r\n\t\t\twhile (true) {\r\n\t\t\t\tvar o = arr[j++];\r\n\t\t\t\tif (!o)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tif (inDOM(o.el[0]))\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\tvar e = o.el;\r\n\t\t\t\tif (!e[0].$br) {\r\n\t\t\t\t\te.off();\r\n\t\t\t\t\te.find('*').off();\r\n\t\t\t\t\te[0].$br = 1;\r\n\t\t\t\t}\r\n\t\t\t\tj--;\r\n\t\t\t\tarr.splice(j, 1);\r\n\t\t\t}\r\n\t\t\tif (!arr.length)\r\n\t\t\t\tdelete binders[keys[i]];\r\n\t\t}\r\n\r\n\t\tclear('find');\r\n\r\n\t\t// Checks PLUGINS\r\n\t\tvar R = plugins.registry; //W.PLUGINS;\r\n\t\tObject.keys(R).forEach(function(key) {\r\n\t\t\tvar a = R[key];\r\n\t\t\tif (!inDOM(a.element[0]) || !a.element[0].innerHTML) {\r\n\t\t\t\ta.$remove();\r\n\t\t\t\tdelete R[key];\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tW.DATETIME = W.NOW = new Date();\r\n\t\tvar now = W.NOW.getTime();\r\n\t\tvar is2 = false;\r\n\t\tvar is3 = false;\r\n\r\n\t\tfor (var key in blocked) {\r\n\t\t\tif (blocked[key] <= now) {\r\n\t\t\t\tdelete blocked[key];\r\n\t\t\t\tis2 = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (MD.localstorage && is2 && !M.isPRIVATEMODE)  // W.isPRIVATEMODE\r\n\t\t\tlocalStorage.setItem(M.$localstorage + '.blocked', JSON.stringify(blocked));\r\n\r\n\t\tfor (var key in storage) {\r\n\t\t\tvar item = storage[key];\r\n\t\t\tif (!item.expire || item.expire <= now) {\r\n\t\t\t\tdelete storage[key];\r\n\t\t\t\tis3 = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tis3 && save();\r\n\r\n\t\tif (is) {\r\n\t\t\trefresh();\r\n\t\t\tsetTimeout(compile, 2000);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction refresh() {\r\n\t\tsetTimeout2('$refresh', function() {\r\n\t\t\tall.sort(function(a, b) {  // M.components.sort\r\n\t\t\t\tif (a.$removed || !a.path)\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tif (b.$removed || !b.path)\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\tvar al = a.path.length;\r\n\t\t\t\tvar bl = b.path.length;\r\n\t\t\t\treturn al > bl ? - 1 : al === bl ? LCOMPARER(a.path, b.path) : 1;\r\n\t\t\t});\r\n\t\t}, 200);\r\n\t}\r\n\r\n\tsetInterval(function() {\r\n//\t\ttemp = {};\r\n//\t\tpaths = {};\r\n\t\tcleaner();\r\n\t}, (1000 * 60) * 5);\r\n\r\n\treturn jc.compiler = {\r\n\t\tblock,\r\n\t\tcompile,\r\n\t};\r\n\r\n});"]}