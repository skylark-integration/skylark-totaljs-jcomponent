{"version":3,"sources":["views.js"],"names":["define","jc","langx","Usage","caches","Component","M","components","versions","clear","$","fn","FIND","selector","many","callback","timeout","TYPE_FN","undefined","self","this","output","findcomponent","length","call","WAIT","val","Array","err","W","SETTER","name","arg","beg","i","arguments","push","lazycom","state","EMIT","warn","compile","setTimeout","apply","arr","o","RECONFIGURE","value","$formatter","FORMATTER","formatter","path","type","isFunction","unshift","a","exechelper","ctx","EXEC","com_dirty","onlyComponent","skipEmitState","isExcept","key","join","except","cache","dirty","flags","is","remove","item","substring","index","lastIndexOf","wildcard","pathmaker","all","com","$removed","$loaded","$compare","$except","visible","hidden","enabled","find","SELINPUT","disabled","$dirty_disabled","_id","$dirty","$interaction","findinstance","t","el","parentElement","container","s","split","EMPTYARRAY","id","version","indexOf","trim","stop","each","$com","$name","$version","$pp","pathscope","findcontrol2","input","$inputcontrol","findcontrol","onElement","level","childNodes","sub","ACTRLS","tagName","getAttribute","element","vbind","vbindarray","component","forEach","$ready","mixin","add","COM","Scope","Plugin","ADD","document","body","append","format","setTimeout2","COMPILE","attrcom","exec","p","f","wait","env","c","charCodeAt","events","ok","ctrl","plugins","Window","paths","get","exec2","tmp","b","d","replace","views","changed","change","cleaner","cleaner2","default2","reset","pathmakerw","defaults","HASH","set","$default","$valid_disabled","$valid","$validate","validate","noCache","isWaiting","jQuery","r","topic","emit","refresh","parsers","REGWILDCARD","setter","usage","expire","TYPE_S","now","getTime","TYPE_N","Date","j","keys"],"mappings":";;;;;;;AAAAA,QACC,OACA,UACA,UACA,WACA,eACC,SAASC,EAAGC,EAAMC,EAAOC,EAAOC,GACjC,IAAIC,EAAIL,EAEJM,EAAaF,EAAUE,cACvBC,KAEAC,EAAQL,EAAOK,MAsBnBC,EAAEC,GAAGC,KAAO,SAASC,EAAUC,EAAMC,EAAUC,UAEpC,IAAWC,UACpBD,EAAUD,EACVA,EAAWD,EACXA,OAAOI,GAGR,IAAIC,EAAOC,KACPC,EAASC,EAAcH,EAAMN,GACjC,cAAU,IAAeI,QAEpBI,EAAOE,QACVR,EAASS,KAAKH,EAAQA,GACfF,IAGRM,KAAK,WACJ,IAAIC,EAAMP,EAAKP,KAAKC,EAAUC,GAC9B,OAAOY,aAAeC,MAAQD,EAAIH,OAAS,IAAMG,GAC/C,SAASE,GAEX,IAAKA,EAAK,CACT,IAAIF,EAAMP,EAAKP,KAAKC,EAAUC,GAC9BC,EAASS,KAAKE,GAAYG,EAAGH,KAE5B,IAAKV,GAEDG,GAGDL,EAAOO,EAASA,EAAO,IAG/BX,EAAEC,GAAGmB,OAAS,SAASjB,EAAUkB,GAMhC,IAJA,IAAIZ,EAAOC,KACPY,KACAC,GAAmB,IAAbpB,EAAoB,EAAI,EAEzBqB,EAAID,EAAKC,EAAIC,UAAUZ,OAAQW,IACvCF,EAAII,KAAKD,UAAUD,IAEpB,GAAY,IAARD,EAAW,CAId,GAHApB,EAAWkB,EACXA,EAAOI,UAAU,GAEbE,QAAQxB,IAAyC,IAA5BwB,QAAQxB,GAAUyB,MAa1C,OAXgC,IAA5BD,QAAQxB,GAAUyB,QACrBD,QAAQxB,GAAUyB,MAAQ,EAC1BC,KAAK,OAAQ1B,GAAU,GACvB2B,KAAK,cAAgB3B,GACrB4B,WAGDC,WAAW,SAASV,GACnBtB,EAAEC,GAAGmB,OAAOa,MAAMxB,EAAMa,IACtB,IAAKG,WAEDhB,EAGRA,EAAKP,KAAKC,GAAU,EAAM,SAAS+B,GAClC,IAAK,IAAIV,EAAI,EAAGX,EAASqB,EAAIrB,OAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAIW,EAAID,EAAIV,UACDW,EAAEd,KAAWd,QACvB4B,EAAEd,GAAMY,MAAME,EAAGb,GAEjBa,EAAEd,GAAQC,EAAI,UAIX,CAEN,GAAIK,QAAQxB,IAAyC,IAA5BwB,QAAQxB,GAAUyB,MAa1C,OAXgC,IAA5BD,QAAQxB,GAAUyB,QACrBD,QAAQxB,GAAUyB,MAAQ,EAC1BC,KAAK,OAAQ1B,GAAU,GACvB2B,KAAK,cAAgB3B,GACrB4B,WAGDC,WAAW,SAASV,GACnBtB,EAAEC,GAAGmB,OAAOa,MAAMxB,EAAMa,IACtB,IAAKG,WAEDhB,EAIR,IADA,IAAIyB,EAAMzB,EAAKP,KAAKC,GAAU,GACdU,GAAPW,EAAI,EAAYU,EAAIrB,QAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAIW,EAAID,EAAIV,UACDW,EAAEd,KAAWd,QACvB4B,EAAEd,GAAMY,MAAME,EAAGb,GAEjBa,EAAEd,GAAQC,EAAI,IAIjB,OAAOb,GAGRT,EAAEC,GAAGmC,YAAc,SAASjC,EAAUkC,GACrC,OAAO3B,KAAKU,OAAOjB,EAAU,cAAekC,IAI7CzC,EAAE0C,cAcFnB,EAAEoB,UAAY3C,EAAE4C,UAAY,SAASH,EAAOI,EAAMC,GAEjD,GAAIlD,EAAMmD,WAAWN,GAUpB,OATCzC,EAAE0C,aAAe1C,EAAE0C,gBAGP,IAATG,EACH7C,EAAE0C,WAAWM,QAAQP,GAErBzC,EAAE0C,WAAWZ,KAAKW,GAGZzC,EAGR,IAAIiD,EAAIjD,EAAE0C,WACV,GAAIO,GAAKA,EAAEhC,OACV,IAAK,IAAIW,EAAI,EAAGX,EAASgC,EAAEhC,OAAQW,EAAIX,EAAQW,IAAK,CACnD,IAAIR,EAAM6B,EAAErB,GAAGV,KAAKlB,EAAG6C,EAAMJ,EAAOK,QACxBlC,IAARQ,IACHqB,EAAQrB,GAIX,OAAOqB,GASRlB,EAAEiB,YAAc,SAASjC,EAAUkC,GAElC,OADAjB,QAAO,EAAMjB,EAAU,cAAekC,GAC/BD,aAmGR,SAASU,EAAWC,EAAKN,EAAMnB,GAC9BU,WAAW,WACVgB,KAAKlC,KAAKiC,GAAK,EAAMN,EAAMnB,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,KAC7E,KAGJ,SAAS2B,EAAUR,EAAMJ,EAAOa,EAAeC,GAE9C,IAAIC,EAAWf,aAAiBpB,MAC5BoC,EAAM,QAAUZ,GAAQW,EAAW,IAAMf,EAAMiB,KAAK,KAAO,IAC3DC,EAAS,KAOb,GALIH,IACHG,EAASlB,EACTA,OAAQ7B,GAGa,kBAAZ,QAAwCA,IAAfgD,EAAMH,GACxC,OAAOG,EAAMH,GAEd,IAAII,GAAQ,EACRvB,OAAgB1B,IAAV6B,KAA2B,KACjCqB,EAAQ,KAEZ,GAAIN,EAAU,CACb,IAAIO,GAAK,EACTD,KACAH,EAASA,EAAOK,OAAO,SAASC,GAC/B,MAA6B,MAAzBA,EAAKC,UAAU,EAAG,KACrBJ,EAAMG,EAAKC,UAAU,KAAM,EAC3BH,GAAK,GACE,MAIRA,IAAOD,EAAQ,MAChBN,EAAWG,EAAO1C,OAAS,EAG5B,IAAIkD,EAAQtB,EAAKuB,YAAY,MACzBC,GAAsB,IAAXF,GACA,IAAXA,IACHtB,EAAOA,EAAKqB,UAAU,EAAGC,IAE1BtB,EAAOyB,UAAUzB,GAGjB,IADA,IAAI0B,EAAMtE,EACD2B,EAAI,EAAGX,EAASsD,EAAItD,OAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAI4C,EAAMD,EAAI3C,KAET4C,IAAOA,EAAIC,UAAaD,EAAIE,SAAYF,EAAI3B,MAAS2B,EAAIG,SAAS9B,KAAUW,GAAYgB,EAAII,QAAQjB,KAGrGG,IAAWA,EAAMe,UAAYL,EAAIK,WAAef,EAAMgB,SAAWN,EAAIM,UAAchB,EAAMiB,SAAWP,EAAIQ,KAAKC,UAAUlB,GAAG,cAAkBD,EAAMoB,UAAYV,EAAIQ,KAAKC,UAAUlB,GAAG,eAGpLS,EAAIU,UAAYV,EAAIW,gBACvB7C,GAAOkC,EAAIxC,OAASM,EAAIR,KAAK0C,QAIhB5D,IAAV6B,GAMJ+B,EAAIxC,OAASM,EAAIR,KAAK0C,GAEjBlB,EAKMA,EAAc8B,MAAQZ,EAAIY,MACpCZ,EAAIa,OAAS5C,EACb+B,EAAIc,aAAa,OANbjB,GAAYG,EAAI3B,OAASA,KAC5B2B,EAAIa,OAAS5C,EACb+B,EAAIc,aAAa,OAMA,IAAfd,EAAIa,SACPxB,GAAQ,KAjBW,IAAfW,EAAIa,SACPxB,GAAQ,KAwBX,OALA1D,EAAM,SACNyD,EAAMH,GAAOI,GAGZN,GAAiBvB,MAAMM,EAAK,EAAG,GACzBuB,EAmIR,SAAS0B,EAAaC,EAAG1C,GAExB,IAAK0C,EAAEvE,OACN,OAAO,KAGR,IAAK,IAAIW,EAAI,EAAGA,EAAI4D,EAAEvE,OAAQW,IAC7B,GAAI4D,EAAE5D,GAAGkB,GACR,OAAO0C,EAAE5D,GAAGkB,GAKd,IADA,IAAI2C,EAAKD,EAAE,GAAGE,cACA,OAAPD,GAAa,CACnB,GAAIA,EAAG3C,GACN,OAAO2C,EAAG3C,GAEX2C,EAAKA,EAAGC,cAGT,OAAO,KAGR,SAAS1E,EAAc2E,EAAWpF,EAAUE,GAS3C,IAPA,IAKI0D,EALAyB,EAAKrF,EAAWA,EAASsF,MAAM,KAAOC,WACtCjD,EAAO,GACPpB,EAAO,GACPsE,EAAK,GACLC,EAAU,GAGLpE,EAAI,EAAGX,EAAS2E,EAAE3E,OAAQW,EAAIX,EAAQW,IAC9C,OAAQgE,EAAEhE,GAAGsC,UAAU,EAAG,IACzB,IAAK,IACJ,MACD,IAAK,IAEJrB,EAAO+C,EAAEhE,GAAGsC,UAAU,GACtB,MACD,IAAK,KAIW,KADfC,GADA4B,EAAKH,EAAEhE,GAAGsC,UAAU,IACT+B,QAAQ,QAElBpD,EAAOkD,EAAG7B,UAAUC,EAAQ,EAAG4B,EAAG9E,OAAS,GAAGiF,OAC9CH,EAAKA,EAAG7B,UAAU,EAAGC,IAEtB,MACD,SAKgB,KAFfA,GADA1C,EAAOmE,EAAEhE,IACIqE,QAAQ,QAGpBpD,EAAOpB,EAAKyC,UAAUC,EAAQ,EAAG1C,EAAKR,OAAS,GAAGiF,OAClDzE,EAAOA,EAAKyC,UAAU,EAAGC,KAKX,KAFfA,EAAQ1C,EAAK2C,YAAY,QAGxB4B,EAAUvE,EAAKyC,UAAUC,EAAQ,GACjC1C,EAAOA,EAAKyC,UAAU,EAAGC,IAO7B,IAAI7B,EAAM7B,OAAWG,KACrB,GAAI+E,EAAW,CACd,IAAIQ,GAAO,EACXR,EAAUX,KAAK,aAAaoB,KAAK,WAChC,IAAI5B,EAAM1D,KAAKuF,KAEXF,IAAS3B,IAAQA,EAAIE,SAAWF,EAAIC,UAAasB,GAAMvB,EAAIuB,KAAOA,GAAQtE,GAAQ+C,EAAI8B,QAAU7E,GAAUuE,GAAWxB,EAAI+B,WAAaP,GAAanD,IAAS2B,EAAIgC,KAAQhC,EAAI3B,OAASA,KAAU2B,EAAIiC,WAAejC,EAAIiC,UAAY,IAAM5D,IAAU2B,EAAI3B,SAGtPpC,GACmB,IAAlBA,EAAS+D,KACZ2B,GAAO,GAER7D,EAAIR,KAAK0C,WAGX,IAAS5C,EAAI,EAAGX,EAAShB,EAAWgB,OAAQW,EAAIX,EAAQW,IAAK,CAC5D,IAAI4C,EAAMvE,EAAW2B,GACrB,MAAK4C,IAAQA,EAAIE,SAAWF,EAAIC,UAAasB,GAAMvB,EAAIuB,KAAOA,GAAQtE,GAAQ+C,EAAI8B,QAAU7E,GAAUuE,GAAWxB,EAAI+B,WAAaP,GAAcnD,IAAS2B,EAAIgC,KAAQhC,EAAI3B,OAASA,KAAU2B,EAAIiC,WAAejC,EAAIiC,UAAY,IAAM5D,IAAU2B,EAAI3B,QAGnP,GAAIpC,GACH,IAAsB,IAAlBA,EAAS+D,GACZ,WAGDlC,EAAIR,KAAK0C,GAKZ,OAAOlC,EAGR,SAASoE,EAAalC,EAAKmC,GAEtBnC,EAAIoC,eACHpC,EAAIoC,cAAgB,GAAM,EAC7BpC,EAAIoC,gBAcP,SAASC,EAAYlB,EAAWmB,EAAWC,GAE1C,IAAIzE,EAAMqD,EAAUqB,WACpB,IAAIC,KAEJC,OAAOvB,EAAUwB,UAAYL,EAAUnB,GAE1B,MAAToB,EACHA,EAAQ,EAERA,IAGD,IAAK,IAAInF,EAAI,EAAGX,EAASqB,EAAIrB,OAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAI6D,EAAKnD,EAAIV,GACb,GAAI6D,GAAMA,EAAG0B,UACZ1B,EAAGuB,WAAW/F,QAAyB,WAAfwE,EAAG0B,SAAsD,MAA9B1B,EAAG2B,aAAa,YAAsBH,EAAInF,KAAK2D,GAC9FyB,OAAOzB,EAAG0B,UAA+C,MAAnC1B,EAAG2B,aAAa,kBAA6C,IAAlBN,EAAUrB,IAC9E,OAIH,IAAK,IAAI7D,EAAI,EAAGX,EAASgG,EAAIhG,OAAQW,EAAIX,EAAQW,IAEhD,IADA6D,EAAKwB,EAAIrF,MACuC,IAAtCiF,EAAYpB,EAAIqB,EAAWC,GACpC,OAjCFF,EADaF,GAAgBnC,EAAI6C,SACd,GAAI,SAAS5B,GAC1BA,EAAGY,MAAQZ,EAAGY,OAAS7B,IAC3BiB,EAAGY,KAAO7B,EACVA,EAAIoC,cAAgB,KAqKvBxG,EAAEC,GAAGiH,MAAQ,WACZ,OAAO/B,EAAazE,KAAM,WAG3BV,EAAEC,GAAGkH,WAAa,WACjB,OAAOhC,EAAazE,KAAM,gBAG3BV,EAAEC,GAAGmH,UAAY,WAChB,OAAOjC,EAAazE,KAAM,SAG3BV,EAAEC,GAAGJ,WAAa,SAASI,GAC1B,IAAIkE,EAAMzD,KAAKkE,KAngBF,aAogBTjE,EAAS,KAwBb,OAvBAwD,EAAI6B,KAAK,SAASjC,GACjB,IAAIK,EAAM1D,KAAKuF,KACf,GAAI7B,EAEH,GADYA,aAAenD,MAE1BmD,EAAIiD,QAAQ,SAASlF,GACpB,GAAIA,GAAKA,EAAEmF,SAAWnF,EAAEkC,SAAU,CACjC,GAAIpE,EACH,OAAOA,EAAGa,KAAKqB,EAAG4B,GACdpD,IACJA,MACDA,EAAOe,KAAKS,WAGR,GAAIiC,GAAOA,EAAIkD,SAAWlD,EAAIC,SAAU,CAC9C,GAAIpE,EACH,OAAOA,EAAGa,KAAKsD,EAAKL,GAChBpD,IACJA,MACDA,EAAOe,KAAK0C,MAIRnE,EAAKkE,EAAMxD,GAsBnBnB,EAAM+H,MAAM1H,GACX2H,IAdD,SAAanF,EAAO4E,GAInB,IAHIA,aAAmBQ,KAAOR,aAAmBS,OAAST,aAAmBU,UAC5EV,EAAUA,EAAQA,SAEf5E,aAAiBpB,MACpB,IAAK,IAAIO,EAAI,EAAGA,EAAIa,EAAMxB,OAAQW,IACjCoG,IAAIvF,EAAMb,GAAIyF,QAEfjH,EAAEiH,GAAWY,SAASC,MAAMC,OAAO,4BAA4BC,OAAO3F,IACtE4F,YAAY,MAAOC,QAAS,KAO7BC,QAAAA,QACAC,KA7aD,SAAc3F,GAEb,IAGI4F,EAHA/G,KACAgH,EAAI,EACJC,GAAO,EAEPxF,EAAMrC,MAEG,IAAT+B,IACH8F,GAAO,EACP9F,EAAOhB,UAAU,GACjB6G,EAAI,GAGL7F,EAAOA,EAAK+F,MAEZ,IAAK,IAAIhH,EAAI8G,EAAG9G,EAAIC,UAAUZ,OAAQW,IACrCF,EAAII,KAAKD,UAAUD,IAGpB,IAAIiH,EAAIhG,EAAKiG,WAAW,GAGxB,GAAU,KAAND,EAOH,OANAJ,EAAI5F,EAAKqB,UAAU,GACfyE,GACFI,OAAON,IAAMvF,EAAWC,EAAKN,EAAMnB,GAEpCO,KAAKf,KAAKiC,EAAKsF,EAAG/G,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAEhD0B,KAGR,IAAI4F,EAAK,EAGT,GAAU,KAANH,EAAU,CACb,IAAI1E,EAAQtB,EAAKoD,QAAQ,KAGzB,GAFAwC,EAAI5F,EAAKqB,UAAU,EAAGC,GAClB8E,EAAOC,QAAQlE,KAAKyD,GACd,CACT,IAAIpI,EAAK4I,EAAKpG,EAAKqB,UAAUC,EAAQ,IACjCvE,EAAMmD,WAAW1C,KACpBA,EAAGgC,MAAMc,IAAQgG,OAASF,EAAO9F,EAAKzB,GACtCsH,EAAK,GAOP,OAHIL,IAASK,GACZ9F,EAAWC,EAAKN,EAAMnB,GAEhB0B,KAKR,IAAe,KADXe,EAAQtB,EAAKoD,QAAQ,MACP,CACjBwC,EAAI5F,EAAKqB,UAAU,EAAGC,GACtB,IAAI8E,EAAOC,QAAQlE,KAAKyD,GAUxB,OATIpI,EAAKwC,EAAKqB,UAAUC,EAAQ,GAC5B8E,UAAeA,EAAK5I,KAASM,UAChCsI,EAAK5I,GAAIgC,MAAMc,IAAQ5B,EAAI0H,EAAO9F,EAAKzB,GACvCsH,EAAK,GAGFL,IAASK,GACZ9F,EAAWC,EAAKN,EAAMnB,GAEhB0B,KAWR,OARI/C,EAAK+I,MAAMC,IAAIxG,GAEfjD,EAAMmD,WAAW1C,KACpBA,EAAGgC,MAAMc,EAAKzB,GACdsH,EAAK,GAGNL,IAASK,GAAM9F,EAAWC,EAAKN,EAAMnB,GAC9B0B,MA+VPkG,MAhcD,SAAezG,EAAM0G,GACpB,IAAIxF,GAAc,IAATlB,EACT,OAAO,SAASI,EAAGuG,EAAGX,EAAGY,GACpB1F,EACHX,KAAKmG,EAAK1G,EAAMI,EAAGuG,EAAGX,EAAGY,GAEzBrG,KAAKP,EAAMI,EAAGuG,EAAGX,EAAGY,OA6bvB,IAAI7F,KAmPJ,SAASwC,EAAK/F,EAAIwC,GACjB,IAAIwB,IAAWxB,IAAkC,IAA3BA,EAAKuB,YAAY,KACnCC,IACHxB,EAAOA,EAAK6G,QAAQ,KAAM,KAG3B,IAFA,IAAInF,EAAMtE,EACNkE,EAAQ,EACHvC,EAAI,EAAGX,EAASsD,EAAItD,OAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAI4C,EAAMD,EAAI3C,GACd,GAAK4C,GAAQA,EAAIE,UAAWF,EAAIC,YAAa5B,GAAU2B,EAAI3B,MAAS2B,EAAIG,SAAS9B,IAGjF,IAAa,IADFxC,EAAGmE,EAAKL,IAASE,GAE3B,OAAOvD,KAET,OAAOA,KAgDR,OAAOnB,EAAGgK,OACT1J,WAAAA,EACA2J,QA5wBD,SAAiB/G,GAChB,OAAQQ,EAAUR,IA4wBlBgH,OAlwBD,SAAgBhH,EAAMJ,GAGrB,OAFa,MAATA,IACHA,GAAQ,IACDY,EAAUR,GAAOJ,IAgwBzBqH,QAAAA,QACAC,SAAAA,SACAC,SAzMD,SAASA,EAASnH,EAAMnC,EAAS4C,EAAe2G,GAE/C,GAAIvJ,EAAU,EAIb,OAHA0B,WAAW,WACV4H,EAASnH,EAAM,EAAGS,EAAe2G,IAC/BvJ,GACII,KAGsB,kBAApB,IACTmJ,EAAQ3G,EACRA,EAAgB,WAGH1C,IAAVqJ,IACHA,GAAQ,GAMT,IAEIV,EAFA9F,GAHJZ,EAAOqH,WAAWrH,IAGH6G,QAAQ,QAAS,IAC5BrJ,EAAK8J,SAAS,IAAMC,KAAK3G,IAGzBpD,IACHkJ,EAAMlJ,IACNgK,IAAI5G,EAAK8F,IAMV,IAHA,IAAIjH,KACAiC,EAAMtE,EAED2B,EAAI,EAAGX,EAASsD,EAAItD,OAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAI4C,EAAMD,EAAI3C,GAEd,GAAK4C,IAAOA,EAAIC,WAAYD,EAAIU,UAAaV,EAAIE,SAAYF,EAAI3B,MAAS2B,EAAIG,SAAS9B,KAInF2B,EAAIxC,OACPM,EAAIR,KAAK0C,IAGNlB,GAAiBA,EAAc8B,MAAQZ,EAAIY,KAA/C,CAQA,GAJIZ,EAAI8F,UACP9F,EAAI6F,IAAI7F,EAAI8F,WAAY,IAGpBL,EACJ,OAGDvD,EAAalC,GAERA,EAAIW,kBACRX,EAAIa,QAAS,GAETb,EAAI+F,kBACR/F,EAAIgG,QAAS,EACbhG,EAAIiG,WAAY,EACZjG,EAAIkG,WACPlG,EAAIgG,OAAShG,EAAIkG,SAASlG,EAAI6E,OAC9B7E,EAAIc,aAAa,QAUpB,OALI2E,IACHnK,EAAOK,MAAM,QAAS,SACtBP,EAAMoC,MAAMM,EAAK,EAAG,IAGdxB,MA8HPsF,KAAAA,EACApB,KApTD,SAAcvC,EAAOjC,EAAMmK,EAASlK,GAEnC,IAAImK,GAAY,EAEhB,GAAIhL,EAAMmD,WAAWvC,GACpBoK,GAAY,EACZnK,EAAWD,EACXA,OAAOI,OAGD,GAAIhB,EAAMmD,WAAW4H,GAAU,CACrC,IAAIpB,EAAM9I,EACVmK,GAAY,EACZnK,EAAWkK,EACXA,EAAUpB,EAIX,IAAIqB,EAAJ,CAqBA,GAAsB,iBAAZ,EAAsB,CACzBnI,aAAiBoI,SACtBpI,EAAQrC,EAAEqC,IAEX,IAAI1B,EAASC,EAAcyB,EAAO,IAClC,OAAOjC,EAAOO,EAASA,EAAO,GAG/B,IAAI0C,EAEJ,IAAKkH,IAEJ5J,EAAS6C,EADTH,EAAM,QAAUhB,EAAQ,KAAOjC,EAAO,EAAI,KAGzC,OAAOO,EAIT,IAAI+J,EAAI9J,EAAc,KAAMyB,GAQ5B,OAPKjC,IACJsK,EAAIA,EAAE,IAEP/J,EAAS+J,EACJH,IACJ/G,EAAMH,GAAO1C,GAEPA,EA9CNnB,EAAMgL,UAAU,WACf,IAAIxJ,EAAMd,KAAKmC,EAAOjC,EAAMmK,GAO5B,OANI5I,QAAQU,IAAmC,IAAzBV,QAAQU,GAAOT,QACpCD,QAAQU,GAAOT,MAAQ,EACvB+I,MAAMC,KAAK,OAAQvI,GAAO,GAC1BP,KAAK,cAAgBO,GACrBN,WAEMf,aAAeC,MAAQD,EAAIH,OAAS,IAAMG,GAC/C,SAASE,GAEX,IAAKA,EAAK,CACT,IAAIF,EAAMd,KAAKmC,EAAOjC,GACtBC,EAASS,KAAKE,GAAYG,EAAGH,KAE5B,IAAKuJ,IAmRTM,QAAAA,QACAhB,MAxHD,SAASA,EAAMpH,EAAMnC,EAAS4C,GAE7B,GAAI5C,EAAU,EAIb,OAHA0B,WAAW,WACV6H,EAAMpH,IACJnC,GACII,KAGR+B,EAAOqI,QAAQ5G,UAAUzB,GAAM6G,QAAQyB,YAAa,IAKpD,IAHA,IAAI7I,KACAiC,EAAMtE,EAED2B,EAAI,EAAGX,EAASsD,EAAItD,OAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAI4C,EAAMD,EAAI3C,GACT4C,IAAOA,EAAIC,WAAYD,EAAIU,UAAaV,EAAIE,SAAYF,EAAI3B,MAAS2B,EAAIG,SAAS9B,KAIvF2B,EAAIxC,OAASM,EAAIR,KAAK0C,GAElBlB,GAAiBA,EAAc8B,MAAQZ,EAAIY,MAI/CsB,EAAalC,GAERA,EAAIW,kBACRX,EAAIa,QAAS,EACbb,EAAIc,aAAa,MAGbd,EAAI+F,kBACR/F,EAAIgG,QAAS,EACbhG,EAAIiG,WAAY,EACZjG,EAAIkG,WACPlG,EAAIgG,OAAShG,EAAIkG,SAASlG,EAAI6E,OAC9B7E,EAAIc,aAAa,SAOpB,OAFAnF,EAAM,QAAS,SACf6B,MAAMM,EAAK,EAAG,GACPxB,MA4EPsK,OA38BD,SAAgB7K,EAAUkB,GAKzB,IAHA,IAAIC,KACAC,GAAmB,IAAbpB,EAAoB,EAAI,EAEzBqB,EAAID,EAAKC,EAAIC,UAAUZ,OAAQW,IACvCF,EAAII,KAAKD,UAAUD,IAGpB,GAAY,IAARD,EAAW,CAId,GAFApB,EAAWkB,EAEPM,QAAQxB,IAAyC,IAA5BwB,QAAQxB,GAAUyB,MAc1C,OAZgC,IAA5BD,QAAQxB,GAAUyB,QACrBD,QAAQxB,GAAUyB,MAAQ,EAC1BC,KAAK,OAAQ1B,GAAU,GACvB2B,KAAK,cAAgB3B,GACrB4B,WAGDC,WAAW,SAASV,GACnBA,EAAI,IAAK,EACTH,EAAEC,OAAOa,MAAMd,EAAGG,IAChB,IAAKG,WAEDL,OAGRC,EAAOI,UAAU,GAEjBvB,KAAKC,GAAU,EAAM,SAAS+B,GAC7B,IAAK,IAAIV,EAAI,EAAGX,EAASqB,EAAIrB,OAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAIW,EAAID,EAAIV,UACDW,EAAEd,KAAWd,QACvB4B,EAAEd,GAAMY,MAAME,EAAGb,GAEjBa,EAAEd,GAAQC,EAAI,UAGX,CAEN,GAAIK,QAAQxB,IAAyC,IAA5BwB,QAAQxB,GAAUyB,MAa1C,OAXgC,IAA5BD,QAAQxB,GAAUyB,QACrBD,QAAQxB,GAAUyB,MAAQ,EAC1BC,KAAK,OAAQ1B,GAAU,GACvB2B,KAAK,cAAgB3B,GACrB4B,WAGDC,WAAW,SAASV,GACnBH,EAAEC,OAAOa,MAAMd,EAAGG,IAChB,IAAKG,WAEDL,OAIR,IADA,IAAIc,EAAMhC,KAAKC,GAAU,GACTU,GAAPW,EAAI,EAAYU,EAAIrB,QAAQW,EAAIX,EAAQW,IAAK,CACrD,IAAIW,EAAID,EAAIV,UACDW,EAAEd,KAAWd,QACvB4B,EAAEd,GAAMY,MAAME,EAAGb,GAEjBa,EAAEd,GAAQC,EAAI,IAIjB,OAAOF,QAu4BP6J,MApPD,SAAe5J,EAAM6J,EAAQzI,EAAMpC,GAElC,IAAIqC,SAAa,EACbA,IAASyI,OAGZD,EADS1L,EAAM4L,KAAI,GACP5D,IAAI,IAAM0D,EAAO1C,OAAO6C,UAC1B3I,IAAS4I,SACnBJ,EAASK,KAAKH,MAAQF,UAEb,IAAW3K,UACpBF,EAAWoC,EACXA,OAAOjC,GAGR,IAAI0B,KACAW,EAAI,KAGPA,EADGJ,EACCvC,KAAK,IAAMuC,GAAM,GAEjB5C,EAGL,IAAK,IAAI2B,EAAI,EAAGA,EAAIqB,EAAEhC,OAAQW,IAAK,CAClC,IAAIiH,EAAI5F,EAAErB,GACNiH,EAAEwC,MAAM5J,IAAS6J,IAChB7K,EACHA,EAASoI,GAETvG,EAAIR,KAAK+G,IAIZ,OAAOpI,EAAWT,EAAIsC,GAmNtB0D,QAxoCD,WACC,IAAK,IAAI4F,EAAI,EAAGA,EAAI/J,UAAUZ,OAAQ2K,IAErC,IADA,IAAIC,EAAOhK,UAAU+J,GAAG/F,MAAM,KACrBjE,EAAI,EAAGA,EAAIiK,EAAK5K,OAAQW,IAAK,CACrC,IAAI6B,EAAMoI,EAAKjK,GAAGsE,OACdqD,EAAM9F,EAAIwC,QAAQ,KACtB,IAAa,IAATsD,EAAJ,CAGA,IAAIvD,EAAUvC,EAAIS,UAAUqF,EAAM,GAClC9F,EAAMA,EAAIS,UAAU,EAAGqF,GACvBvD,GAAWvC,IAAQvD,EAASuD,GAAOuC","file":"../views.js","sourcesContent":["define([\r\n\t\"./jc\",\r\n\t\"./langx\",\r\n\t\"./Usage\",\r\n\t\"./caches\",\r\n\t\"./Component\"\r\n],function(jc,langx,Usage, caches,Component){\r\n\tvar M = jc;\r\n\r\n\tvar components = Component.components = [];\r\n\tvar versions = {};\r\n\r\n\tvar clear = caches.clear;\r\n\r\n   /**\r\n   * sets a version for specific components.\r\n   */\r\n\tfunction version() { //W.VERSION = \r\n\t\tfor (var j = 0; j < arguments.length; j++) {\r\n\t\t\tvar keys = arguments[j].split(',');\r\n\t\t\tfor (var i = 0; i < keys.length; i++) {\r\n\t\t\t\tvar key = keys[i].trim();\r\n\t\t\t\tvar tmp = key.indexOf('@');\r\n\t\t\t\tif (tmp === -1) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tvar version = key.substring(tmp + 1);\r\n\t\t\t\tkey = key.substring(0, tmp);\r\n\t\t\t\tversion && key && (versions[key] = version);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t$.fn.FIND = function(selector, many, callback, timeout) {\r\n\r\n\t\tif (typeof(many) === TYPE_FN) {\r\n\t\t\ttimeout = callback;\r\n\t\t\tcallback = many;\r\n\t\t\tmany = undefined;\r\n\t\t}\r\n\r\n\t\tvar self = this;\r\n\t\tvar output = findcomponent(self, selector);\r\n\t\tif (typeof(callback) === TYPE_FN) {\r\n\r\n\t\t\tif (output.length) {\r\n\t\t\t\tcallback.call(output, output);\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\r\n\t\t\tWAIT(function() {\r\n\t\t\t\tvar val = self.FIND(selector, many);\r\n\t\t\t\treturn val instanceof Array ? val.length > 0 : !!val;\r\n\t\t\t}, function(err) {\r\n\t\t\t\t// timeout\r\n\t\t\t\tif (!err) {\r\n\t\t\t\t\tvar val = self.FIND(selector, many);\r\n\t\t\t\t\tcallback.call(val ? val : W, val);\r\n\t\t\t\t}\r\n\t\t\t}, 500, timeout);\r\n\r\n\t\t\treturn self;\r\n\t\t}\r\n\r\n\t\treturn many ? output : output[0];\r\n\t};\r\n\r\n\t$.fn.SETTER = function(selector, name) {\r\n\r\n\t\tvar self = this;\r\n\t\tvar arg = [];\r\n\t\tvar beg = selector === true ? 3 : 2;\r\n\r\n\t\tfor (var i = beg; i < arguments.length; i++)\r\n\t\t\targ.push(arguments[i]);\r\n\r\n\t\tif (beg === 3) {\r\n\t\t\tselector = name;\r\n\t\t\tname = arguments[2];\r\n\r\n\t\t\tif (lazycom[selector] && lazycom[selector].state !== 3) {\r\n\r\n\t\t\t\tif (lazycom[selector].state === 1) {\r\n\t\t\t\t\tlazycom[selector].state = 2;\r\n\t\t\t\t\tEMIT('lazy', selector, true);\r\n\t\t\t\t\twarn('Lazy load: ' + selector);\r\n\t\t\t\t\tcompile();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTimeout(function(arg) {\r\n\t\t\t\t\t$.fn.SETTER.apply(self, arg);\r\n\t\t\t\t}, 555, arguments);\r\n\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\r\n\t\t\tself.FIND(selector, true, function(arr) {\r\n\t\t\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\t\t\tvar o = arr[i];\r\n\t\t\t\t\tif (typeof(o[name]) === TYPE_FN)\r\n\t\t\t\t\t\to[name].apply(o, arg);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\to[name] = arg[0];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif (lazycom[selector] && lazycom[selector].state !== 3) {\r\n\r\n\t\t\t\tif (lazycom[selector].state === 1) {\r\n\t\t\t\t\tlazycom[selector].state = 2;\r\n\t\t\t\t\tEMIT('lazy', selector, true);\r\n\t\t\t\t\twarn('Lazy load: ' + selector);\r\n\t\t\t\t\tcompile();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTimeout(function(arg) {\r\n\t\t\t\t\t$.fn.SETTER.apply(self, arg);\r\n\t\t\t\t}, 555, arguments);\r\n\r\n\t\t\t\treturn self;\r\n\t\t\t}\r\n\r\n\t\t\tvar arr = self.FIND(selector, true);\r\n\t\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (typeof(o[name]) === TYPE_FN)\r\n\t\t\t\t\to[name].apply(o, arg);\r\n\t\t\t\telse\r\n\t\t\t\t\to[name] = arg[0];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn self;\r\n\t};\r\n\r\n\t$.fn.RECONFIGURE = function(selector, value) {\r\n\t\treturn this.SETTER(selector, 'reconfigure', value);\r\n\t};\r\n\r\n\r\n\tM.$formatter = [];\r\n\r\n\r\n   /**\r\n   * Evaluates a global formatter.\r\n   * @param  {String} path \r\n   * @param  {Object} value\r\n   * @param  {String} type \r\n   * @returns {Boolean}   \r\n   * OR\r\n   * Registers a global formatter.\r\n   * @param  {Function} value \r\n   * @param  {Boolean} path \r\n   */\r\n\tW.FORMATTER = M.formatter = function(value, path, type) {\r\n\r\n\t\tif (langx.isFunction(value)) {\r\n\t\t\t!M.$formatter && (M.$formatter = []);\r\n\r\n\t\t\t// Prepend\r\n\t\t\tif (path === true) {\r\n\t\t\t\tM.$formatter.unshift(value);\r\n\t\t\t} else {\r\n\t\t\t\tM.$formatter.push(value);\r\n\t\t\t}\r\n\r\n\t\t\treturn M;\r\n\t\t}\r\n\r\n\t\tvar a = M.$formatter;\r\n\t\tif (a && a.length) {\r\n\t\t\tfor (var i = 0, length = a.length; i < length; i++) {\r\n\t\t\t\tvar val = a[i].call(M, path, value, type);\r\n\t\t\t\tif (val !== undefined)\r\n\t\t\t\t\tvalue = val;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\r\n   /**\r\n   * Reconfigures all components according to the selector.\r\n   * @param  {String} selector \r\n   * @param  {String/Object} config A default configuration\r\n   */\r\n\tW.RECONFIGURE = function(selector, value) {\r\n\t\tSETTER(true, selector, 'reconfigure', value);\r\n\t\treturn RECONFIGURE;\r\n\t};\r\n\r\n   /**\r\n   * Set a new value to the specific method in components.\r\n   * @param  {Boolean} wait Optional, can it wait for non-exist components? \r\n   * @param  {String} selector  \r\n   * @param  {String} name Property or Method name (can't be nested) \r\n   * @param  {Object} argA Optional, additional argument\r\n   * @param  {Object} argB Optional, additional argument\r\n   * @param  {Object} argN Optional, additional argument\r\n   */\r\n\tfunction setter(selector, name) { // W.SETTER\r\n\r\n\t\tvar arg = [];\r\n\t\tvar beg = selector === true ? 3 : 2;\r\n\r\n\t\tfor (var i = beg; i < arguments.length; i++) {\r\n\t\t\targ.push(arguments[i]);\r\n\t\t}\r\n\r\n\t\tif (beg === 3) {\r\n\r\n\t\t\tselector = name;\r\n\r\n\t\t\tif (lazycom[selector] && lazycom[selector].state !== 3) {\r\n\r\n\t\t\t\tif (lazycom[selector].state === 1) {\r\n\t\t\t\t\tlazycom[selector].state = 2;\r\n\t\t\t\t\tEMIT('lazy', selector, true);\r\n\t\t\t\t\twarn('Lazy load: ' + selector);\r\n\t\t\t\t\tcompile();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTimeout(function(arg) {\r\n\t\t\t\t\targ[0] = true;\r\n\t\t\t\t\tW.SETTER.apply(W, arg);\r\n\t\t\t\t}, 555, arguments);\r\n\r\n\t\t\t\treturn SETTER;\r\n\t\t\t}\r\n\r\n\t\t\tname = arguments[2];\r\n\r\n\t\t\tFIND(selector, true, function(arr) {\r\n\t\t\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\t\t\tvar o = arr[i];\r\n\t\t\t\t\tif (typeof(o[name]) === TYPE_FN)\r\n\t\t\t\t\t\to[name].apply(o, arg);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\to[name] = arg[0];\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\r\n\t\t\tif (lazycom[selector] && lazycom[selector].state !== 3) {\r\n\r\n\t\t\t\tif (lazycom[selector].state === 1) {\r\n\t\t\t\t\tlazycom[selector].state = 2;\r\n\t\t\t\t\tEMIT('lazy', selector, true);\r\n\t\t\t\t\twarn('Lazy load: ' + selector);\r\n\t\t\t\t\tcompile();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsetTimeout(function(arg) {\r\n\t\t\t\t\tW.SETTER.apply(W, arg);\r\n\t\t\t\t}, 555, arguments);\r\n\r\n\t\t\t\treturn SETTER;\r\n\t\t\t}\r\n\r\n\t\t\tvar arr = FIND(selector, true);\r\n\t\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\t\tvar o = arr[i];\r\n\t\t\t\tif (typeof(o[name]) === TYPE_FN)\r\n\t\t\t\t\to[name].apply(o, arg);\r\n\t\t\t\telse\r\n\t\t\t\t\to[name] = arg[0];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn SETTER;\r\n\t};\r\n\r\n\r\n\r\n\r\n//\tvar components = {};\r\n\r\n//\tM.$components = {};\r\n//\tM.components = [];\r\n\r\n\r\n\t// ===============================================================\r\n\t// PRIVATE FUNCTIONS\r\n\t// ===============================================================\r\n\r\n\tvar ATTRCOM = '[data-jc]';\r\n\r\n\tfunction exechelper(ctx, path, arg) {\r\n\t\tsetTimeout(function() {\r\n\t\t\tEXEC.call(ctx, true, path, arg[0], arg[1], arg[2], arg[3], arg[4], arg[5], arg[6]);\r\n\t\t}, 200);\r\n\t}\r\n\r\n\tfunction com_dirty(path, value, onlyComponent, skipEmitState) {\r\n\r\n\t\tvar isExcept = value instanceof Array;\r\n\t\tvar key = 'dirty' + path + (isExcept ? '>' + value.join('|') : '');\r\n\t\tvar except = null;\r\n\r\n\t\tif (isExcept) {\r\n\t\t\texcept = value;\r\n\t\t\tvalue = undefined;\r\n\t\t}\r\n\r\n\t\tif (typeof(value) !== 'boolean' && cache[key] !== undefined)\r\n\t\t\treturn cache[key];\r\n\r\n\t\tvar dirty = true;\r\n\t\tvar arr = value !== undefined ? [] : null;\r\n\t\tvar flags = null;\r\n\r\n\t\tif (isExcept) {\r\n\t\t\tvar is = false;\r\n\t\t\tflags = {};\r\n\t\t\texcept = except.remove(function(item) {\r\n\t\t\t\tif (item.substring(0, 1) === '@') {\r\n\t\t\t\t\tflags[item.substring(1)] = true;\r\n\t\t\t\t\tis = true;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t!is && (flags = null);\r\n\t\t\tisExcept = except.length > 0;\r\n\t\t}\r\n\r\n\t\tvar index = path.lastIndexOf('.*');\r\n\t\tvar wildcard = index !== -1;\r\n\t\tif (index !== -1)\r\n\t\t\tpath = path.substring(0, index);\r\n\r\n\t\tpath = pathmaker(path);\r\n\r\n\t\tvar all = components;//M.components;\r\n\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\tvar com = all[i];\r\n\r\n\t\t\tif (!com || com.$removed || !com.$loaded || !com.path || !com.$compare(path) || (isExcept && com.$except(except)))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (flags && ((flags.visible && !com.visible()) || (flags.hidden && !com.hidden()) || (flags.enabled && com.find(SELINPUT).is(':disabled')) || (flags.disabled && com.find(SELINPUT).is(':enabled'))))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (com.disabled || com.$dirty_disabled) {\r\n\t\t\t\tarr && com.state && arr.push(com);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tif (com.$dirty === false)\r\n\t\t\t\t\tdirty = false;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tcom.state && arr.push(com);\r\n\r\n\t\t\tif (!onlyComponent) {\r\n\t\t\t\tif (wildcard || com.path === path) {\r\n\t\t\t\t\tcom.$dirty = value;\r\n\t\t\t\t\tcom.$interaction(101);\r\n\t\t\t\t}\r\n\t\t\t} else if (onlyComponent._id === com._id) {\r\n\t\t\t\tcom.$dirty = value;\r\n\t\t\t\tcom.$interaction(101);\r\n\t\t\t}\r\n\t\t\tif (com.$dirty === false)\r\n\t\t\t\tdirty = false;\r\n\t\t}\r\n\r\n\t\tclear('dirty');\r\n\t\tcache[key] = dirty;\r\n\r\n\t\t// For double hitting component.state() --> look into COM.invalid()\r\n\t\t!skipEmitState && state(arr, 1, 2);\r\n\t\treturn dirty;\r\n\t}\r\n\r\n   /**\r\n   * Reads a state, it works with dirty state.\r\n   * @param  {String} path \r\n   * @return {Boolean} \r\n   */\r\n\tfunction changed(path) {\r\n\t\treturn !com_dirty(path);\r\n\t};\r\n\r\n\r\n   /**\r\n   * Set a change for the path or can read the state, it works with dirty state.\r\n   * @param  {String} path \r\n   * @param  {Boolean} value Optional\r\n   * @return {Boolean} \r\n   */\r\n\tfunction change(path, value) {\r\n\t\tif (value == null)\r\n\t\t\tvalue = true;\r\n\t\treturn !com_dirty(path, !value);\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * This method is same like EXEC() method but it returns a function.\r\n\t * It must be used as a callback. All callback arguments will be used for the targeted method.\r\n\t */\r\n\tfunction exec2(path, tmp) { //W.EXEC2 = \r\n\t\tvar is = path === true;\r\n\t\treturn function(a, b, c, d) {\r\n\t\t\tif (is)\r\n\t\t\t\tEXEC(tmp, path, a, b, c, d);\r\n\t\t\telse\r\n\t\t\t\tEXEC(path, a, b, c, d);\r\n\t\t};\r\n\t};\r\n\r\n  /**\r\n   * Executes a method according to the path. It wont't throw any exception if the method not exist.\r\n   * @param  {Boolean} wait Optional enables a waiter for the method instance (if method doesn't exist) \r\n   * @param  {String} path \r\n   * @param  {Object} a - Optional, additional argument\r\n   * @param  {Object} b - Optional, additional argument\r\n   * @param  {Object} c - Optional, additional argument\r\n   */\r\n\tfunction exec(path) {   // W.EXEC = \r\n\r\n\t\tvar arg = [];\r\n\t\tvar f = 1;\r\n\t\tvar wait = false;\r\n\t\tvar p;\r\n\t\tvar ctx = this;\r\n\r\n\t\tif (path === true) {\r\n\t\t\twait = true;\r\n\t\t\tpath = arguments[1];\r\n\t\t\tf = 2;\r\n\t\t}\r\n\r\n\t\tpath = path.env();\r\n\r\n\t\tfor (var i = f; i < arguments.length; i++) {\r\n\t\t\targ.push(arguments[i]);\r\n\t\t}\r\n\r\n\t\tvar c = path.charCodeAt(0);\r\n\r\n\t\t// Event\r\n\t\tif (c === 35) { // # , ex: EXEC('#submit', true); --> EMIT('submit', true);\r\n\t\t\tp = path.substring(1);\r\n\t\t\tif (wait) {\r\n\t\t\t\t!events[p] && exechelper(ctx, path, arg);\r\n\t\t\t} else {\r\n\t\t\t\tEMIT.call(ctx, p, arg[0], arg[1], arg[2], arg[3], arg[4]);\r\n\t\t\t}\r\n\t\t\treturn EXEC;\r\n\t\t}\r\n\r\n\t\tvar ok = 0;\r\n\r\n\t\t// PLUGINS\r\n\t\tif (c === 64) { // @ , ex: EXEC('@PLUGIN.method_name');\r\n\t\t\tvar index = path.indexOf('.');\r\n\t\t\tp = path.substring(1, index);\r\n\t\t\tvar ctrl = plugins.find(p); //W.PLUGINS[p];\r\n\t\t\tif (ctrl) {\r\n\t\t\t\tvar fn = ctrl[path.substring(index + 1)];\r\n\t\t\t\tif (langx.isFunction(fn) ) { // if (typeof(fn) === TYPE_FN) {\r\n\t\t\t\t\tfn.apply(ctx === Window ? ctrl : ctx, arg);\r\n\t\t\t\t\tok = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (wait && !ok) {\r\n\t\t\t exechelper(ctx, path, arg);\r\n\t\t\t}\r\n\t\t\treturn EXEC;\r\n\t\t}\r\n\r\n\t\t// PLUGINS\r\n\t\tvar index = path.indexOf('/'); // ex : EXEC('PLUGIN/method_name');\r\n\t\tif (index !== -1) {\r\n\t\t\tp = path.substring(0, index);\r\n\t\t\tvar ctrl = plugins.find(p); //W.PLUGINS[p];\r\n\t\t\tvar fn = path.substring(index + 1);\r\n\t\t\tif (ctrl && typeof(ctrl[fn]) === TYPE_FN) {\r\n\t\t\t\tctrl[fn].apply(ctx === W ? ctrl : ctx, arg);\r\n\t\t\t\tok = 1;\r\n\t\t\t}\r\n\r\n\t\t\tif (wait && !ok) {\r\n\t\t\t exechelper(ctx, path, arg);\r\n\t\t\t}\r\n\t\t\treturn EXEC;\r\n\t\t}\r\n\r\n\t\tvar fn = paths.get(path);\r\n\r\n\t\tif (langx.isFunction(fn)) {\r\n\t\t\tfn.apply(ctx, arg);\r\n\t\t\tok = 1;\r\n\t\t}\r\n\r\n\t\twait && !ok && exechelper(ctx, path, arg);\r\n\t\treturn EXEC;\r\n\t};\r\n\r\n\r\n\tfunction findinstance(t, type) {\r\n\r\n\t\tif (!t.length) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < t.length; i++) {\r\n\t\t\tif (t[i][type]) {\r\n\t\t\t\treturn t[i][type];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar el = t[0].parentElement;\r\n\t\twhile (el !== null) {\r\n\t\t\tif (el[type]) {\r\n\t\t\t\treturn el[type];\r\n\t\t\t}\r\n\t\t\tel = el.parentElement;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tfunction findcomponent(container, selector, callback) {\r\n\r\n\t\tvar s = (selector ? selector.split(' ') : EMPTYARRAY);\r\n\t\tvar path = '';\r\n\t\tvar name = '';\r\n\t\tvar id = '';\r\n\t\tvar version = '';\r\n\t\tvar index;\r\n\r\n\t\tfor (var i = 0, length = s.length; i < length; i++) {\r\n\t\t\tswitch (s[i].substring(0, 1)) {\r\n\t\t\t\tcase '*':\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '.':\r\n\t\t\t\t\t// path\r\n\t\t\t\t\tpath = s[i].substring(1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase '#':\r\n\t\t\t\t\t// id;\r\n\t\t\t\t\tid = s[i].substring(1);\r\n\t\t\t\t\tindex = id.indexOf('[');\r\n\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\tpath = id.substring(index + 1, id.length - 1).trim();\r\n\t\t\t\t\t\tid = id.substring(0, index);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\t// name\r\n\t\t\t\t\tname = s[i];\r\n\t\t\t\t\tindex = name.indexOf('[');\r\n\r\n\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\tpath = name.substring(index + 1, name.length - 1).trim();\r\n\t\t\t\t\t\tname = name.substring(0, index);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tindex = name.lastIndexOf('@');\r\n\r\n\t\t\t\t\tif (index !== -1) {\r\n\t\t\t\t\t\tversion = name.substring(index + 1);\r\n\t\t\t\t\t\tname = name.substring(0, index);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar arr = callback ? undefined : [];\r\n\t\tif (container) {\r\n\t\t\tvar stop = false;\r\n\t\t\tcontainer.find('[data-jc]').each(function() {\r\n\t\t\t\tvar com = this.$com;\r\n\r\n\t\t\t\tif (stop || !com || !com.$loaded || com.$removed || (id && com.id !== id) || (name && com.$name !== name) || (version && com.$version !== version) || (path && (com.$pp || (com.path !== path && (!com.pathscope || ((com.pathscope + '.' + path) !== com.path))))))\r\n\t\t\t\t\treturn;\r\n\r\n\t\t\t\tif (callback) {\r\n\t\t\t\t\tif (callback(com) === false)\r\n\t\t\t\t\t\tstop = true;\r\n\t\t\t\t} else\r\n\t\t\t\t\tarr.push(com);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tfor (var i = 0, length = components.length; i < length; i++) { // M.components.length\r\n\t\t\t\tvar com = components[i]; // M.components[i]\r\n\t\t\t\tif (!com || !com.$loaded || com.$removed || (id && com.id !== id) || (name && com.$name !== name) || (version && com.$version !== version) || ((path && (com.$pp || (com.path !== path && (!com.pathscope || ((com.pathscope + '.' + path) !== com.path)))))))\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tif (callback) {\r\n\t\t\t\t\tif (callback(com) === false) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tarr.push(com);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn arr;\r\n\t}\r\n\r\n\tfunction findcontrol2(com, input) {\r\n\r\n\t\tif (com.$inputcontrol) {\r\n\t\t\tif (com.$inputcontrol % 2 !== 0) {\r\n\t\t\t\tcom.$inputcontrol++;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar target = input ? input : com.element;\r\n\t\tfindcontrol(target[0], function(el) {\r\n\t\t\tif (!el.$com || el.$com !== com) {\r\n\t\t\t\tel.$com = com;\r\n\t\t\t\tcom.$inputcontrol = 1;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction findcontrol(container, onElement, level) {\r\n\r\n\t\tvar arr = container.childNodes;\r\n\t\tvar sub = [];\r\n\r\n\t\tACTRLS[container.tagName] && onElement(container);\r\n\r\n\t\tif (level == null) {\r\n\t\t\tlevel = 0;\r\n\t\t} else {\r\n\t\t\tlevel++;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, length = arr.length; i < length; i++) {\r\n\t\t\tvar el = arr[i];\r\n\t\t\tif (el && el.tagName) {\r\n\t\t\t\tel.childNodes.length && el.tagName !== 'SCRIPT' && el.getAttribute('data-jc') == null && sub.push(el);\r\n\t\t\t\tif (ACTRLS[el.tagName] && el.getAttribute('data-jc-bind') != null && onElement(el) === false)\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i = 0, length = sub.length; i < length; i++) {\r\n\t\t\tel = sub[i];\r\n\t\t\tif (el && findcontrol(el, onElement, level) === false)\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction com_valid(path, value, onlyComponent) {\r\n\r\n\t\tvar isExcept = value instanceof Array;\r\n\t\tvar key = 'valid' + path + (isExcept ? '>' + value.join('|') : '');\r\n\t\tvar except = null;\r\n\r\n\t\tif (isExcept) {\r\n\t\t\texcept = value;\r\n\t\t\tvalue = undefined;\r\n\t\t}\r\n\r\n\t\tif (typeof(value) !== 'boolean' && cache[key] !== undefined)\r\n\t\t\treturn cache[key];\r\n\r\n\t\tvar flags = null;\r\n\r\n\t\tif (isExcept) {\r\n\t\t\tvar is = false;\r\n\t\t\tflags = {};\r\n\t\t\texcept = except.remove(function(item) {\r\n\t\t\t\tif (item.substring(0, 1) === '@') {\r\n\t\t\t\t\tflags[item.substring(1)] = true;\r\n\t\t\t\t\tis = true;\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t});\r\n\t\t\t!is && (flags = null);\r\n\t\t\tisExcept = except.length > 0;\r\n\t\t}\r\n\r\n\t\tvar valid = true;\r\n\t\tvar arr = value !== undefined ? [] : null;\r\n\r\n\t\tvar index = path.lastIndexOf('.*');\r\n\t\tvar wildcard = index !== -1;\r\n\t\tif (index !== -1) {\r\n\t\t\tpath = path.substring(0, index);\r\n\t\t}\r\n\r\n\t\tpath = pathmaker(path);\r\n\r\n\t\tvar all = components;//M.components;\r\n\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\tvar com = all[i];\r\n\r\n\t\t\tif (!com || com.$removed || !com.$loaded || !com.path || !com.$compare(path) || (isExcept && com.$except(except)))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (flags && ((flags.visible && !com.visible()) || (flags.hidden && !com.hidden()) || (flags.enabled && com.find(SELINPUT).is(':disabled')) || (flags.disabled && com.find(SELINPUT).is(':enabled'))))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (com.disabled || com.$valid_disabled) {\r\n\t\t\t\tarr && com.state && arr.push(com);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (value === undefined) {\r\n\t\t\t\tif (com.$valid === false)\r\n\t\t\t\t\tvalid = false;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tcom.state && arr.push(com);\r\n\r\n\t\t\tif (!onlyComponent) {\r\n\t\t\t\tif (wildcard || com.path === path) {\r\n\t\t\t\t\tcom.$valid = value;\r\n\t\t\t\t\tcom.$interaction(102);\r\n\t\t\t\t}\r\n\t\t\t} else if (onlyComponent._id === com._id) {\r\n\t\t\t\tcom.$valid = value;\r\n\t\t\t\tcom.$interaction(102);\r\n\t\t\t}\r\n\t\t\tif (com.$valid === false)\r\n\t\t\t\tvalid = false;\r\n\t\t}\r\n\r\n\t\tcaches.clear('valid');\r\n\t\tcaches.put(key, valid);  // cache[key] = valid\r\n\t\tlangx.state(arr, 1, 1);\r\n\t\treturn valid;\r\n\t}\r\n\r\n\r\n   /**\r\n   * Checks dirty and valid paths for all declared components on the path. \r\n   * If the method return true then the components are validated and \r\n   * some component has been changed by user (otherwise: false).\r\n   * @param  {String} path \r\n   * @param  {String|Array} except  With absolute paths for skipping\r\n   * @returns {Boolean}   \r\n   */\r\n\tfunction can(path, except) { // W.CAN = \r\n\t\tpath = pathmaker(path);\r\n\t\treturn !com_dirty(path, except) && com_valid(path, except);\r\n\t}\r\n\r\n   /**\r\n   * Checks dirty and valid paths for all declared components on the path. \r\n   * If the method return false then the components are validated and \r\n   * some component has been changed by user (otherwise: true).\r\n   * @param  {String} path \r\n   * @param  {String|Array} except  With absolute paths for skipping\r\n   * @returns {Boolean}   \r\n   */\r\n\tfunction disabled(path, except) { // W.DISABLED = \r\n\t\tpath = pathmaker(path);\r\n\t\treturn com_dirty(path, except) || !com_valid(path, except);\r\n\t}\r\n\r\n   /**\r\n   * Highlights all components on the path as invalid. \r\n   * @param  {String} path \r\n   * @param  {String|Array} except  With absolute paths for skipping\r\n   * @returns {Boolean}   \r\n   */\r\n\tfunction invalid(path, onlyComponent) {  // W.INVALID = \r\n\t\tpath = pathmaker(path);\r\n\t\tif (path) {\r\n\t\t\tcom_dirty(path, false, onlyComponent, true);\r\n\t\t\tcom_valid(path, false, onlyComponent);\r\n\t\t}\r\n\t\treturn W;\r\n\t};\r\n\r\n\r\n\t// ===============================================================\r\n\t// Query Extendtion\r\n\t// ===============================================================\r\n\r\n\t$.fn.vbind = function() {\r\n\t\treturn findinstance(this, '$vbind');\r\n\t};\r\n\r\n\t$.fn.vbindarray = function() {\r\n\t\treturn findinstance(this, '$vbindarray');\r\n\t};\r\n\r\n\t$.fn.component = function() {\r\n\t\treturn findinstance(this, '$com');\r\n\t};\r\n\r\n\t$.fn.components = function(fn) {\r\n\t\tvar all = this.find(ATTRCOM);\r\n\t\tvar output = null;\r\n\t\tall.each(function(index) {\r\n\t\t\tvar com = this.$com;\r\n\t\t\tif (com) {\r\n\t\t\t\tvar isarr = com instanceof Array;\r\n\t\t\t\tif (isarr) {\r\n\t\t\t\t\tcom.forEach(function(o) {\r\n\t\t\t\t\t\tif (o && o.$ready && !o.$removed) {\r\n\t\t\t\t\t\t\tif (fn)\r\n\t\t\t\t\t\t\t\treturn fn.call(o, index);\r\n\t\t\t\t\t\t\tif (!output)\r\n\t\t\t\t\t\t\t\toutput = [];\r\n\t\t\t\t\t\t\toutput.push(o);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (com && com.$ready && !com.$removed) {\r\n\t\t\t\t\tif (fn)\r\n\t\t\t\t\t\treturn fn.call(com, index);\r\n\t\t\t\t\tif (!output)\r\n\t\t\t\t\t\toutput = [];\r\n\t\t\t\t\toutput.push(com);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn fn ? all : output;\r\n\t};\r\n\r\n\r\n   /**\r\n   * Create new components dynamically.\r\n   * @param  {String|Array<String>} declaration \r\n   * @param  {jQuery Element/Component/Scope/Plugin} element optional,a parent element (default: \"document.body\")\r\n   */\r\n\tfunction add(value, element) { // W.ADD =\r\n\t\tif (element instanceof COM || element instanceof Scope || element instanceof Plugin) {\r\n\t\t\telement = element.element;\r\n\t\t}\r\n\t\tif (value instanceof Array) {\r\n\t\t\tfor (var i = 0; i < value.length; i++)\r\n\t\t\t\tADD(value[i], element);\r\n\t\t} else {\r\n\t\t\t$(element || document.body).append('<div data-jc=\"{0}\"></div>'.format(value));\r\n\t\t\tsetTimeout2('ADD', COMPILE, 10);\r\n\t\t}\r\n\t};\r\n\r\n\tlangx.mixin(components,{\r\n\t\tadd,\r\n\r\n\t\tattrcom, // \r\n\t\texec,\r\n\t\texec2,\r\n\t});\r\n\r\n\tvar cache = {}; // lwf\r\n\r\n\t/*\r\n\t * Finds all component according to the selector.\r\n\t */\r\n\tfunction find(value, many, noCache, callback) { //W.FIND = \r\n\r\n\t\tvar isWaiting = false;\r\n\r\n\t\tif (langx.isFunction(many)) {\r\n\t\t\tisWaiting = true;\r\n\t\t\tcallback = many;\r\n\t\t\tmany = undefined;\r\n\t\t\t// noCache = undefined;\r\n\t\t\t// noCache can be timeout\r\n\t\t} else if (langx.isFunction(noCache)) {\r\n\t\t\tvar tmp = callback;\r\n\t\t\tisWaiting = true;\r\n\t\t\tcallback = noCache;\r\n\t\t\tnoCache = tmp;\r\n\t\t\t// noCache can be timeout\r\n\t\t}\r\n\r\n\t\tif (isWaiting) {\r\n\t\t\tlangx.isWaiting(function() {  // WAIT\r\n\t\t\t\tvar val = FIND(value, many, noCache);\r\n\t\t\t\tif (lazycom[value] && lazycom[value].state === 1) {\r\n\t\t\t\t\tlazycom[value].state = 2;\r\n\t\t\t\t\ttopic.emit('lazy', value, true); // EMIT\r\n\t\t\t\t\twarn('Lazy load: ' + value);\r\n\t\t\t\t\tcompile();\r\n\t\t\t\t}\r\n\t\t\t\treturn val instanceof Array ? val.length > 0 : !!val;\r\n\t\t\t}, function(err) {\r\n\t\t\t\t// timeout\r\n\t\t\t\tif (!err) {\r\n\t\t\t\t\tvar val = FIND(value, many);\r\n\t\t\t\t\tcallback.call(val ? val : W, val);\r\n\t\t\t\t}\r\n\t\t\t}, 500, noCache);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Element\r\n\t\tif (typeof(value) === 'object') {\r\n\t\t\tif (!(value instanceof jQuery)) {\r\n\t\t\t\tvalue = $(value);\r\n\t\t\t}\r\n\t\t\tvar output = findcomponent(value, '');\r\n\t\t\treturn many ? output : output[0];\r\n\t\t}\r\n\r\n\t\tvar key, output;\r\n\r\n\t\tif (!noCache) {\r\n\t\t\tkey = 'find.' + value + '.' + (many ? 0 : 1);\r\n\t\t\toutput = cache[key];\r\n\t\t\tif (output) {\r\n\t\t\t\treturn output;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar r = findcomponent(null, value);\r\n\t\tif (!many) {\r\n\t\t\tr = r[0];\r\n\t\t}\r\n\t\toutput = r;\r\n\t\tif (!noCache) {\r\n\t\t\tcache[key] = output;\r\n\t\t}\r\n\t\treturn output;\r\n\t};\r\n\r\n\tfunction usage(name, expire, path, callback) { //W.LASTMODIFICATION = W.USAGE = M.usage = \r\n\r\n\t\tvar type = typeof(expire);\r\n\t\tif (type === TYPE_S) {\r\n\t\t\t//var dt = W.NOW = W.DATETIME = new Date();\r\n\t\t\tvar dt = langx.now(true);\r\n\t\t\texpire = dt.add('-' + expire.env()).getTime();\r\n\t\t} else if (type === TYPE_N)\r\n\t\t\texpire = Date.now() - expire;\r\n\r\n\t\tif (typeof(path) === TYPE_FN) {\r\n\t\t\tcallback = path;\r\n\t\t\tpath = undefined;\r\n\t\t}\r\n\r\n\t\tvar arr = [];\r\n\t\tvar a = null;\r\n\r\n\t\tif (path) {\r\n\t\t\ta = FIND('.' + path, true);\r\n\t\t} else {\r\n\t\t\ta = components;//M.components;\r\n\t\t}\r\n\r\n\t\tfor (var i = 0; i < a.length; i++) {\r\n\t\t\tvar c = a[i];\r\n\t\t\tif (c.usage[name] >= expire) {\r\n\t\t\t\tif (callback)\r\n\t\t\t\t\tcallback(c);\r\n\t\t\t\telse\r\n\t\t\t\t\tarr.push(c);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn callback ? M : arr;\r\n\t}\r\n\r\n\tfunction default2(path, timeout, onlyComponent, reset) { //M.default = \r\n\r\n\t\tif (timeout > 0) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tdefault2(path, 0, onlyComponent, reset);\r\n\t\t\t}, timeout);\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tif (typeof(onlyComponent) === 'boolean') {\r\n\t\t\treset = onlyComponent;\r\n\t\t\tonlyComponent = null;\r\n\t\t}\r\n\r\n\t\tif (reset === undefined) {\r\n\t\t\treset = true;\r\n\t\t}\r\n\r\n\t\tpath = pathmakerw(path); //pathmaker(path.replace(REGWILDCARD, ''));\r\n\r\n\t\t// Reset scope\r\n\t\tvar key = path.replace(/\\.\\*$/, '');\r\n\t\tvar fn = defaults['#' + HASH(key)];\r\n\t\tvar tmp;\r\n\r\n\t\tif (fn) {\r\n\t\t\ttmp = fn();\r\n\t\t\tset(key, tmp);\r\n\t\t}\r\n\r\n\t\tvar arr = [];\r\n\t\tvar all = components;//M.components;\r\n\r\n\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\tvar com = all[i];\r\n\r\n\t\t\tif (!com || com.$removed || com.disabled || !com.$loaded || !com.path || !com.$compare(path)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (com.state) {\r\n\t\t\t\tarr.push(com);\r\n\t\t\t}\r\n\r\n\t\t\tif (onlyComponent && onlyComponent._id !== com._id) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (com.$default) {\r\n\t\t\t com.set(com.$default(), 3);\r\n\t\t\t}\r\n\r\n\t\t\tif (!reset) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tfindcontrol2(com);\r\n\r\n\t\t\tif (!com.$dirty_disabled) {\r\n\t\t\t\tcom.$dirty = true;\r\n\t\t\t}\r\n\t\t\tif (!com.$valid_disabled) {\r\n\t\t\t\tcom.$valid = true;\r\n\t\t\t\tcom.$validate = false;\r\n\t\t\t\tif (com.validate) {\r\n\t\t\t\t\tcom.$valid = com.validate(com.get());\r\n\t\t\t\t\tcom.$interaction(102);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (reset) {\r\n\t\t\tcaches.clear('valid', 'dirty');\r\n\t\t\tlangx.state(arr, 3, 3);\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\r\n   /**\r\n   * Resets dirty and valid state in all components on the path.\r\n   * @param  {String} path \r\n   * @param  {Number} delay  Optional, in milliseconds (default: 0)\r\n   */\r\n\tfunction reset(path, timeout, onlyComponent) { //W.RESET = M.reset\r\n\r\n\t\tif (timeout > 0) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\treset(path);\r\n\t\t\t}, timeout);\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpath = parsers.pathmaker(path).replace(REGWILDCARD, '');\r\n\r\n\t\tvar arr = [];\r\n\t\tvar all = components;//M.components;\r\n\r\n\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\tvar com = all[i];\r\n\t\t\tif (!com || com.$removed || com.disabled || !com.$loaded || !com.path || !com.$compare(path)) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tcom.state && arr.push(com);\r\n\r\n\t\t\tif (onlyComponent && onlyComponent._id !== com._id) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tfindcontrol2(com);\r\n\r\n\t\t\tif (!com.$dirty_disabled) {\r\n\t\t\t\tcom.$dirty = true;\r\n\t\t\t\tcom.$interaction(101);\r\n\t\t\t}\r\n\r\n\t\t\tif (!com.$valid_disabled) {\r\n\t\t\t\tcom.$valid = true;\r\n\t\t\t\tcom.$validate = false;\r\n\t\t\t\tif (com.validate) {\r\n\t\t\t\t\tcom.$valid = com.validate(com.get());\r\n\t\t\t\t\tcom.$interaction(102);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclear('valid', 'dirty');\r\n\t\tstate(arr, 1, 3);\r\n\t\treturn this;\r\n\t}\r\n\r\n\tfunction each(fn, path) {   // M.each\r\n\t\tvar wildcard = path ? path.lastIndexOf('*') !== -1 : false;\r\n\t\tif (wildcard)\r\n\t\t\tpath = path.replace('.*', '');\r\n\t\tvar all = components;//M.components;\r\n\t\tvar index = 0;\r\n\t\tfor (var i = 0, length = all.length; i < length; i++) {\r\n\t\t\tvar com = all[i];\r\n\t\t\tif (!com || !com.$loaded || com.$removed || (path && (!com.path || !com.$compare(path))))\r\n\t\t\t\tcontinue;\r\n\t\t\tvar stop = fn(com, index++, wildcard);\r\n\t\t\tif (stop === true)\r\n\t\t\t\treturn this;\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tfunction used(path) {   //M.used\r\n\t\teach(function(obj) {\r\n\t\t\t!obj.disabled && obj.used();\r\n\t\t}, path);\r\n\t\treturn this;\r\n\t};\r\n\r\n   /**\r\n   * Returns all modified components by user on the path.\r\n   * @param  {String} path \r\n   * @returns {Array<String>}   \r\n   */\r\n\tfunction modified(path) { //W.MODIFIED = \r\n\t\tvar output = [];\r\n\t\tM.each(function(obj) {\r\n\t\t\tif (!(obj.disabled || obj.$dirty_disabled)) {\r\n\t\t\t\tobj.$dirty === false && output.push(obj.path);\r\n\t\t\t}\r\n\t\t}, pathmaker(path));\r\n\t\treturn output;\r\n\t}\r\n\r\n\tfunction errors(path, except, highlight) { //W.ERRORS = \r\n\r\n\t\tif (path instanceof Array) {\r\n\t\t\texcept = path;\r\n\t\t\tpath = undefined;\r\n\t\t}\r\n\r\n\t\tif (except === true) {\r\n\t\t\texcept = highlight instanceof Array ? highlight : null;\r\n\t\t\thighlight = true;\r\n\t\t}\r\n\r\n\t\tvar arr = [];\r\n\r\n\t\teach(function(obj) { // M.each\r\n\t\t\tif (!obj.disabled && (!except || !obj.$except(except)) && obj.$valid === false && !obj.$valid_disabled)\r\n\t\t\t\tarr.push(obj);\r\n\t\t}, pathmaker(path));\r\n\r\n\t\thighlight && langx.state(arr, 1, 1);\r\n\t\treturn arr;\r\n\t}\r\n\r\n\treturn jc.views = {\r\n\t\tcomponents,\r\n\t\tchanged : changed,\r\n\t\tchange : change,\r\n\t\tcleaner,\r\n\t\tcleaner2,\r\n\t\tdefault2,\r\n\t\teach,\r\n\t\tfind,\r\n\t\trefresh,\r\n\t\treset,\r\n\t\tsetter,\r\n\t\tusage,\r\n\t\tversion\r\n\t};\r\n\r\n});"]}