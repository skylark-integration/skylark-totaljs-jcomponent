/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-totaljs-jcomponent/
 * @license MIT
 */
define(["skylark-utils-dom/query","./jc","./langx","./caches"],function(t,n,r,i){MD.devices={xs:{max:768},sm:{min:768,max:992},md:{min:992,max:1200},lg:{min:1200}};var e=0,s=[];function o(){if(s&&s.length)for(var t=W.orientation?90===Math.abs(W.orientation)?"landscape":"portrait":"",n=$(W),r=n.width(),i=n.height(),e=MD.devices,o=0,a=s.length;o<a;o++){var l=s[o],c=r,d=i;if(l.element&&(c=l.element.width(),d=l.element.height()),l.orientation){if(!t&&"portrait"!==l.orientation)continue;if(t!==l.orientation)continue}if(!(l.minW&&l.minW>=c)&&(!(l.maxW&&l.maxW<=c)&&!(l.minH&&l.minH>=d)&&!(l.maxH&&l.maxH<=d)&&(l.oldW!==c||l.oldH===d||l.maxH||l.minH)&&(l.oldH!==d||l.oldW===c||l.maxW||l.minW)&&(l.oldW!==c||l.oldH!==d))){var h=null;c>=e.md.min&&c<=e.md.max?h="md":c>=e.sm.min&&c<=e.sm.max?h="sm":c>e.lg.min?h="lg":c<=e.xs.max&&(h="xs"),l.oldW=c,l.oldH=d,l.fn(c,d,h,l.id)}}}function a(){var t=$(window);W.WW=t.width(),W.WH=t.height(),o()}return W.KEYPRESS=function(t,n,i){n||(n=300);var e=t.toString(),s=e.length-20;s<0&&(s=0);var o=i||r.hashCode(e.substring(0,20)+"X"+e.substring(s))+"_keypress";r.setTimeout2(o,t,n)},$.fn.aclass=function(t){return this.addClass(t)},$.fn.rclass=function(t){return null==t?this.removeClass():this.removeClass(t)},$.fn.rattr=function(t){return this.removeAttr(t)},$.fn.rattrd=function(t){return this.removeAttr("data-"+t)},$.fn.rclass2=function(t){for(var n=(this.attr("class")||"").split(" "),r=typeof t===TYPE_O,i=0,e=n.length;i<e;i++){var s=n[i];s&&(r?t.test(s)&&this.rclass(s):-1!==s.indexOf(t)&&this.rclass(s))}return this},$.fn.hclass=function(t){return this.hasClass(t)},$.fn.tclass=function(t,n){return this.toggleClass(t,n)},$.fn.attrd=function(t,n){return t="data-"+t,null==n?this.attr(t):this.attr(t,n)},$.fn.asvg=function(t){if(-1===t.indexOf("<")){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return this.append(n),$(n)}var r=document.createElementNS("http://www.w3.org/1999/xhtml","div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var i=document.createDocumentFragment();r.firstChild.firstChild;)i.appendChild(r.firstChild.firstChild);return i=$(i),this.append(i),i},$.fn.psvg=function(t){if(-1===t.indexOf("<")){var n=document.createElementNS("http://www.w3.org/2000/svg",t);return this.prepend(n),$(n)}var r=document.createElementNS("http://www.w3.org/1999/xhtml","div");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>";for(var i=document.createDocumentFragment();r.firstChild.firstChild;)i.appendChild(r.firstChild.firstChild);return i=$(i),this.prepend(i),i},$.fn.rescroll=function(t,n){return this.each(function(){var r=this;if(r.scrollIntoView(!0),t)for(var i=0;r&&0==r.scrollTop&&i++<25;)if((r=r.parentNode)&&r.scrollTop){var e=r.scrollTop+t;return 0!=n&&r.scrollTop+r.getBoundingClientRect().height>=r.scrollHeight?void(r.scrollTop=r.scrollHeight):void(r.scrollTop=e)}}),this},$.components=M,setInterval(function(){r.now(!0);for(var t=M.components,n=0,i=t.length;n<i;n++)t[n].knockknock&&t[n].knockknock(e);EMIT("knockknock",e++)},6e4),a(),$(window).on("resize",a),n.domx={mediaquery:o,importscripts:function(t){for(var n,i=-1,e=t,s=[];-1!==(i=t.indexOf("<script",i));){var o=t.indexOf("<\/script>",i+8),a=t.substring(i,o+9);if(i=o+9,o=a.indexOf(">"),(-1===(n=a.substring(0,o)).indexOf("type=")||-1!==n.lastIndexOf("javascript"))&&!a.substring(o+1,a.length-9).trim()){e=e.replace(a,"").trim();var l="external"+r.hashCode(a);statics[l]||(s.push(a),statics[l]=!0)}}return s.length&&$("head").append(s.join("\n")),e}}});
//# sourceMappingURL=sourcemaps/domx.js.map
