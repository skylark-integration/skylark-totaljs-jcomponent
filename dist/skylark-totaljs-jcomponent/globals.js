/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylarkui/skylark-totaljs-jcomponent/
 * @license MIT
 */
define(["./jc","./defaults","./langx","./utils","./plugins","./components","./binding","./stores","./views"],function(n,t,e,r,o,i,u,c,a){var E=r.query;E.fn.scope=function(){if(!this.length)return null;var n=this[0].$scopedata;if(n)return n;var t=this.closest("["+ATTRSCOPE+"]");return t.length&&(n=t[0].$scopedata)?n:null};var s=Window,f=new a.View(document.body,{store:new c.Store({data:s})}),T=f.storing,l=(f.helper,f.composer),A=(f.compiler,f.eventer);E.components=f.components,e.mixin(s,{isPRIVATEMODE:!1,isMOBILE:/Mobi/.test(navigator.userAgent),isROBOT:!navigator.userAgent||/search|agent|bot|crawler|spider/i.test(navigator.userAgent),isSTANDALONE:navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,isTOUCH:!!("ontouchstart"in window||navigator.maxTouchPoints)});r.blocks;var p,C=r.cache,m=r.cookies,d=r.domx;return env=r.env,http=r.http,localStorage=r.localStorage,logs=r.logs,e.mixin(s,{AJAXCONFIG:http.configure,AJAX:http.ajax,AJAXCACHE:http.ajaxCache,AJAXCACHEREVIEW:http.ajaxCacheReview,clearTimeout2:e.clearTimeout2,CACHE:C.put,CLEARCACHE:C.clear,CLEARSCHEDULE:schedulers.clear,CLONE:e.clone,COOKIES:m,COPY:e.copy,CSS:d.style,DEF:{},EMPTYARRAY:e.empties.array,EMPTYOBJECT:e.empties.object,GUID:e.guid,HASH:e.hashCode,IMPORTCACHE:http.importCache,IMPORT:http.import,MAKEPARAMS:http.makeParams,MEDIAQUERY:d.watchMedia,NOOP:e.empties.fn,PING:http.ping,READPARAMS:http.parseQuery,REMOVECACHE:C.remove,PARSE:e.parse,setTimeout2:e.setTimeout2,SCHEDULE:schedulers.schedule,SCROLLBARWIDTH:d.scrollbarWidth,SINGLETON:e.singleton,STRINGIFY:e.stringify,STYLE:d.style,UPLOAD:http.upload,UPTODATE:http.uptodate,WAIT:e.wait,ERRORS:paths.errors,WARN:logs.warn,WIDTH:d.mediaWidth,FN:e.arrowFn}),e.mixin(s,{PLUGIN:o.register,PLUGINS:o.registry}),s.ADD=f.add,s.BLOCKED=blocking.blocked,s.CACHEPATH=function(n,t,e){return T.cache(n,t,e)},s.CHANGE=function(n,t){return T.change(n.value)},s.CHANGED=function(n){return T.change(n)},s.COMPILE=function(n){return clearTimeout(p),compiler.compile(n)},s.COMPONENT=components.register,s.COMPONENT_CONFIG=components.configer,s.COMPONENT_EXTEND=components.extend,s.CREATE=function(n){return T.create(n)},s.DEFAULT=function(n,t,e){var r=n.split(/_{2,}/);if(r.length>1){var o=r[1],i=(n=r[0]).indexOf(".*");-1!==i&&(n=n.substring(0,i)),SET(n,new Function("return "+o)(),t>10?t:3,t>10?3:null)}return T.default(r[0],t,null,e)},s.EMIT=function(n){return A.emit.apply(T,arguments)},s.EXTEND=function(n,t,e,r){var o=typeof e;return"boolean"===o?T.extend(n,t,e):!e||e<10||"number"!==o?T.extend(n,t,e):(setTimeout(function(){T.extend(n,t,r)},e),s)},s.EXTEND2=function(n,t,e){return s.EXTEND(n,t,e),CHANGE(n),s},s.EVALUATE=function(n,t,e){return T.evaluate(n,t,e)},s.FIND=function(n,t,e,r){return l.find(n,t,e,r)},s.FREE=function(n){return e.setTimeout2("$clean",cleaner,n||10),s},s.GET=function(n,t){return n=pathmaker(n),!0===t&&(t=null,RESET(n,!0)),T.get(n,t)},s.GETR=function(n){return GET(n,!0)},s.INC=function(n,t,e,r){null==t&&(t=1);var o=typeof e;return"boolean"===o?T.inc(n,t,e):!e||e<10||"number"!==o?T.inc(n,t,e):(setTimeout(function(){T.inc(n,t,r)},e),s)},s.INC2=function(n,t,e){return INC(n,t,e),CHANGE(n),s},s.LASTMODIFICATION=s.USAGE=function(n,t,e,r){return l.usage(n,t,e,r)},s.MAKE=function(n,t,e){return T.make(n,t,e)},s.MODIFIED=function(n){return T.modified(n)},s.NOTMODIFIED=function(n,t,e){},s.MODIFY=function(n,t,e){return T.modify(n,t,e),s},s.NOTIFY=function(){return l.notify.apply(l,arguments),s},s.OFF=function(n,t,e){return A.off(n,t,e)},s.ON=function(n,t,e,r,o){return A.on(n,t,e,r,o)},s.OPT=function(n,t){return e.isFunction(n)&&(t=n,n={}),t.call(n,function(t,e){return T.set2(n,t,e)}),n},s.PUSH=function(n,t,e,r){var o=typeof e;return"boolean"===o?T.push(n,t,e):!e||e<10||"number"!==o?T.push(n,t,e):(setTimeout(function(){T.push(n,t,r)},e),s)},s.PUSH2=function(n,t,e){return PUSH(n,t,e),CHANGE(n),s},s.RECOMPILE=function(){p&&clearTimeout(p),p=setTimeout(function(){COMPILE(),p=null},700)},s.REMOVECACHE=C.remove,s.RESET=function(n,t,e){return T.reset(n,t,e)},s.REWRITE=function(n,t,e){return T.rewrite(n,t,e)},s.SET=function(n,t,e,r){var o=typeof e;return"boolean"===o?T.setx(n,t,e):!e||e<10||"number"!==o?T.setx(n,t,e):(setTimeout(function(){T.setx(n,t,r)},e),s)},s.SET2=function(n,t,e){return SET(n,t,e),CHANGE(n),s},s.SETR=function(n,t,e){return T.setx(n,t,e),RESET(n),s},s.SKIP=function(){return T.skip.apply(f,arguments)},s.TOGGLE=function(n,t,e){var r=GET(n);return SET(n,!r,t,e),s},s.TOGGLE2=function(n,t){return TOGGLE(n,t),CHANGE(n),s},s.UNWATCH=function(n,t){return T.unwatch(n,t)},s.UPDATE=function(n,t,e){var r=typeof t;return"boolean"===r?T.update(n,t):!t||t<10||"number"!==r?T.update(n,e,t):void setTimeout(function(){T.update(n,e)},t)},s.UPDATE2=function(n,t){return UPDATE(n,t),CHANGE(n),s},s.UPTODATE=function(n,t,r,o){e.isFunction(t)&&(o=r,r=t,t="");var i=(new Date).add(n);topic.on("knockknock",function(){if(!(i>e.now())&&o&&o()){var n=setTimeout(function(){var n=window.location;t?n.href=t.$env():n.reload(!0)},5e3);r&&r(n)}})},s.VBIND=u.vbind,s.VBINDARRAY=u.vbindArray,s.VALIDATE=function(n,t){return l.validate(n,t)},s.VERSION=components.version,s.WATCH=function(n,t,e){return A.watch(n,t,e)},s});
//# sourceMappingURL=sourcemaps/globals.js.map
