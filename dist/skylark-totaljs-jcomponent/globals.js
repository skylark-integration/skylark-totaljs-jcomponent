/**
 * skylark-totaljs-jcomponent - A version of totaljs jcomponent that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-totaljs-jcomponent/
 * @license MIT
 */
define(["./jc","./langx","./utils","./components","./binding","./stores","./views","./others/schedulers","./others/transforms"],function(n,t,e,r,i,o,u,a,c){var E=e.query,s=e.blocks,f=e.storage,T=e.cookies,l=e.domx;return envs=e.envs,localStorage=e.localStorage,logs=e.logs,W=window,inited=!1,function(){if(inited)return W;W.W=window,W.FUNC={},Object.defineProperty(W,"WH",{get:function(){return E(W).height()}}),Object.defineProperty(W,"WW",{get:function(){return E(W).width()}}),Object.defineProperty(W,"NOW",{get:function(){return t.now()}}),E.fn.scope=function(){if(!this.length)return null;var n=this[0].$scopedata;if(n)return n;var t=this.closest("["+ATTRSCOPE+"]");return t.length&&(n=t[0].$scopedata)?n:null},E.fn.vbindarray=function(){return l.findinstance(this,"$vbindarray")},E.fn.vbind=function(){return l.findinstance(this,"$vbind")};var n,e=new u.View(document.body,{store:new o.Store({data:W})}),c=e.storing,A=(e.helper,e.componenter),d=e.compiler,C=e.eventer,p=e.http,O=e.binding,m=e.plugins;return e.start(),E.components=e.components,t.mixin(W,{isPRIVATEMODE:!1,isMOBILE:/Mobi/.test(navigator.userAgent),isROBOT:!navigator.userAgent||/search|agent|bot|crawler|spider/i.test(navigator.userAgent),isSTANDALONE:navigator.standalone||window.matchMedia("(display-mode: standalone)").matches,isTOUCH:!!("ontouchstart"in window||navigator.maxTouchPoints)}),t.each({MONTHS:"months",DAYS:"days"},function(n,t){Object.defineProperty(W,n,{get:()=>Date[t],set(n){Date[t]=n}})}),t.mixin(W,{AJAXCONFIG:p.configure,AJAXCACHE:p.ajaxCache,AJAXCACHEREVIEW:p.ajaxCacheReview,clearTimeout2:t.clearTimeout2,CACHE:f,CLEARCACHE:f.clear,CLEARSCHEDULE:a.clear,CLONE:t.clone,ENV:envs.variant,COOKIES:T,COPY:t.copy,CSS:l.style,DEF:{},EMPTYARRAY:t.empties.array,EMPTYOBJECT:t.empties.object,GUID:t.guid,HASH:t.hashCode,LCOMPARER:t.localCompare,IMPORTCACHE:p.importCache,IMPORT:p.import,MAKEPARAMS:p.makeParams,MEDIAQUERY:l.watchMedia,NOOP:t.empties.fn,PING:p.ping,READPARAMS:p.parseQuery,REMOVECACHE:f.remove,PARSE:t.parse,setTimeout2:t.setTimeout2,SCHEDULE:a.schedule,SCROLLBARWIDTH:l.scrollbarWidth,SINGLETON:t.singleton,STRINGIFY:t.stringify,STYLE:l.style,UPLOAD:p.upload,UPTODATE:p.uptodate,WAIT:c.wait,WARN:logs.warn,WIDTH:l.mediaWidth,FN:t.arrowFn}),t.mixin(W,{PLUGIN:m.register,PLUGINS:m.registry}),W.ADD=e.add,W.AJAX=function(n,e,r,i){if(t.isFunction(n)&&(i=r,r=e,e=n,n=location.pathname),r||!t.isFunction(e)&&!t.isString(e)||(i=r,r=e,e=void 0),t.isString(r)){var o=r;r=function(n){return c.remap(o,n)}}return p.ajax(n,e,r,i)},W.BIND=function(n){return c.bind(n)},W.BLOCKED=s.blocked,W.CACHEPATH=function(n,t,e){return c.cache(n,t,e)},W.CAN=function(){return c.can.apply(c,arguments)},W.CHANGE=function(n,t){return c.change(n.value)},W.CHANGED=function(n){return c.change(n)},W.COMPILE=function(t){return clearTimeout(n),d.compile(t)},W.COMPONENT=r.register,W.COMPONENT_CONFIG=r.configer,W.COMPONENT_EXTEND=r.extend,W.CREATE=function(n){return c.create(n)},W.DEFAULT=function(n,t,e){var r=n.split(/_{2,}/);if(r.length>1){var i=r[1],o=(n=r[0]).indexOf(".*");-1!==o&&(n=n.substring(0,o)),SET(n,new Function("return "+i)(),t>10?t:3,t>10?3:null)}return c.default(r[0],t,null,e)},W.DISABLED=function(){return c.disabled.apply(c,arguments)},W.EMIT=function(n){return C.emit.apply(C,arguments)},W.ERRORS=function(n,t,e){return c.errors(n,t,e)},W.EXEC=function(n){return c.exec.apply(c,arguments)},W.EXTEND=function(n,t,e,r){var i=typeof e;return"boolean"===i?c.extend(n,t,e):!e||e<10||"number"!==i?c.extend(n,t,e):(setTimeout(function(){c.extend(n,t,r)},e),W)},W.EXTEND2=function(n,t,e){return W.EXTEND(n,t,e),CHANGE(n),W},W.EVALUATE=function(n,t,e){return c.evaluate(n,t,e)},W.FIND=function(n,t,e,r){return A.find(n,t,e,r)},W.FREE=function(n){return t.setTimeout2("$clean",cleaner,n||10),W},W.GET=function(n,t){return n=O.pathmaker(n),!0===t&&(t=null,RESET(n,!0)),c.get(n,t)},W.GETR=function(n){return GET(n,!0)},W.INC=function(n,t,e,r){null==t&&(t=1);var i=typeof e;return"boolean"===i?c.inc(n,t,e):!e||e<10||"number"!==i?c.inc(n,t,e):(setTimeout(function(){c.inc(n,t,r)},e),W)},W.INC2=function(n,t,e){return INC(n,t,e),CHANGE(n),W},W.LASTMODIFICATION=W.USAGE=function(n,t,e,r){return A.usage(n,t,e,r)},W.MAKE=function(n,t,e){return c.make(n,t,e)},W.MODIFIED=function(n){return c.modified(n)},W.NOTMODIFIED=function(n,t,e){},W.MODIFY=function(n,t,e){return c.modify(n,t,e),W},W.NOTIFY=function(){return A.notify.apply(A,arguments),W},W.OFF=function(n,t,e){return C.off(n,t,e)},W.ON=function(n,t,e,r,i){return C.on(n,t,e,r,i)},W.OPT=function(n,e){return t.isFunction(n)&&(e=n,n={}),e.call(n,function(t,e){return c.set2(n,t,e)}),n},W.PUSH=function(n,t,e,r){var i=typeof e;return"boolean"===i?c.push(n,t,e):!e||e<10||"number"!==i?c.push(n,t,e):(setTimeout(function(){c.push(n,t,r)},e),W)},W.PUSH2=function(n,t,e){return PUSH(n,t,e),CHANGE(n),W},W.RECOMPILE=function(){n&&clearTimeout(n),n=setTimeout(function(){COMPILE(),n=null},700)},W.REMOVECACHE=f.remove,W.RESET=function(n,t,e){return c.reset(n,t,e)},W.REWRITE=function(n,t,e){return c.rewrite(n,t,e)},W.SET=function(n,t,e,r){var i=typeof e;return"boolean"===i?c.setx(n,t,e):!e||e<10||"number"!==i?c.setx(n,t,e):(setTimeout(function(){c.setx(n,t,r)},e),W)},W.SEEX=function(n,t,e,r,i){-1===n.indexOf(".")?EXEC(n,t,e,r,i):SET(n,t)},W.SET2=function(n,t,e){return SET(n,t,e),CHANGE(n),W},W.SETR=function(n,t,e){return c.setx(n,t,e),RESET(n),W},W.SETTER=function(){return A.setter.apply(A,arguments)},W.SKIP=function(){return c.skipInc.apply(c,arguments)},W.TOGGLE=function(n,t,e){var r=GET(n);return SET(n,!r,t,e),W},W.TOGGLE2=function(n,t){return TOGGLE(n,t),CHANGE(n),W},W.UNWATCH=function(n,t){return c.unwatch(n,t)},W.UPDATE=function(n,t,e){var r=typeof t;return"boolean"===r?c.update(n,t):!t||t<10||"number"!==r?c.update(n,e,t):void setTimeout(function(){c.update(n,e)},t)},W.UPDATE2=function(n,t){return UPDATE(n,t),CHANGE(n),W},W.UPTODATE=function(n,e,r,i){t.isFunction(e)&&(i=r,r=e,e="");var o=(new Date).add(n);topic.on("knockknock",function(){if(!(o>t.now())&&i&&i()){var n=setTimeout(function(){var n=window.location;e?n.href=e.$env():n.reload(!0)},5e3);r&&r(n)}})},W.VBIND=i.vbind,W.VBINDARRAY=i.vbindArray,W.VALIDATE=function(n,t){return A.validate(n,t)},W.VERSION=r.versions.set,W.WATCH=function(n,t,e){return C.watch(n,t,e)},inited=!0,W}});
//# sourceMappingURL=sourcemaps/globals.js.map
